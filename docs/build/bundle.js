!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,a;function l(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function c(e){const t={};for(const n in e)t[n]=!0;return t}function u(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function f(){return m(" ")}function b(){return m("")}function v(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:w(e,t,n)}function _(e,t){t=""+t,e.data!==t&&(e.data=t)}function k(e){const t={};for(const n of e)t[n.name]=n.value;return t}function x(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}function $(e){a=e}function T(e){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_mount.push(e)}new Set,new Map;const S=[],C=[];let A=[];const E=[],O=Promise.resolve();let R=!1;function P(e){A.push(e)}const j=new Set;let M=0;function I(){if(0!==M)return;const e=a;do{try{for(;M<S.length;){const e=S[M];M++,$(e),D(e.$$)}}catch(e){throw S.length=0,M=0,e}for($(null),S.length=0,M=0;C.length;)C.pop()();for(let e=0;e<A.length;e+=1){const t=A[e];j.has(t)||(j.add(t),t())}A.length=0}while(S.length);for(;E.length;)E.pop()();R=!1,j.clear(),$(e)}function D(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const H=new Set;function N(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];A.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),A=t}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function L(e,t){-1===e.$$.dirty[0]&&(S.push(e),R||(R=!0,O.then(I)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function U(s,i,l,c,u,d,h,g=[-1]){const m=a;$(s);const f=s.$$={fragment:null,ctx:[],props:d,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(m?m.$$.context:[])),callbacks:n(),dirty:g,skip_bound:!1,root:i.target||m.$$.root};h&&h(f.root);let b=!1;if(f.ctx=l?l(s,i.props||{},((e,t,...n)=>{const r=n.length?n[0]:t;return f.ctx&&u(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),b&&L(s,e)),t})):[],f.update(),b=!0,r(f.before_update),f.fragment=!!c&&c(f.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);f.fragment&&f.fragment.l(e),e.forEach(p)}else f.fragment&&f.fragment.c();i.intro&&function(e,t){e&&e.i&&(H.delete(e),e.i(t))}(s.$$.fragment),function(e,n,s,i){const{fragment:a,after_update:l}=e.$$;a&&a.m(n,s),i||P((()=>{const n=e.$$.on_mount.map(t).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...n):r(n),e.$$.on_mount=[]})),l.forEach(P)}(s,i.target,i.anchor,i.customElement),I()}$(m)}let F;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(F=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(t).filter(o);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){N(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function B(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var W={},V={};Object.defineProperty(V,"__esModule",{value:!0}),V.endpoints=void 0,V.endpoints={authUrl:"Account/Login",fakeAuthUrl:"Account/Test",dashboard:"Dashboard",adminDashboard:"Dashboard/Admin",permission:"Permission",app:"App",translation:"Translation",translationKey:"TranslationKey",translationReport:"TranslationReport",translationImage:"TranslationImage",translationKeySearchDropdown:"translationKey/SearchDropdown",translationStatLeaderboard:"translationStats/TranslatorLeaderboard",user:"User",language:"Language",userActivity:"UserActivity",cache:"Cache",version:"Version",donation:"Donation",redisCache:"Cache/Redis",webhookMessages:"WebhookMessage",appReviews:"AppReview",translationSearch:"Translation/Search",translationSearchPerLanguage:"Translation/Graph/TranslationsPerLanguage",teamMember:"TeamMember",steam:"Steam",steamNews:"Steam/News",steamBranches:"Steam/Branches",licence:"Licence",licenceActivate:"Licence/Activate",licenceActivateForPatron:"Licence/ActivateForPatron",licenceVerify:"Licence/Verify",versionSendUpdateNotification:"Version/SendUpdateNotification",guideDetail:"GuideDetail",guideDetailSearchAdmin:"GuideDetail/SearchAdmin",appNotice:"AppNotice",feedbackForm:"Feedback",feedbackFormQuestion:"FeedbackQuestion",feedbackFormAnswer:"FeedbackAnswer",badge:"Badge",patreon:"Patreon",quickAction:"QuickAction",quickActionIndexes:"QuickAction/Indexes",contact:"Contact",oAuth:"OAuth"};var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.UserGuidHeaderKey=K.TokenExpiryHeaderKey=K.TokenHeaderKey=void 0,K.TokenHeaderKey="Token",K.TokenExpiryHeaderKey="TokenExpiry",K.UserGuidHeaderKey="UserGuid";var G,J,Q,Z={};G=Z,Object.defineProperty(G,"__esModule",{value:!0}),G.SignalRReceiveEvent=G.SignalRSendEvent=void 0,(J=G.SignalRSendEvent||(G.SignalRSendEvent={}))[J.JoinOAuthGroup=0]="JoinOAuthGroup",J[J.LeaveOAuthGroup=1]="LeaveOAuthGroup",(Q=G.SignalRReceiveEvent||(G.SignalRReceiveEvent={}))[Q.OAuthComplete=0]="OAuthComplete";var Y={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.AdminApprovalStatus=void 0,(t=e.AdminApprovalStatus||(e.AdminApprovalStatus={}))[t.pending=0]="pending",t[t.inReview=1]="inReview",t[t.denied=2]="denied",t[t.approved=3]="approved",t[t.cancelled=4]="cancelled"}(Y);var X={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.AppRatingType=void 0,(t=e.AppRatingType||(e.AppRatingType={}))[t.all=0]="all",t[t.googlePlayStore=1]="googlePlayStore",t[t.appleAppStore=2]="appleAppStore"}(X);var ee={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.AppType=void 0,(t=e.AppType||(e.AppType={}))[t.unknown=0]="unknown",t[t.nms=1]="nms",t[t.sms=2]="sms",t[t.hyt=3]="hyt",t[t.dkm=4]="dkm"}(ee);var te={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.CacheType=void 0,(t=e.CacheType||(e.CacheType={}))[t.patreons=0]="patreons",t[t.dashboard=1]="dashboard",t[t.dashboardLoggedIn=2]="dashboardLoggedIn",t[t.guideSearch=3]="guideSearch",t[t.donation=4]="donation",t[t.version=5]="version",t[t.guideContent=6]="guideContent",t[t.appReview=7]="appReview",t[t.steamNews=8]="steamNews",t[t.steamBranches=9]="steamBranches",t[t.emojiLeaderboard=10]="emojiLeaderboard",t[t.kurtBlogRss=11]="kurtBlogRss",t[t.kurtIsLive=12]="kurtIsLive",t[t.teamMembers=13]="teamMembers",t[t.translators=14]="translators",t[t.translatorLeaderboard=15]="translatorLeaderboard",t[t.badges=16]="badges",t[t.exportLang=17]="exportLang",t[t.translationsGraph=18]="translationsGraph",t[t.twitchUserImg=19]="twitchUserImg",t[t.twitchUserData=20]="twitchUserData",t[t.patreonLogin=21]="patreonLogin",t[t.appNotice=22]="appNotice",t[t.feedbackForm=23]="feedbackForm"}(te);var ne={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseEventType=void 0,(t=e.CoinbaseEventType||(e.CoinbaseEventType={}))[t.unknown=0]="unknown",t[t.chargeCreationPending=1]="chargeCreationPending",t[t.chargeCreated=2]="chargeCreated",t[t.chargeFailed=3]="chargeFailed",t[t.chargeConfirmed=4]="chargeConfirmed"}(ne);var re={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DashboardItemType=void 0,(t=e.DashboardItemType||(e.DashboardItemType={}))[t.numberOfApps=0]="numberOfApps",t[t.numberOfTranslationKeys=1]="numberOfTranslationKeys",t[t.numberOfTranslationKeysPerApp=2]="numberOfTranslationKeysPerApp",t[t.numberOfTranslationSubmissions=3]="numberOfTranslationSubmissions",t[t.numberOfTranslationVotes=4]="numberOfTranslationVotes",t[t.numberOfSupportedLanguages=5]="numberOfSupportedLanguages",t[t.numberOfDonations=6]="numberOfDonations",t[t.totalDonationAmount=7]="totalDonationAmount",t[t.numberOfLiveGuides=8]="numberOfLiveGuides",t[t.numberOfLiveGuidesPerApp=9]="numberOfLiveGuidesPerApp",t[t.numberOfGuidesPending=10]="numberOfGuidesPending",t[t.numberOfGuidesInReview=11]="numberOfGuidesInReview"}(re);var oe={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DonationType=void 0,(t=e.DonationType||(e.DonationType={}))[t.unknown=0]="unknown",t[t.paypal=1]="paypal",t[t.braveRewards=2]="braveRewards",t[t.buyMeACoffee=3]="buyMeACoffee",t[t.koFi=4]="koFi",t[t.patreon=5]="patreon",t[t.googlePay=6]="googlePay",t[t.applePay=7]="applePay",t[t.openCollective=8]="openCollective"}(oe);var se={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.FeedbackCategory=void 0,(t=e.FeedbackCategory||(e.FeedbackCategory={}))[t.isVisible=0]="isVisible",t[t.hidden=1]="hidden",t[t.featureRequest=2]="featureRequest",t[t.bugReport=3]="bugReport",t[t.offTopic=4]="offTopic"}(se);var ie={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.FeedbackQuestionType=void 0,(t=e.FeedbackQuestionType||(e.FeedbackQuestionType={}))[t.plainText=0]="plainText",t[t.yesNo=1]="yesNo",t[t.yesNoUnknown=2]="yesNoUnknown",t[t.fiveStar=3]="fiveStar"}(ie);var ae={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.GuideSectionItemType=void 0,(t=e.GuideSectionItemType||(e.GuideSectionItemType={}))[t.text=0]="text",t[t.link=1]="link",t[t.image=2]="image",t[t.markdown=3]="markdown",t[t.table=4]="table"}(ae);var le={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.OAuthProviderType=void 0,(t=e.OAuthProviderType||(e.OAuthProviderType={}))[t.unknown=0]="unknown",t[t.google=1]="google"}(le);var ce={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.PermissionType=void 0,(t=e.PermissionType||(e.PermissionType={}))[t.none=0]="none",t[t.usersView=1]="usersView",t[t.usersManage=2]="usersManage",t[t.userPermissionsView=3]="userPermissionsView",t[t.userPermissionsManage=4]="userPermissionsManage",t[t.appView=5]="appView",t[t.appManage=6]="appManage",t[t.translationView=7]="translationView",t[t.translationManage=8]="translationManage",t[t.translationKeyView=9]="translationKeyView",t[t.translationKeyManage=10]="translationKeyManage",t[t.hangfireDashboardView=11]="hangfireDashboardView",t[t.hangfireDashboardManage=12]="hangfireDashboardManage",t[t.languageView=13]="languageView",t[t.languageManage=14]="languageManage",t[t.cacheView=15]="cacheView",t[t.cacheManage=16]="cacheManage",t[t.guideSubmissionView=17]="guideSubmissionView",t[t.guideSubmissionManage=18]="guideSubmissionManage",t[t.versionView=19]="versionView",t[t.versionManage=20]="versionManage",t[t.donationView=21]="donationView",t[t.donationManage=22]="donationManage",t[t.steamBranchManage=23]="steamBranchManage",t[t.teamMemberView=24]="teamMemberView",t[t.teamMemberManage=25]="teamMemberManage",t[t.translationReportView=26]="translationReportView",t[t.translationReportManage=27]="translationReportManage",t[t.licenceView=28]="licenceView",t[t.licenceManage=29]="licenceManage",t[t.appNoticeView=30]="appNoticeView",t[t.appNoticeManage=31]="appNoticeManage",t[t.feedbackFormView=32]="feedbackFormView",t[t.feedbackFormManage=33]="feedbackFormManage",t[t.translationSubmissionView=34]="translationSubmissionView",t[t.databaseMaintenance=35]="databaseMaintenance"}(ce);var ue={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformType=void 0,(t=e.PlatformType||(e.PlatformType={}))[t.android=0]="android",t[t.iOS=1]="iOS",t[t.web=2]="web",t[t.api=3]="api",t[t.windows=4]="windows",t[t.githubWindowsInstaller=5]="githubWindowsInstaller"}(ue);var de={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RedisCacheType=void 0,(t=e.RedisCacheType||(e.RedisCacheType={}))[t.appRatingSummary=0]="appRatingSummary",t[t.appRatingGooglePlay=1]="appRatingGooglePlay",t[t.appRatingAppleAppStore=2]="appRatingAppleAppStore",t[t.patreonList=3]="patreonList",t[t.steamNews=4]="steamNews",t[t.steamBranches=5]="steamBranches",t[t.twitchAuthToken=6]="twitchAuthToken"}(de);var pe={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RequestBodyMapperType=void 0,(t=e.RequestBodyMapperType||(e.RequestBodyMapperType={}))[t.unknown=0]="unknown",t[t.guide=1]="guide",t[t.version=2]="version"}(pe);var he={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SignalRServerType=void 0,(t=e.SignalRServerType||(e.SignalRServerType={}))[t.oAuthComplete=0]="oAuthComplete"}(he);var ge={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SortDirection=void 0,(t=e.SortDirection||(e.SortDirection={}))[t.none=0]="none",t[t.asc=1]="asc",t[t.desc=2]="desc"}(ge);var me={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TranslationReportStatus=void 0,(t=e.TranslationReportStatus||(e.TranslationReportStatus={}))[t.pending=0]="pending",t[t.closed=1]="closed",t[t.resolved=2]="resolved"}(me);var fe={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.UserActivityActionType=void 0,(t=e.UserActivityActionType||(e.UserActivityActionType={}))[t.unknown=0]="unknown",t[t.create=1]="create",t[t.read=2]="read",t[t.update=3]="update",t[t.delete=4]="delete"}(fe);var be={},ve={};function we(e,t){return function(){return e.apply(t,arguments)}}const{toString:ye}=Object.prototype,{getPrototypeOf:_e}=Object,ke=(e=>t=>{const n=ye.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xe=e=>(e=e.toLowerCase(),t=>ke(t)===e),$e=e=>t=>typeof t===e,{isArray:Te}=Array,Se=$e("undefined");const Ce=xe("ArrayBuffer");const Ae=$e("string"),Ee=$e("function"),Oe=$e("number"),Re=e=>null!==e&&"object"==typeof e,Pe=e=>{if("object"!==ke(e))return!1;const t=_e(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},je=xe("Date"),Me=xe("File"),Ie=xe("Blob"),De=xe("FileList"),He=xe("URLSearchParams");function Ne(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),Te(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let i;for(r=0;r<s;r++)i=o[r],t.call(null,e[i],i,e)}}function Le(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const Ue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:z,Fe=e=>!Se(e)&&e!==Ue;const ze=(Be="undefined"!=typeof Uint8Array&&_e(Uint8Array),e=>Be&&e instanceof Be);var Be;const qe=xe("HTMLFormElement"),We=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ve=xe("RegExp"),Ke=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ne(n,((n,o)=>{!1!==t(n,o,e)&&(r[o]=n)})),Object.defineProperties(e,r)},Ge="abcdefghijklmnopqrstuvwxyz",Je="0123456789",Qe={DIGIT:Je,ALPHA:Ge,ALPHA_DIGIT:Ge+Ge.toUpperCase()+Je};const Ze=xe("AsyncFunction");var Ye={isArray:Te,isArrayBuffer:Ce,isBuffer:function(e){return null!==e&&!Se(e)&&null!==e.constructor&&!Se(e.constructor)&&Ee(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Ee(e.append)&&("formdata"===(t=ke(e))||"object"===t&&Ee(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ce(e.buffer),t},isString:Ae,isNumber:Oe,isBoolean:e=>!0===e||!1===e,isObject:Re,isPlainObject:Pe,isUndefined:Se,isDate:je,isFile:Me,isBlob:Ie,isRegExp:Ve,isFunction:Ee,isStream:e=>Re(e)&&Ee(e.pipe),isURLSearchParams:He,isTypedArray:ze,isFileList:De,forEach:Ne,merge:function e(){const{caseless:t}=Fe(this)&&this||{},n={},r=(r,o)=>{const s=t&&Le(n,o)||o;Pe(n[s])&&Pe(r)?n[s]=e(n[s],r):Pe(r)?n[s]=e({},r):Te(r)?n[s]=r.slice():n[s]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Ne(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(Ne(t,((t,r)=>{n&&Ee(t)?e[r]=we(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,s,i;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)i=o[s],r&&!r(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==n&&_e(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ke,kindOfTest:xe,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Te(e))return e;let t=e.length;if(!Oe(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:qe,hasOwnProperty:We,hasOwnProp:We,reduceDescriptors:Ke,freezeMethods:e=>{Ke(e,((t,n)=>{if(Ee(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ee(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Te(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Le,global:Ue,isContextDefined:Fe,ALPHABET:Qe,generateString:(e=16,t=Qe.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Ee(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Re(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=Te(e)?[]:{};return Ne(e,((e,t)=>{const s=n(e,r+1);!Se(s)&&(o[t]=s)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Ze,isThenable:e=>e&&(Re(e)||Ee(e))&&Ee(e.then)&&Ee(e.catch)};function Xe(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}Ye.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const et=Xe.prototype,tt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{tt[e]={value:e}})),Object.defineProperties(Xe,tt),Object.defineProperty(et,"isAxiosError",{value:!0}),Xe.from=(e,t,n,r,o,s)=>{const i=Object.create(et);return Ye.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Xe.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};function nt(e){return Ye.isPlainObject(e)||Ye.isArray(e)}function rt(e){return Ye.endsWith(e,"[]")?e.slice(0,-2):e}function ot(e,t,n){return e?e.concat(t).map((function(e,t){return e=rt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const st=Ye.toFlatObject(Ye,{},null,(function(e){return/^is[A-Z]/.test(e)}));function it(e,t,n){if(!Ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ye.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,s=n.dots,i=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Ye.isSpecCompliantForm(t);if(!Ye.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ye.isDate(e))return e.toISOString();if(!a&&Ye.isBlob(e))throw new Xe("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(e)||Ye.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let a=e;if(e&&!o&&"object"==typeof e)if(Ye.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ye.isArray(e)&&function(e){return Ye.isArray(e)&&!e.some(nt)}(e)||(Ye.isFileList(e)||Ye.endsWith(n,"[]"))&&(a=Ye.toArray(e)))return n=rt(n),a.forEach((function(e,r){!Ye.isUndefined(e)&&null!==e&&t.append(!0===i?ot([n],r,s):null===i?n:n+"[]",l(e))})),!1;return!!nt(e)||(t.append(ot(o,n,s),l(e)),!1)}const u=[],d=Object.assign(st,{defaultVisitor:c,convertValue:l,isVisitable:nt});if(!Ye.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ye.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Ye.forEach(n,(function(n,s){!0===(!(Ye.isUndefined(n)||null===n)&&o.call(t,n,Ye.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t}function at(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function lt(e,t){this._pairs=[],e&&it(e,this,t)}const ct=lt.prototype;function ut(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dt(e,t,n){if(!t)return e;const r=n&&n.encode||ut,o=n&&n.serialize;let s;if(s=o?o(t,n):Ye.isURLSearchParams(t)?t.toString():new lt(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}ct.append=function(e,t){this._pairs.push([e,t])},ct.toString=function(e){const t=e?function(t){return e.call(this,t,at)}:at;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var pt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ye.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ht={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var gt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:lt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};function mt(e){function t(e,n,r,o){let s=e[o++];const i=Number.isFinite(+s),a=o>=e.length;if(s=!s&&Ye.isArray(r)?r.length:s,a)return Ye.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&Ye.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],o)&&Ye.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(Ye.isFormData(e)&&Ye.isFunction(e.entries)){const n={};return Ye.forEachEntry(e,((e,r)=>{t(function(e){return Ye.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const ft={"Content-Type":void 0};const bt={transitional:ht,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Ye.isObject(e);o&&Ye.isHTMLForm(e)&&(e=new FormData(e));if(Ye.isFormData(e))return r&&r?JSON.stringify(mt(e)):e;if(Ye.isArrayBuffer(e)||Ye.isBuffer(e)||Ye.isStream(e)||Ye.isFile(e)||Ye.isBlob(e))return e;if(Ye.isArrayBufferView(e))return e.buffer;if(Ye.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return it(e,new gt.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return gt.isNode&&Ye.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Ye.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return it(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ye.isString(e))try{return(t||JSON.parse)(e),Ye.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||bt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Ye.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Xe.from(e,Xe.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gt.classes.FormData,Blob:gt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ye.forEach(["delete","get","head"],(function(e){bt.headers[e]={}})),Ye.forEach(["post","put","patch"],(function(e){bt.headers[e]=Ye.merge(ft)}));var vt=bt;const wt=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const yt=Symbol("internals");function _t(e){return e&&String(e).trim().toLowerCase()}function kt(e){return!1===e||null==e?e:Ye.isArray(e)?e.map(kt):String(e)}function xt(e,t,n,r,o){return Ye.isFunction(r)?r.call(this,t,n):(o&&(t=n),Ye.isString(t)?Ye.isString(r)?-1!==t.indexOf(r):Ye.isRegExp(r)?r.test(t):void 0:void 0)}class $t{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=_t(t);if(!o)throw new Error("header name must be a non-empty string");const s=Ye.findKey(r,o);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=kt(e))}const s=(e,t)=>Ye.forEach(e,((e,n)=>o(e,n,t)));return Ye.isPlainObject(e)||e instanceof this.constructor?s(e,t):Ye.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&wt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=_t(e)){const n=Ye.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Ye.isFunction(t))return t.call(this,e,n);if(Ye.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_t(e)){const n=Ye.findKey(this,e);return!(!n||void 0===this[n]||t&&!xt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=_t(e)){const o=Ye.findKey(n,e);!o||t&&!xt(0,n[o],o,t)||(delete n[o],r=!0)}}return Ye.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!xt(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Ye.forEach(this,((r,o)=>{const s=Ye.findKey(n,o);if(s)return t[s]=kt(r),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();i!==o&&delete t[o],t[i]=kt(r),n[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ye.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Ye.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[yt]=this[yt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_t(e);t[r]||(!function(e,t){const n=Ye.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return Ye.isArray(e)?e.forEach(r):r(e),this}}$t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ye.freezeMethods($t.prototype),Ye.freezeMethods($t);var Tt=$t;function St(e,t){const n=this||vt,r=t||n,o=Tt.from(r.headers);let s=r.data;return Ye.forEach(e,(function(e){s=e.call(n,s,o.normalize(),t?t.status:void 0)})),o.normalize(),s}function Ct(e){return!(!e||!e.__CANCEL__)}function At(e,t,n){Xe.call(this,null==e?"canceled":e,Xe.ERR_CANCELED,t,n),this.name="CanceledError"}Ye.inherits(At,Xe,{__CANCEL__:!0});var Et=gt.isStandardBrowserEnv?{write:function(e,t,n,r,o,s){const i=[];i.push(e+"="+encodeURIComponent(t)),Ye.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),Ye.isString(r)&&i.push("path="+r),Ye.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Ot(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Rt=gt.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Ye.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Pt(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,s=0,i=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[i];o||(o=l),n[s]=a,r[s]=l;let u=i,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}}(50,250);return o=>{const s=o.loaded,i=o.lengthComputable?o.total:void 0,a=s-n,l=r(a);n=s;const c={loaded:s,total:i,progress:i?s/i:void 0,bytes:a,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}var jt="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const o=Tt.from(e.headers).normalize(),s=e.responseType;let i;function a(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}Ye.isFormData(r)&&(gt.isStandardBrowserEnv||gt.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}const c=Ot(e.baseURL,e.url);function u(){if(!l)return;const r=Tt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Xe("Request failed with status code "+n.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),a()}),(function(e){n(e),a()}),{data:s&&"text"!==s&&"json"!==s?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),dt(c,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new Xe("Request aborted",Xe.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new Xe("Network Error",Xe.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||ht;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Xe(t,r.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,e,l)),l=null},gt.isStandardBrowserEnv){const t=(e.withCredentials||Rt(c))&&e.xsrfCookieName&&Et.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in l&&Ye.forEach(o.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),Ye.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),s&&"json"!==s&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",Pt(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Pt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{l&&(n(!t||t.type?new At(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(c);d&&-1===gt.protocols.indexOf(d)?n(new Xe("Unsupported protocol "+d+":",Xe.ERR_BAD_REQUEST,e)):l.send(r||null)}))};const Mt={http:null,xhr:jt};Ye.forEach(Mt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var It=e=>{e=Ye.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let o=0;o<t&&(n=e[o],!(r=Ye.isString(n)?Mt[n.toLowerCase()]:n));o++);if(!r){if(!1===r)throw new Xe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(Ye.hasOwnProp(Mt,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!Ye.isFunction(r))throw new TypeError("adapter is not a function");return r};function Dt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new At(null,e)}function Ht(e){Dt(e),e.headers=Tt.from(e.headers),e.data=St.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return It(e.adapter||vt.adapter)(e).then((function(t){return Dt(e),t.data=St.call(e,e.transformResponse,t),t.headers=Tt.from(t.headers),t}),(function(t){return Ct(t)||(Dt(e),t&&t.response&&(t.response.data=St.call(e,e.transformResponse,t.response),t.response.headers=Tt.from(t.response.headers))),Promise.reject(t)}))}const Nt=e=>e instanceof Tt?e.toJSON():e;function Lt(e,t){t=t||{};const n={};function r(e,t,n){return Ye.isPlainObject(e)&&Ye.isPlainObject(t)?Ye.merge.call({caseless:n},e,t):Ye.isPlainObject(t)?Ye.merge({},t):Ye.isArray(t)?t.slice():t}function o(e,t,n){return Ye.isUndefined(t)?Ye.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!Ye.isUndefined(t))return r(void 0,t)}function i(e,t){return Ye.isUndefined(t)?Ye.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,o,s){return s in t?r(n,o):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t)=>o(Nt(e),Nt(t),!0)};return Ye.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||o,i=s(e[r],t[r],r);Ye.isUndefined(i)&&s!==a||(n[r]=i)})),n}const Ut="1.4.0",Ft={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ft[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const zt={};Ft.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,s)=>{if(!1===e)throw new Xe(r(o," has been removed"+(t?" in "+t:"")),Xe.ERR_DEPRECATED);return t&&!zt[o]&&(zt[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}};var Bt={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const s=r[o],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new Xe("option "+s+" must be "+n,Xe.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Xe("Unknown option "+s,Xe.ERR_BAD_OPTION)}},validators:Ft};const qt=Bt.validators;class Wt{constructor(e){this.defaults=e,this.interceptors={request:new pt,response:new pt}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Lt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;let s;void 0!==n&&Bt.assertOptions(n,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),null!=r&&(Ye.isFunction(r)?t.paramsSerializer={serialize:r}:Bt.assertOptions(r,{encode:qt.function,serialize:qt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),s=o&&Ye.merge(o.common,o[t.method]),s&&Ye.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=Tt.concat(s,o);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[Ht.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let p=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{p=e(p)}catch(e){t.call(this,e);break}}try{c=Ht.call(this,p)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return dt(Ot((e=Lt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Ye.forEach(["delete","get","head","options"],(function(e){Wt.prototype[e]=function(t,n){return this.request(Lt(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ye.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Lt(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Wt.prototype[e]=t(),Wt.prototype[e+"Form"]=t(!0)}));var Vt=Wt;class Kt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new At(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Kt((function(t){e=t})),cancel:e}}}var Gt=Kt;const Jt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jt).forEach((([e,t])=>{Jt[t]=e}));var Qt=Jt;const Zt=function e(t){const n=new Vt(t),r=we(Vt.prototype.request,n);return Ye.extend(r,Vt.prototype,n,{allOwnKeys:!0}),Ye.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Lt(t,n))},r}(vt);Zt.Axios=Vt,Zt.CanceledError=At,Zt.CancelToken=Gt,Zt.isCancel=Ct,Zt.VERSION=Ut,Zt.toFormData=it,Zt.AxiosError=Xe,Zt.Cancel=Zt.CanceledError,Zt.all=function(e){return Promise.all(e)},Zt.spread=function(e){return function(t){return e.apply(null,t)}},Zt.isAxiosError=function(e){return Ye.isObject(e)&&!0===e.isAxiosError},Zt.mergeConfig=Lt,Zt.AxiosHeaders=Tt,Zt.formToJSON=e=>mt(Ye.isHTMLForm(e)?new FormData(e):e),Zt.HttpStatusCode=Qt,Zt.default=Zt;var Yt=Zt,Xt={};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.anyObject=void 0,Xt.anyObject={};var en=z&&z.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))},tn=z&&z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ve,"__esModule",{value:!0}),ve.BaseApiService=void 0;const nn=tn(Yt),rn=Xt;ve.BaseApiService=class{constructor(e){this._baseUrl="https://api.assistantapps.com",this.addAccessTokenToHeaders=()=>rn.anyObject,this.formDataWithAccessTokenHeaders=()=>rn.anyObject,this._baseUrl=e}get(e,t,n){var r,o;return en(this,void 0,void 0,(function*(){let s=rn.anyObject;null!=t&&(s=Object.assign(Object.assign({},s),t()));try{const t=yield nn.default.get(`${this._baseUrl}/${e}`,s);return null!=n?n(t):{isSuccess:!0,value:t.data,errorMessage:""}}catch(e){return console.log("data",JSON.stringify(null!==(o=null===(r=null==e?void 0:e.response)||void 0===r?void 0:r.data)&&void 0!==o?o:rn.anyObject)),{isSuccess:!1,value:rn.anyObject,errorMessage:e.message}}}))}post(e,t,n,r){var o,s;return en(this,void 0,void 0,(function*(){let i=rn.anyObject;null!=n&&(i=Object.assign(Object.assign({},i),n()));try{const n=yield nn.default.post(`${this._baseUrl}/${e}`,t,i);return null!=r?r(n):{isSuccess:!0,value:n.data,errorMessage:""}}catch(e){return console.log("data",JSON.stringify(null!==(s=null===(o=null==e?void 0:e.response)||void 0===o?void 0:o.data)&&void 0!==s?s:rn.anyObject)),{isSuccess:!1,value:rn.anyObject,errorMessage:e.message}}}))}put(e,t,n,r){var o,s;return en(this,void 0,void 0,(function*(){let i=rn.anyObject;null!=n&&(i=Object.assign(Object.assign({},i),n()));try{const n=yield nn.default.put(`${this._baseUrl}/${e}`,t,i);return null!=r?r(n):{isSuccess:!0,value:n.data,errorMessage:""}}catch(e){return console.log("data",JSON.stringify(null!==(s=null===(o=null==e?void 0:e.response)||void 0===o?void 0:o.data)&&void 0!==s?s:rn.anyObject)),{isSuccess:!1,value:rn.anyObject,errorMessage:e.message}}}))}delete(e,t){var n,r;return en(this,void 0,void 0,(function*(){let o=rn.anyObject;null!=t&&(o=Object.assign(Object.assign({},o),t()));try{yield nn.default.delete(`${this._baseUrl}/${e}`,o);return{isSuccess:!0,errorMessage:""}}catch(e){return console.log("data",JSON.stringify(null!==(r=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)&&void 0!==r?r:rn.anyObject)),{isSuccess:!1,errorMessage:e.message}}}))}};var on={},sn={},an={exports:{}};an.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",s="minute",i="hour",a="day",l="week",c="month",u="quarter",d="year",p="date",h="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},b=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:b,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+b(r,2,"0")+":"+b(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,c),s=n-o<0,i=t.clone().add(r+(s?-1:1),c);return+(-(r+(n-o)/(s?o-i:i-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:a,D:p,h:i,m:s,s:o,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",y={};y[w]=f;var _=function(e){return e instanceof T},k=function e(t,n,r){var o;if(!t)return w;if("string"==typeof t){var s=t.toLowerCase();y[s]&&(o=s),n&&(y[s]=n,o=s);var i=t.split("-");if(!o&&i.length>1)return e(i[0])}else{var a=t.name;y[a]=t,o=a}return!r&&o&&(w=o),o||!r&&w},x=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},$=v;$.l=k,$.i=_,$.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function f(e){this.$L=k(e.locale,null,!0),this.parse(e)}var b=f.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if($.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(g);if(r){var o=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return $},b.isValid=function(){return!(this.$d.toString()===h)},b.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},b.isAfter=function(e,t){return x(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<x(e)},b.$g=function(e,t,n){return $.u(e)?this[t]:this.set(n,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var n=this,r=!!$.u(t)||t,u=$.p(e),h=function(e,t){var o=$.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(a)},g=function(e,t){return $.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,f=this.$M,b=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case d:return r?h(1,0):h(31,11);case c:return r?h(1,f):h(0,f+1);case l:var w=this.$locale().weekStart||0,y=(m<w?m+7:m)-w;return h(r?b-y:b+(6-y),f);case a:case p:return g(v+"Hours",0);case i:return g(v+"Minutes",1);case s:return g(v+"Seconds",2);case o:return g(v+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var n,l=$.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[a]=u+"Date",n[p]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[i]=u+"Hours",n[s]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],g=l===a?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(p,1);m.$d[h](g),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](g);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[$.p(e)]()},b.add=function(r,u){var p,h=this;r=Number(r);var g=$.p(u),m=function(e){var t=x(h);return $.w(t.date(t.date()+Math.round(e*r)),h)};if(g===c)return this.set(c,this.$M+r);if(g===d)return this.set(d,this.$y+r);if(g===a)return m(1);if(g===l)return m(7);var f=(p={},p[s]=t,p[i]=n,p[o]=e,p)[g]||1,b=this.$d.getTime()+r*f;return $.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=$.z(this),s=this.$H,i=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=function(e,n,o,s){return e&&(e[n]||e(t,r))||o[n].slice(0,s)},d=function(e){return $.s(s%12||12,e,"0")},p=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:$.s(a+1,2,"0"),MMM:u(n.monthsShort,a,c,3),MMMM:u(c,a),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:$.s(s,2,"0"),h:d(1),hh:d(2),a:p(s,i,!0),A:p(s,i,!1),m:String(i),mm:$.s(i,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:o};return r.replace(m,(function(e,t){return t||g[e]||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(r,p,h){var g,m=$.p(p),f=x(r),b=(f.utcOffset()-this.utcOffset())*t,v=this-f,w=$.m(this,f);return w=(g={},g[d]=w/12,g[c]=w,g[u]=w/3,g[l]=(v-b)/6048e5,g[a]=(v-b)/864e5,g[i]=v/n,g[s]=v/t,g[o]=v/e,g)[m]||v,h?w:$.a(w)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return y[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=k(e,t,!0);return r&&(n.$L=r),n},b.clone=function(){return $.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},f}(),S=T.prototype;return x.prototype=S,[["$ms",r],["$s",o],["$m",s],["$H",i],["$W",a],["$M",c],["$y",d],["$D",p]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,T,x),e.$i=!0),x},x.locale=k,x.isDayjs=_,x.unix=function(e){return x(1e3*e)},x.en=y[w],x.Ls=y,x.p={},x}();var ln=an.exports,cn=B(ln);!function(e){var t=z&&z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.isBefore=e.addSeconds=e.formatForDateLocal=e.formatDate=void 0;const n=t(ln);e.formatDate=(e,t="DD MMM YY hh:mm")=>{try{return(0,n.default)(e).format(t)}catch(e){return""}};e.formatForDateLocal=t=>(0,e.formatDate)(t,"YYYY-MM-DDTHH:mm");e.addSeconds=(e,t)=>{try{return(0,n.default)(e).add(t,"seconds").toDate()}catch(t){return e}};e.isBefore=(e,t)=>{try{return(0,n.default)(e).isBefore(t)}catch(e){return!1}}}(sn);var un=z&&z.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(on,"__esModule",{value:!0}),on.accountController=void 0;const dn=V,pn=K,hn=sn,gn=Xt,mn=(e,t,n)=>{const r=e.headers.get(pn.TokenHeaderKey),o=e.headers.get(pn.TokenExpiryHeaderKey);return n({userGuid:e.headers.get(pn.UserGuidHeaderKey),username:t.username,profilePic:t.profileUrl,token:r,tokenExpiry:o,tokenExpiryDate:(0,hn.addSeconds)(new Date,o)}),200==e.status};on.accountController=e=>({loginWithGoogleAuth:(t,n)=>un(void 0,void 0,void 0,(function*(){return{isSuccess:yield e.post(dn.endpoints.authUrl,t,(()=>gn.anyObject),(e=>mn(e,t,n))),errorMessage:""}})),getFakeToken:t=>un(void 0,void 0,void 0,(function*(){const n={username:"fake account",profileUrl:"profile.png"};return{isSuccess:yield e.post(dn.endpoints.fakeAuthUrl,gn.anyObject,(()=>gn.anyObject),(e=>mn(e,n,t))),errorMessage:""}}))});var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.appController=void 0;const bn=V.endpoints.app;fn.appController=e=>({create:t=>e.post(bn,t,e.addAccessTokenToHeaders),readAll:()=>e.get(bn),readAllForAdmin:t=>e.get(`${bn}/Admin`,e.addAccessTokenToHeaders),update:t=>e.put(bn,t,e.addAccessTokenToHeaders),del:t=>{const n=`${bn}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var vn={};Object.defineProperty(vn,"__esModule",{value:!0}),vn.appNoticeController=void 0;const wn=V.endpoints.appNotice;vn.appNoticeController=e=>({create:t=>e.post(wn,t,e.addAccessTokenToHeaders),readAll:(t,n)=>e.get(`${wn}/${t}/${n}`),readAllForAdmin:t=>e.get(`${wn}/Admin`,e.addAccessTokenToHeaders),update:t=>e.put(wn,t,e.addAccessTokenToHeaders),del:t=>{const n=`${wn}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var yn={};Object.defineProperty(yn,"__esModule",{value:!0}),yn.appReviewController=void 0;const _n=V.endpoints.appReviews;yn.appReviewController=e=>({readForApp:t=>e.get(`${_n}/${t}`)});var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.badgeController=void 0;const xn=V.endpoints.badge;kn.badgeController=e=>({reviews:(t,n)=>e.get(`${xn}/${t}/${n}`),version:t=>e.get(`${xn}/${t}`)});var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.cacheController=void 0;const Tn=V,Sn=Tn.endpoints.cache,Cn=Tn.endpoints.redisCache;$n.cacheController=e=>({readAllCache:()=>e.get(Sn,e.addAccessTokenToHeaders),delCache:t=>{const n=`${Sn}/${encodeURIComponent(t)}`;return e.delete(n,e.addAccessTokenToHeaders)},delAllCache:()=>e.delete(Sn,e.addAccessTokenToHeaders),readAllRedisCache:()=>e.get(Cn,e.addAccessTokenToHeaders),delRedisCache:t=>{const n=`${Cn}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)},delAllRedisCache:()=>e.delete(Cn,e.addAccessTokenToHeaders)});var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.contactController=void 0;const En=V;An.contactController=e=>({formSubmission:t=>e.post(En.endpoints.contact,t,e.addAccessTokenToHeaders)});var On={};Object.defineProperty(On,"__esModule",{value:!0}),On.dashboardController=void 0;const Rn=V;On.dashboardController=e=>({dashboard:()=>e.get(Rn.endpoints.dashboard),adminDashboard:()=>e.get(Rn.endpoints.dashboard,e.addAccessTokenToHeaders)});var Pn={},jn=z&&z.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.donationController=void 0;const Mn=V.endpoints.donation;Pn.donationController=e=>({create:t=>e.post(Mn,t,e.addAccessTokenToHeaders),readAll:t=>jn(void 0,void 0,void 0,(function*(){let n=Mn;null!=t&&(n+=`?page=${Mn}`);return(yield e.get(n)).value})),readAllForAdmin:t=>jn(void 0,void 0,void 0,(function*(){var n,r;return(yield e.post(`${Mn}/Search`,{page:null!==(n=null==t?void 0:t.page)&&void 0!==n?n:1,searchText:null!==(r=null==t?void 0:t.searchText)&&void 0!==r?r:""},e.addAccessTokenToHeaders)).value})),update:t=>e.put(Mn,t,e.addAccessTokenToHeaders),del:t=>{const n=`${Mn}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.feedbackFormController=void 0;const Dn=V.endpoints.feedbackForm;In.feedbackFormController=e=>({create:t=>e.post(Dn,t,e.addAccessTokenToHeaders),readLatest:t=>e.get(`${Dn}/${t}`),readAllForAdmin:()=>e.get(`${Dn}/Admin`,e.addAccessTokenToHeaders),update:t=>e.put(Dn,t,e.addAccessTokenToHeaders),del:t=>{const n=`${Dn}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.feedbackFormAnswerController=void 0;const Nn=V.endpoints.feedbackFormAnswer;Hn.feedbackFormAnswerController=e=>({create:t=>e.post(Nn,t,e.addAccessTokenToHeaders),readForFeedback:t=>e.get(`${Nn}/${t}`,e.addAccessTokenToHeaders),del:t=>e.delete(`${Nn}/${t}`,e.addAccessTokenToHeaders)});var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.feedbackFormQuestionController=void 0;const Un=V.endpoints.feedbackFormQuestion;Ln.feedbackFormQuestionController=e=>({create:t=>e.post(Un,t,e.addAccessTokenToHeaders),readForFeedback:t=>e.get(`${Un}/${t}`,e.addAccessTokenToHeaders),update:t=>e.put(Un,t,e.addAccessTokenToHeaders),del:t=>e.delete(`${Un}/${t}`,e.addAccessTokenToHeaders)});var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.languageController=void 0;const zn=V.endpoints.language;Fn.languageController=e=>({create:t=>e.post(zn,t,e.addAccessTokenToHeaders),readAll:()=>e.get(zn),update:t=>e.put(zn,t,e.addAccessTokenToHeaders),del:t=>{const n=`${zn}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.licenceController=void 0;const qn=V,Wn=qn.endpoints.licence;Bn.licenceController=e=>({create:t=>e.post(Wn,t,e.addAccessTokenToHeaders),readAll:()=>e.get(Wn,e.addAccessTokenToHeaders),activate:(t,n)=>{const r=`${qn.endpoints.licenceActivate}/${t}/${n}`;return e.get(r)},activateForPatron:(t,n)=>{const r=`${qn.endpoints.licenceActivateForPatron}/${t}/${n}`;return e.get(r)},verify:(t,n)=>{const r=`${qn.endpoints.licenceVerify}/${t}/${n}`;return e.get(r)},update:t=>e.put(Wn,t,e.addAccessTokenToHeaders),del:t=>{const n=`${Wn}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.oAuthController=void 0;const Kn=V.endpoints.oAuth;Vn.oAuthController=e=>({patreon:(t,n)=>e.get(`${Kn}/Patreon?code=${t}&state=${n}`)});var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.patreonController=void 0;const Jn=V.endpoints.patreon;Gn.patreonController=e=>({readAll:()=>e.get(Jn,e.addAccessTokenToHeaders)});var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.permissionController=void 0;const Zn=ce,Yn=Xt,Xn=V.endpoints.permission;Qn.permissionController=e=>({readCurrentUsersPermissions:()=>e.get(Xn,e.addAccessTokenToHeaders),readPermissionsForUserGuid:t=>e.get(`${Xn}/${t}`),addForUser:(t,n)=>e.post(`${Xn}/${t}/${Zn.PermissionType[n].toString()}`,Yn.anyObject,e.addAccessTokenToHeaders),delPermissionForUser:(t,n)=>{const r=`${Xn}/${t}/${Zn.PermissionType[n].toString()}`;return e.delete(r,e.addAccessTokenToHeaders)}});var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.quickActionController=void 0;const tr=Xt,nr=V.endpoints.quickActionIndexes;er.quickActionController=e=>({readIndexes:()=>e.get(nr,e.addAccessTokenToHeaders),regenerateIndexes:()=>e.post(nr,tr.anyObject,e.addAccessTokenToHeaders)});var rr={},or=z&&z.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(rr,"__esModule",{value:!0}),rr.steamController=void 0;const sr=V,ir=ee;rr.steamController=e=>{const t=[ir.AppType.nms,ir.AppType.sms],n=t=>or(void 0,void 0,void 0,(function*(){const n=yield e.get(`${sr.endpoints.steamBranches}/${t}`);return Object.assign(Object.assign({},n),{value:{appType:ir.AppType[t],branches:n.value}})}));return{readNews:t=>e.get(`${sr.endpoints.steamNews}/${t}`),readBranch:n,readAllBranches:()=>or(void 0,void 0,void 0,(function*(){const e=[];for(const r of t){const t=yield n(r.toString());t.isSuccess&&e.push(t.value)}return{isSuccess:!0,value:e,errorMessage:""}})),updateBranch:(t,n)=>e.put(`${sr.endpoints.steamBranches}/${t}`,{newData:n.branches},e.addAccessTokenToHeaders)}};var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.teamMemberController=void 0;const lr=V.endpoints.teamMember;ar.teamMemberController=e=>({create:t=>e.post(lr,t,e.addAccessTokenToHeaders),readAll:()=>e.get(lr),update:t=>e.put(lr,t,e.addAccessTokenToHeaders),del:t=>{const n=`${lr}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.translationImageController=void 0;const ur=V.endpoints.translationImage;cr.translationImageController=e=>({add:(t,n)=>e.post(`${ur}/${t}`,n,e.formDataWithAccessTokenHeaders),readAll:t=>e.get(`${ur}/${t}`,e.addAccessTokenToHeaders),del:t=>{const n=`${ur}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.translationKeyController=void 0;const pr=V,hr=pr.endpoints.translationKey;dr.translationKeyController=e=>({create:t=>e.post(hr,t,e.addAccessTokenToHeaders),createSearch:t=>e.post(pr.endpoints.translationKeySearchDropdown,t,e.addAccessTokenToHeaders),createSearchDropdown:t=>e.post(pr.endpoints.translationKeySearchDropdown,t,e.addAccessTokenToHeaders),read:t=>e.get(`${hr}/${t}`,e.addAccessTokenToHeaders),readAll:()=>e.get(`${hr}/Admin`,e.addAccessTokenToHeaders),update:t=>e.put(hr,t,e.addAccessTokenToHeaders),del:t=>{const n=`${hr}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.translationReportController=void 0;const mr=Xt,fr=V.endpoints.translationReport;gr.translationReportController=e=>({create:t=>e.post(fr,t,e.addAccessTokenToHeaders),readAll:()=>e.get(fr,e.addAccessTokenToHeaders),resolve:t=>e.put(`${fr}/${t}`,mr.anyObject,e.addAccessTokenToHeaders),close:t=>{const n=`${fr}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var br={},vr=z&&z.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(br,"__esModule",{value:!0}),br.translationStatController=void 0;const wr=V.endpoints.translationStatLeaderboard;br.translationStatController=e=>({readAll:t=>vr(void 0,void 0,void 0,(function*(){const n=yield e.post(wr,t,e.addAccessTokenToHeaders);return Object.assign(Object.assign({},n.value),{isSuccess:!0})}))});var yr={},_r=z&&z.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(yr,"__esModule",{value:!0}),yr.userController=void 0;const kr=Xt,xr=V.endpoints.user;yr.userController=e=>({readAll:()=>e.get(xr,e.addAccessTokenToHeaders),readAllAdmin:t=>_r(void 0,void 0,void 0,(function*(){return(yield e.post(xr,t,e.addAccessTokenToHeaders)).value})),update:t=>e.put(xr,t,e.addAccessTokenToHeaders),markAsAdmin:t=>e.put(`${xr}/${t}`,kr.anyObject,e.addAccessTokenToHeaders),del:t=>{const n=`${xr}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var $r={};Object.defineProperty($r,"__esModule",{value:!0}),$r.userActivityController=void 0;const Tr=V.endpoints.userActivity;$r.userActivityController=e=>({readAll:()=>e.get(Tr,e.addAccessTokenToHeaders)});var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.versionController=void 0;const Cr=V,Ar=Xt,Er=Cr.endpoints.version;Sr.versionController=e=>({create:t=>e.post(Er,t,e.addAccessTokenToHeaders),createSearch:t=>e.post(`${Er}/Search`,t,e.addAccessTokenToHeaders),createNotification:t=>e.post(`${Cr.endpoints.versionSendUpdateNotification}/${t}`,Ar.anyObject,e.addAccessTokenToHeaders),readLatest:t=>e.get(`${Er}/${t}`),readAllForAdmin:()=>e.get(`${Er}/Admin`,e.addAccessTokenToHeaders),readAllHistory:(t,n,r,o)=>{let s=`${Er}/${t}/${n}`;if(null!=r){let e="";for(const t of r)e.length>1?e+="&":e+="?",e+=`platforms=${t}`;s+=e}return null!=o&&(s.includes("?")?s+=`?page=${o}`:s+=`&page=${o}`),e.get(s,e.addAccessTokenToHeaders)},update:t=>e.put(Er,t,e.addAccessTokenToHeaders),del:t=>e.delete(`${Er}/${t}`,e.addAccessTokenToHeaders)});var Or={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formDataWithAccessTokenHeaders=e.addAccessTokenToHeaders=void 0;e.addAccessTokenToHeaders=e=>{var t;const n=null!==(t=e.authToken)&&void 0!==t?t:"";return n.length<1&&console.warn("Expected access token to not be empty but it is"),{headers:{authorization:`Bearer ${n}`}}};e.formDataWithAccessTokenHeaders=t=>{const n=(0,e.addAccessTokenToHeaders)(t);return Object.assign(Object.assign({},n),{headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"multipart/form-data"})})}}(Or);var Rr={},Pr=z&&z.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.translationController=void 0;const jr=V,Mr=jr.endpoints.translation;Rr.translationController=e=>({create:t=>e.post(Mr,t,e.addAccessTokenToHeaders),createSearch:t=>Pr(void 0,void 0,void 0,(function*(){return(yield e.post(jr.endpoints.translationSearch,t,e.addAccessTokenToHeaders)).value})),createSearchPerLanguage:t=>e.post(jr.endpoints.translationSearchPerLanguage,t,e.addAccessTokenToHeaders),read:t=>e.get(`${Mr}/${t}`,e.addAccessTokenToHeaders),readForLang:(t,n)=>e.get(`${Mr}/${t}/${n}`,e.addAccessTokenToHeaders),del:t=>{const n=`${Mr}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}}),Object.defineProperty(be,"__esModule",{value:!0}),be.AssistantAppsApiService=void 0;const Ir=ve,Dr=on,Hr=fn,Nr=vn,Lr=yn,Ur=kn,Fr=$n,zr=An,Br=On,qr=Pn,Wr=In,Vr=Hn,Kr=Ln,Gr=Fn,Jr=Bn,Qr=Vn,Zr=Gn,Yr=Qn,Xr=er,eo=rr,to=ar,no=cr,ro=dr,oo=gr,so=br,io=yr,ao=$r,lo=Sr,co=Or,uo=Rr;class po extends Ir.BaseApiService{constructor(e){var t,n;const r=null!==(t=null==e?void 0:e.url)&&void 0!==t?t:"https://api.assistantapps.com";super(r),this._state={url:"",authToken:""},this.addAccessTokenToHeaders=()=>(0,co.addAccessTokenToHeaders)({authToken:this._state.authToken}),this.formDataWithAccessTokenHeaders=()=>(0,co.formDataWithAccessTokenHeaders)({authToken:this._state.authToken}),this.account=(0,Dr.accountController)(this),this.app=(0,Hr.appController)(this),this.appNotice=(0,Nr.appNoticeController)(this),this.appReview=(0,Lr.appReviewController)(this),this.badge=(0,Ur.badgeController)(this),this.cache=(0,Fr.cacheController)(this),this.contact=(0,zr.contactController)(this),this.dashboard=(0,Br.dashboardController)(this),this.donation=(0,qr.donationController)(this),this.language=(0,Gr.languageController)(this),this.licence=(0,Jr.licenceController)(this),this.feedbackForm=(0,Wr.feedbackFormController)(this),this.feedbackFormAnswer=(0,Vr.feedbackFormAnswerController)(this),this.feedbackFormQuestion=(0,Kr.feedbackFormQuestionController)(this),this.oAuth=(0,Qr.oAuthController)(this),this.patreon=(0,Zr.patreonController)(this),this.permission=(0,Yr.permissionController)(this),this.quickAction=(0,Xr.quickActionController)(this),this.steam=(0,eo.steamController)(this),this.teamMember=(0,to.teamMemberController)(this),this.translation=(0,uo.translationController)(this),this.translationImage=(0,no.translationImageController)(this),this.translationKey=(0,ro.translationKeyController)(this),this.translationReport=(0,oo.translationReportController)(this),this.translationStat=(0,so.translationStatController)(this),this.user=(0,io.userController)(this),this.userActivity=(0,ao.userActivityController)(this),this.version=(0,lo.versionController)(this),this._state.url=r,this._state.authToken=null!==(n=null==e?void 0:e.authToken)&&void 0!==n?n:""}}be.AssistantAppsApiService=po;var ho,go={},mo={};class fo extends Error{constructor(e,t){const n=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=n}}class bo extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class vo extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class wo extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=n}}class yo extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=n}}class _o extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=n}}class ko extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class xo extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=n}}class $o{constructor(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}class To{get(e,t){return this.send({...t,method:"GET",url:e})}post(e,t){return this.send({...t,method:"POST",url:e})}delete(e,t){return this.send({...t,method:"DELETE",url:e})}getCookieString(e){return""}}!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(ho||(ho={}));class So{constructor(){}log(e,t){}}So.instance=new So;const Co="7.0.5";class Ao{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,n){if(!(e in t))throw new Error(`Unknown ${n} value: ${e}.`)}}class Eo{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&void 0===window.document}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Oo(e,t){let n="";return Ro(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${function(e){const t=new Uint8Array(e);let n="";return t.forEach((e=>{n+=`0x${e<16?"0":""}${e.toString(16)} `})),n.substr(0,n.length-1)}(e)}'`)):"string"==typeof e&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function Ro(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}async function Po(e,t,n,r,o,s){const i={},[a,l]=Io();i[a]=l,e.log(ho.Trace,`(${t} transport) sending data. ${Oo(o,s.logMessageContent)}.`);const c=Ro(o)?"arraybuffer":"text",u=await n.post(r,{content:o,headers:{...i,...s.headers},responseType:c,timeout:s.timeout,withCredentials:s.withCredentials});e.log(ho.Trace,`(${t} transport) request complete. Response status: ${u.statusCode}.`)}class jo{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch((e=>{}))}}class Mo{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const n=`[${(new Date).toISOString()}] ${ho[e]}: ${t}`;switch(e){case ho.Critical:case ho.Error:this.out.error(n);break;case ho.Warning:this.out.warn(n);break;case ho.Information:this.out.info(n);break;default:this.out.log(n)}}}}function Io(){let e="X-SignalR-User-Agent";return Eo.isNode&&(e="User-Agent"),[e,Do(Co,Ho(),Lo(),No())]}function Do(e,t,n,r){let o="Microsoft SignalR/";const s=e.split(".");return o+=`${s[0]}.${s[1]}`,o+=` (${e}; `,o+=t&&""!==t?`${t}; `:"Unknown OS; ",o+=`${n}`,o+=r?`; ${r}`:"; Unknown Runtime Version",o+=")",o}function Ho(){if(!Eo.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function No(){if(Eo.isNode)return process.versions.node}function Lo(){return Eo.isNode?"NodeJS":"Browser"}function Uo(e){return e.stack?e.stack:e.message?e.message:`${e}`}class Fo extends To{constructor(e){if(super(),this._logger=e,"undefined"==typeof fetch){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._jar=new(e("tough-cookie").CookieJar),this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new vo;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const t=new this._abortControllerType;let n;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),n=new vo});let r,o=null;if(e.timeout){const r=e.timeout;o=setTimeout((()=>{t.abort(),this._logger.log(ho.Warning,"Timeout from HTTP request."),n=new bo}),r)}""===e.content&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Ro(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");try{r=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(e){if(n)throw n;throw this._logger.log(ho.Warning,`Error from HTTP request. ${e}.`),e}finally{o&&clearTimeout(o),e.abortSignal&&(e.abortSignal.onabort=null)}if(!r.ok){const e=await zo(r,"text");throw new fo(e||r.statusText,r.status)}const s=zo(r,e.responseType),i=await s;return new $o(r.status,r.statusText,i)}getCookieString(e){let t="";return Eo.isNode&&this._jar&&this._jar.getCookies(e,((e,n)=>t=n.join("; "))),t}}function zo(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":default:n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}class Bo extends To{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new vo):e.method?e.url?new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=void 0===e.withCredentials||e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===e.content&&(e.content=void 0),e.content&&(Ro(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=e.headers;o&&Object.keys(o).forEach((e=>{r.setRequestHeader(e,o[e])})),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),n(new vo)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new $o(r.status,r.statusText,r.response||r.responseText)):n(new fo(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(ho.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),n(new fo(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(ho.Warning,"Timeout from HTTP request."),n(new bo)},r.send(e.content)})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class qo extends To{constructor(e){if(super(),"undefined"!=typeof fetch||Eo.isNode)this._httpClient=new Fo(e);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new Bo(e)}}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new vo):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class Wo{static write(e){return`${e}${Wo.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Wo.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(Wo.RecordSeparator);return t.pop(),t}}Wo.RecordSeparatorCode=30,Wo.RecordSeparator=String.fromCharCode(Wo.RecordSeparatorCode);class Vo{writeHandshakeRequest(e){return Wo.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,n;if(Ro(e)){const r=new Uint8Array(e),o=r.indexOf(Wo.RecordSeparatorCode);if(-1===o)throw new Error("Message is incomplete.");const s=o+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(r.slice(0,s))),n=r.byteLength>s?r.slice(s).buffer:null}else{const r=e,o=r.indexOf(Wo.RecordSeparator);if(-1===o)throw new Error("Message is incomplete.");const s=o+1;t=r.substring(0,s),n=r.length>s?r.substring(s):null}const r=Wo.parse(t),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[n,o]}}var Ko;!function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close"}(Ko||(Ko={}));class Go{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new jo(this,e)}}var Jo;!function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"}(Jo||(Jo={}));class Qo{constructor(e,t,n,r){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(ho.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ao.isRequired(e,"connection"),Ao.isRequired(t,"logger"),Ao.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=t,this._protocol=n,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new Vo,this.connection.onreceive=e=>this._processIncomingData(e),this.connection.onclose=e=>this._connectionClosed(e),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Jo.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Ko.Ping})}static create(e,t,n,r){return new Qo(e,t,n,r)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Jo.Disconnected&&this._connectionState!==Jo.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Jo.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Jo.Connecting,this._logger.log(ho.Debug,"Starting HubConnection.");try{await this._startInternal(),Eo.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Jo.Connected,this._connectionStarted=!0,this._logger.log(ho.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Jo.Disconnected,this._logger.log(ho.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise(((e,t)=>{this._handshakeResolver=e,this._handshakeRejecter=t}));await this.connection.start(this._protocol.transferFormat);try{const t={protocol:this._protocol.name,version:this._protocol.version};if(this._logger.log(ho.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(t)),this._logger.log(ho.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(ho.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){const e=this._startPromise;this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch(e){}}_stopInternal(e){return this._connectionState===Jo.Disconnected?(this._logger.log(ho.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Jo.Disconnecting?(this._logger.log(ho.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Jo.Disconnecting,this._logger.log(ho.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(ho.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new vo("The connection was stopped before the hub handshake could complete."),this.connection.stop(e)))}stream(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(e,t,r);let s;const i=new Go;return i.cancelCallback=()=>{const e=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then((()=>this._sendWithProtocol(e)))},this._callbacks[o.invocationId]=(e,t)=>{t?i.error(t):e&&(e.type===Ko.Completion?e.error?i.error(new Error(e.error)):i.complete():i.next(e.item))},s=this._sendWithProtocol(o).catch((e=>{i.error(e),delete this._callbacks[o.invocationId]})),this._launchStreams(n,s),i}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(n,o),o}invoke(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createInvocation(e,t,!1,r);return new Promise(((e,t)=>{this._callbacks[o.invocationId]=(n,r)=>{r?t(r):n&&(n.type===Ko.Completion?n.error?t(new Error(n.error)):e(n.result):t(new Error(`Unexpected message type: ${n.type}`)))};const r=this._sendWithProtocol(o).catch((e=>{t(e),delete this._callbacks[o.invocationId]}));this._launchStreams(n,r)}))}on(e,t){e&&t&&(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),-1===this._methods[e].indexOf(t)&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(t){const r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const t=this._protocol.parseMessages(e,this._logger);for(const e of t)switch(e.type){case Ko.Invocation:this._invokeClientMethod(e);break;case Ko.StreamItem:case Ko.Completion:{const t=this._callbacks[e.invocationId];if(t){e.type===Ko.Completion&&delete this._callbacks[e.invocationId];try{t(e)}catch(e){this._logger.log(ho.Error,`Stream callback threw error: ${Uo(e)}`)}}break}case Ko.Ping:break;case Ko.Close:{this._logger.log(ho.Information,"Close message received from server.");const t=e.error?new Error("Server returned an error on close: "+e.error):void 0;!0===e.allowReconnect?this.connection.stop(t):this._stopPromise=this._stopInternal(t);break}default:this._logger.log(ho.Warning,`Invalid message type: ${e.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,n;try{[n,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(e){const t="Error parsing handshake response: "+e;this._logger.log(ho.Error,t);const n=new Error(t);throw this._handshakeRejecter(n),n}if(t.error){const e="Server returned handshake error: "+t.error;this._logger.log(ho.Error,e);const n=new Error(e);throw this._handshakeRejecter(n),n}return this._logger.log(ho.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout((()=>this.serverTimeout()),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((async()=>{if(this._connectionState===Jo.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const t=e.target.toLowerCase(),n=this._methods[t];if(!n)return this._logger.log(ho.Warning,`No client method with the name '${t}' found.`),void(e.invocationId&&(this._logger.log(ho.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null))));const r=n.slice(),o=!!e.invocationId;let s,i,a;for(const n of r)try{const r=s;s=await n.apply(this,e.arguments),o&&s&&r&&(this._logger.log(ho.Error,`Multiple results provided for '${t}'. Sending error to server.`),a=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),i=void 0}catch(e){i=e,this._logger.log(ho.Error,`A callback for the method '${t}' threw error '${e}'.`)}a?await this._sendWithProtocol(a):o?(i?a=this._createCompletionMessage(e.invocationId,`${i}`,null):void 0!==s?a=this._createCompletionMessage(e.invocationId,null,s):(this._logger.log(ho.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),a=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(a)):s&&this._logger.log(ho.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(ho.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new vo("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Jo.Disconnecting?this._completeClose(e):this._connectionState===Jo.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Jo.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Jo.Disconnected,this._connectionStarted=!1,Eo.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(ho.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){const t=Date.now();let n=0,r=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(n++,0,r);if(null===o)return this._logger.log(ho.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void this._completeClose(e);if(this._connectionState=Jo.Reconnecting,e?this._logger.log(ho.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(ho.Information,"Connection reconnecting."),0!==this._reconnectingCallbacks.length){try{this._reconnectingCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(ho.Error,`An onreconnecting callback called with error '${e}' threw error '${t}'.`)}if(this._connectionState!==Jo.Reconnecting)return void this._logger.log(ho.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==o;){if(this._logger.log(ho.Information,`Reconnect attempt number ${n} will start in ${o} ms.`),await new Promise((e=>{this._reconnectDelayHandle=setTimeout(e,o)})),this._reconnectDelayHandle=void 0,this._connectionState!==Jo.Reconnecting)return void this._logger.log(ho.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(await this._startInternal(),this._connectionState=Jo.Connected,this._logger.log(ho.Information,"HubConnection reconnected successfully."),0!==this._reconnectedCallbacks.length)try{this._reconnectedCallbacks.forEach((e=>e.apply(this,[this.connection.connectionId])))}catch(e){this._logger.log(ho.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`)}return}catch(e){if(this._logger.log(ho.Information,`Reconnect attempt failed because of error '${e}'.`),this._connectionState!==Jo.Reconnecting)return this._logger.log(ho.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(this._connectionState===Jo.Disconnecting&&this._completeClose());r=e instanceof Error?e:new Error(e.toString()),o=this._getNextRetryDelay(n++,Date.now()-t,r)}}this._logger.log(ho.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(n){return this._logger.log(ho.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${n}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach((n=>{const r=t[n];try{r(null,e)}catch(t){this._logger.log(ho.Error,`Stream 'error' callback called with '${e}' threw error: ${Uo(t)}`)}}))}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,n,r){if(n)return 0!==r.length?{arguments:t,streamIds:r,target:e,type:Ko.Invocation}:{arguments:t,target:e,type:Ko.Invocation};{const n=this._invocationId;return this._invocationId++,0!==r.length?{arguments:t,invocationId:n.toString(),streamIds:r,target:e,type:Ko.Invocation}:{arguments:t,invocationId:n.toString(),target:e,type:Ko.Invocation}}}_launchStreams(e,t){if(0!==e.length){t||(t=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n))))},error:e=>{let r;r=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n,r))))},next:e=>{t=t.then((()=>this._sendWithProtocol(this._createStreamItemMessage(n,e))))}})}}_replaceStreamingParams(e){const t=[],n=[];for(let r=0;r<e.length;r++){const o=e[r];if(this._isObservable(o)){const s=this._invocationId;this._invocationId++,t[s]=o,n.push(s.toString()),e.splice(r,1)}}return[t,n]}_isObservable(e){return e&&e.subscribe&&"function"==typeof e.subscribe}_createStreamInvocation(e,t,n){const r=this._invocationId;return this._invocationId++,0!==n.length?{arguments:t,invocationId:r.toString(),streamIds:n,target:e,type:Ko.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:Ko.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:Ko.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:Ko.StreamItem}}_createCompletionMessage(e,t,n){return t?{error:t,invocationId:e,type:Ko.Completion}:{invocationId:e,result:n,type:Ko.Completion}}}const Zo=[0,2e3,1e4,3e4,null];class Yo{constructor(e){this._retryDelays=void 0!==e?[...e,null]:Zo}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class Xo{}Xo.Authorization="Authorization",Xo.Cookie="Cookie";class es extends To{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const n=await this._innerClient.send(e);return t&&401===n.statusCode&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):n}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[Xo.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[Xo.Authorization]&&delete e.headers[Xo.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var ts,ns;!function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"}(ts||(ts={})),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(ns||(ns={}));class rs{constructor(e,t,n){this._httpClient=e,this._logger=t,this._pollAbort=new class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}},this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}async connect(e,t){if(Ao.isRequired(e,"url"),Ao.isRequired(t,"transferFormat"),Ao.isIn(t,ns,"transferFormat"),this._url=e,this._logger.log(ho.Trace,"(LongPolling transport) Connecting."),t===ns.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,r]=Io(),o={[n]:r,...this._options.headers},s={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};t===ns.Binary&&(s.responseType="arraybuffer");const i=`${e}&_=${Date.now()}`;this._logger.log(ho.Trace,`(LongPolling transport) polling: ${i}.`);const a=await this._httpClient.get(i,s);200!==a.statusCode?(this._logger.log(ho.Error,`(LongPolling transport) Unexpected response code: ${a.statusCode}.`),this._closeError=new fo(a.statusText||"",a.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)}async _poll(e,t){try{for(;this._running;)try{const n=`${e}&_=${Date.now()}`;this._logger.log(ho.Trace,`(LongPolling transport) polling: ${n}.`);const r=await this._httpClient.get(n,t);204===r.statusCode?(this._logger.log(ho.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):200!==r.statusCode?(this._logger.log(ho.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new fo(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(ho.Trace,`(LongPolling transport) data received. ${Oo(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(ho.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(e){this._running?e instanceof bo?this._logger.log(ho.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=e,this._running=!1):this._logger.log(ho.Trace,`(LongPolling transport) Poll errored after shutdown: ${e.message}`)}}finally{this._logger.log(ho.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?Po(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(ho.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(ho.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[t,n]=Io();e[t]=n;const r={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};await this._httpClient.delete(this._url,r),this._logger.log(ho.Trace,"(LongPolling transport) DELETE request sent.")}finally{this._logger.log(ho.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(ho.Trace,e),this.onclose(this._closeError)}}}class os{constructor(e,t,n,r){this._httpClient=e,this._accessToken=t,this._logger=n,this._options=r,this.onreceive=null,this.onclose=null}async connect(e,t){return Ao.isRequired(e,"url"),Ao.isRequired(t,"transferFormat"),Ao.isIn(t,ns,"transferFormat"),this._logger.log(ho.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise(((n,r)=>{let o,s=!1;if(t===ns.Text){if(Eo.isBrowser||Eo.isWebWorker)o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const t=this._httpClient.getCookieString(e),n={};n.Cookie=t;const[r,s]=Io();n[r]=s,o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...n,...this._options.headers}})}try{o.onmessage=e=>{if(this.onreceive)try{this._logger.log(ho.Trace,`(SSE transport) data received. ${Oo(e.data,this._options.logMessageContent)}.`),this.onreceive(e.data)}catch(e){return void this._close(e)}},o.onerror=e=>{s?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{this._logger.log(ho.Information,`SSE connected to ${this._url}`),this._eventSource=o,s=!0,n()}}catch(e){return void r(e)}}else r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))}async send(e){return this._eventSource?Po(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class ss{constructor(e,t,n,r,o,s){this._logger=n,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=s}async connect(e,t){let n;return Ao.isRequired(e,"url"),Ao.isRequired(t,"transferFormat"),Ao.isIn(t,ns,"transferFormat"),this._logger.log(ho.Trace,"(WebSockets transport) Connecting."),this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise(((r,o)=>{let s;e=e.replace(/^http/,"ws");const i=this._httpClient.getCookieString(e);let a=!1;if(Eo.isNode||Eo.isReactNative){const t={},[r,o]=Io();t[r]=o,n&&(t[Xo.Authorization]=`Bearer ${n}`),i&&(t[Xo.Cookie]=i),s=new this._webSocketConstructor(e,void 0,{headers:{...t,...this._headers}})}else n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);s||(s=new this._webSocketConstructor(e)),t===ns.Binary&&(s.binaryType="arraybuffer"),s.onopen=t=>{this._logger.log(ho.Information,`WebSocket connected to ${e}.`),this._webSocket=s,a=!0,r()},s.onerror=e=>{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"There was an error with the transport",this._logger.log(ho.Information,`(WebSockets transport) ${t}.`)},s.onmessage=e=>{if(this._logger.log(ho.Trace,`(WebSockets transport) data received. ${Oo(e.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(e.data)}catch(e){return void this._close(e)}},s.onclose=e=>{if(a)this._close(e);else{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(t))}}}))}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(ho.Trace,`(WebSockets transport) sending data. ${Oo(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(ho.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)))}_isCloseEvent(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code}}class is{constructor(e,t={}){var n;if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ao.isRequired(e,"url"),this._logger=void 0===(n=t.logger)?new Mo(ho.Information):null===n?So.instance:void 0!==n.log?n:new Mo(n),this.baseUrl=this._resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials,t.timeout=void 0===t.timeout?1e5:t.timeout;let r=null,o=null;if(Eo.isNode&&"undefined"!=typeof require){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;r=e("ws"),o=e("eventsource")}Eo.isNode||"undefined"==typeof WebSocket||t.WebSocket?Eo.isNode&&!t.WebSocket&&r&&(t.WebSocket=r):t.WebSocket=WebSocket,Eo.isNode||"undefined"==typeof EventSource||t.EventSource?Eo.isNode&&!t.EventSource&&void 0!==o&&(t.EventSource=o):t.EventSource=EventSource,this._httpClient=new es(t.httpClient||new qo(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||ns.Binary,Ao.isIn(e,ns,"transferFormat"),this._logger.log(ho.Debug,`Starting connection with transfer format '${ns[e]}'.`),"Disconnected"!==this._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,"Disconnecting"===this._connectionState){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(ho.Error,e),await this._stopPromise,Promise.reject(new vo(e))}if("Connected"!==this._connectionState){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(ho.Error,e),Promise.reject(new vo(e))}this._connectionStarted=!0}send(e){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new as(this.transport)),this._sendQueue.send(e))}async stop(e){return"Disconnected"===this._connectionState?(this._logger.log(ho.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===this._connectionState?(this._logger.log(ho.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState="Disconnecting",this._stopPromise=new Promise((e=>{this._stopPromiseResolver=e})),await this._stopInternal(e),void await this._stopPromise)}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch(e){}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(ho.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(ho.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation){if(this._options.transport!==ts.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");this.transport=this._constructTransport(ts.WebSockets),await this._startTransport(t,e)}else{let n=null,r=0;do{if(n=await this._getNegotiationResponse(t),"Disconnecting"===this._connectionState||"Disconnected"===this._connectionState)throw new vo("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(t=n.url),n.accessToken){const e=n.accessToken;this._accessTokenFactory=()=>e,this._httpClient._accessToken=e,this._httpClient._accessTokenFactory=void 0}r++}while(n.url&&r<100);if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,n,e)}this.transport instanceof rs&&(this.features.inherentKeepAlive=!0),"Connecting"===this._connectionState&&(this._logger.log(ho.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(e){return this._logger.log(ho.Error,"Failed to start the connection: "+e),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(e)}}async _getNegotiationResponse(e){const t={},[n,r]=Io();t[n]=r;const o=this._resolveNegotiateUrl(e);this._logger.log(ho.Debug,`Sending negotiation request: ${o}.`);try{const e=await this._httpClient.post(o,{content:"",headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(200!==e.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${e.statusCode}'`));const n=JSON.parse(e.content);return(!n.negotiateVersion||n.negotiateVersion<1)&&(n.connectionToken=n.connectionId),n}catch(e){let t="Failed to complete negotiation with the server: "+e;return e instanceof fo&&404===e.statusCode&&(t+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(ho.Error,t),Promise.reject(new ko(t))}}_createConnectUrl(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+`id=${t}`:e}async _createTransport(e,t,n,r){let o=this._createConnectUrl(e,n.connectionToken);if(this._isITransport(t))return this._logger.log(ho.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(o,r),void(this.connectionId=n.connectionId);const s=[],i=n.availableTransports||[];let a=n;for(const n of i){const i=this._resolveTransportOrError(n,t,r);if(i instanceof Error)s.push(`${n.transport} failed:`),s.push(i);else if(this._isITransport(i)){if(this.transport=i,!a){try{a=await this._getNegotiationResponse(e)}catch(e){return Promise.reject(e)}o=this._createConnectUrl(e,a.connectionToken)}try{return await this._startTransport(o,r),void(this.connectionId=a.connectionId)}catch(e){if(this._logger.log(ho.Error,`Failed to start the transport '${n.transport}': ${e}`),a=void 0,s.push(new _o(`${n.transport} failed: ${e}`,ts[n.transport])),"Connecting"!==this._connectionState){const e="Failed to select transport before stop() was called.";return this._logger.log(ho.Debug,e),Promise.reject(new vo(e))}}}}return s.length>0?Promise.reject(new xo(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case ts.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new ss(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case ts.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new os(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case ts.LongPolling:return new rs(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.transport.onclose=e=>this._stopConnection(e),this.transport.connect(e,t)}_resolveTransportOrError(e,t,n){const r=ts[e.transport];if(null==r)return this._logger.log(ho.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(!function(e,t){return!e||0!=(t&e)}(t,r))return this._logger.log(ho.Debug,`Skipping transport '${ts[r]}' because it was disabled by the client.`),new yo(`'${ts[r]}' is disabled by the client.`,r);if(!(e.transferFormats.map((e=>ns[e])).indexOf(n)>=0))return this._logger.log(ho.Debug,`Skipping transport '${ts[r]}' because it does not support the requested transfer format '${ns[n]}'.`),new Error(`'${ts[r]}' does not support ${ns[n]}.`);if(r===ts.WebSockets&&!this._options.WebSocket||r===ts.ServerSentEvents&&!this._options.EventSource)return this._logger.log(ho.Debug,`Skipping transport '${ts[r]}' because it is not supported in your environment.'`),new wo(`'${ts[r]}' is not supported in your environment.`,r);this._logger.log(ho.Debug,`Selecting transport '${ts[r]}'.`);try{return this._constructTransport(r)}catch(e){return e}}_isITransport(e){return e&&"object"==typeof e&&"connect"in e}_stopConnection(e){if(this._logger.log(ho.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(ho.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),e?this._logger.log(ho.Error,`Connection disconnected with error '${e}'.`):this._logger.log(ho.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch((e=>{this._logger.log(ho.Error,`TransportSendQueue.stop() threw error '${e}'.`)})),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(ho.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}else this._logger.log(ho.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!Eo.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(ho.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=e.indexOf("?");let n=e.substring(0,-1===t?e.length:t);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===t?"":e.substring(t),-1===n.indexOf("negotiateVersion")&&(n+=-1===t?"?":"&",n+="negotiateVersion="+this._negotiateVersion),n}}class as{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new ls,this._transportResult=new ls,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new ls),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new ls;const e=this._transportResult;this._transportResult=void 0;const t="string"==typeof this._buffer[0]?this._buffer.join(""):as._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(t),e.resolve()}catch(t){e.reject(t)}}}static _concatBuffers(e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),n=new Uint8Array(t);let r=0;for(const t of e)n.set(new Uint8Array(t),r),r+=t.byteLength;return n.buffer}}class ls{constructor(){this.promise=new Promise(((e,t)=>[this._resolver,this._rejecter]=[e,t]))}resolve(){this._resolver()}reject(e){this._rejecter(e)}}class cs{constructor(){this.name="json",this.version=1,this.transferFormat=ns.Text}parseMessages(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=So.instance);const n=Wo.parse(e),r=[];for(const e of n){const n=JSON.parse(e);if("number"!=typeof n.type)throw new Error("Invalid payload.");switch(n.type){case Ko.Invocation:this._isInvocationMessage(n);break;case Ko.StreamItem:this._isStreamItemMessage(n);break;case Ko.Completion:this._isCompletionMessage(n);break;case Ko.Ping:case Ko.Close:break;default:t.log(ho.Information,"Unknown message type '"+n.type+"' ignored.");continue}r.push(n)}return r}writeMessage(e){return Wo.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(e,t){if("string"!=typeof e||""===e)throw new Error(t)}}const us={trace:ho.Trace,debug:ho.Debug,info:ho.Information,information:ho.Information,warn:ho.Warning,warning:ho.Warning,error:ho.Error,critical:ho.Critical,none:ho.None};var ds=Object.freeze({__proto__:null,AbortError:vo,DefaultHttpClient:qo,HttpClient:To,HttpError:fo,HttpResponse:$o,get HttpTransportType(){return ts},HubConnection:Qo,HubConnectionBuilder:class{configureLogging(e){if(Ao.isRequired(e,"logging"),void 0!==e.log)this.logger=e;else if("string"==typeof e){const t=function(e){const t=us[e.toLowerCase()];if(void 0!==t)return t;throw new Error(`Unknown log level: ${e}`)}(e);this.logger=new Mo(t)}else this.logger=new Mo(e);return this}withUrl(e,t){return Ao.isRequired(e,"url"),Ao.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?{...this.httpConnectionOptions,...t}:{...this.httpConnectionOptions,transport:t},this}withHubProtocol(e){return Ao.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new Yo(e):this.reconnectPolicy=e:this.reconnectPolicy=new Yo,this}build(){const e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new is(this.url,e);return Qo.create(t,this.logger||So.instance,this.protocol||new cs,this.reconnectPolicy)}},get HubConnectionState(){return Jo},JsonHubProtocol:cs,get LogLevel(){return ho},get MessageType(){return Ko},NullLogger:So,Subject:Go,TimeoutError:bo,get TransferFormat(){return ns},VERSION:Co}),ps=q(ds),hs=z&&z.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(mo,"__esModule",{value:!0}),mo.BaseHubClient=void 0;const gs=ps,ms=Z;mo.BaseHubClient=class{constructor(e){var t,n;this._state={url:"",hubPath:""},this.isConnected=()=>this._connection.state===gs.HubConnectionState.Connected,this.addListener=(e,t)=>{this.logMessage(`Listener created for: ${ms.SignalRReceiveEvent[e].toString()}`),this._connection.on(ms.SignalRReceiveEvent[e].toString(),(e=>t(e)))},this.removeListener=(e,t)=>{this.logMessage(`Listener removed for: ${ms.SignalRReceiveEvent[e].toString()}`),this._connection.off(ms.SignalRReceiveEvent[e].toString(),(e=>t(e)))},this.sendPayload=(e,t)=>hs(this,void 0,void 0,(function*(){if(this.isConnected())try{const n=ms.SignalRSendEvent[e].toString();yield this._connection.send(n,t),this.logMessage("Message sent!",`channel: ${n}`,t)}catch(e){console.error("sendPayload error",e)}else console.warn("No connection, cannot send payload!")})),this.logMessage=(e,...t)=>{console.log(e,t)};const r=null!==(t=null==e?void 0:e.url)&&void 0!==t?t:"https://api.assistantapps.com";this._state.url=r,this._state.hubPath=null!==(n=null==e?void 0:e.hubPath)&&void 0!==n?n:"/hubs/OAuth",this._connection=(new gs.HubConnectionBuilder).withUrl(`${this._state.url}${this._state.hubPath}`).withAutomaticReconnect().build(),this._connection.start().then((()=>this.logMessage("signalR connection")))}},Object.defineProperty(go,"__esModule",{value:!0}),go.AssistantAppsOAuthClient=void 0;const fs=Z,bs=mo;class vs extends bs.BaseHubClient{constructor(){super(...arguments),this.listenToOAuth=e=>{this.addListener(fs.SignalRReceiveEvent.OAuthComplete,e)},this.removeListenToOAuth=e=>{this.removeListener(fs.SignalRReceiveEvent.OAuthComplete,e)},this.joinGroup=e=>{this.sendPayload(fs.SignalRSendEvent.JoinOAuthGroup,e)},this.leaveGroup=e=>{this.sendPayload(fs.SignalRSendEvent.LeaveOAuthGroup,e)}}}go.AssistantAppsOAuthClient=vs,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.translationKeyController=e.translationImageController=e.translationController=e.teamMemberController=e.steamController=e.quickActionController=e.permissionController=e.patreonController=e.oAuthController=e.licenceController=e.languageController=e.feedbackFormQuestionController=e.feedbackFormAnswerController=e.feedbackFormController=e.donationController=e.dashboardController=e.contactController=e.cacheController=e.badgeController=e.appReviewController=e.appNoticeController=e.appController=e.accountController=e.BaseApiService=e.AssistantAppsApiService=e.UserActivityActionType=e.TranslationReportStatus=e.SortDirection=e.SignalRServerType=e.RequestBodyMapperType=e.RedisCacheType=e.PlatformType=e.PermissionType=e.OAuthProviderType=e.GuideSectionItemType=e.FeedbackQuestionType=e.FeedbackCategory=e.DonationType=e.DashboardItemType=e.CoinbaseEventType=e.CacheType=e.AppType=e.AppRatingType=e.AdminApprovalStatus=e.SignalRSendEvent=e.SignalRReceiveEvent=e.UserGuidHeaderKey=e.TokenHeaderKey=e.TokenExpiryHeaderKey=e.endpoints=void 0,e.AssistantAppsOAuthClient=e.versionController=e.userActivityController=e.userController=e.translationStatController=e.translationReportController=void 0;var t=V;Object.defineProperty(e,"endpoints",{enumerable:!0,get:function(){return t.endpoints}});var n=K;Object.defineProperty(e,"TokenExpiryHeaderKey",{enumerable:!0,get:function(){return n.TokenExpiryHeaderKey}}),Object.defineProperty(e,"TokenHeaderKey",{enumerable:!0,get:function(){return n.TokenHeaderKey}}),Object.defineProperty(e,"UserGuidHeaderKey",{enumerable:!0,get:function(){return n.UserGuidHeaderKey}});var r=Z;Object.defineProperty(e,"SignalRReceiveEvent",{enumerable:!0,get:function(){return r.SignalRReceiveEvent}}),Object.defineProperty(e,"SignalRSendEvent",{enumerable:!0,get:function(){return r.SignalRSendEvent}});var o=Y;Object.defineProperty(e,"AdminApprovalStatus",{enumerable:!0,get:function(){return o.AdminApprovalStatus}});var s=X;Object.defineProperty(e,"AppRatingType",{enumerable:!0,get:function(){return s.AppRatingType}});var i=ee;Object.defineProperty(e,"AppType",{enumerable:!0,get:function(){return i.AppType}});var a=te;Object.defineProperty(e,"CacheType",{enumerable:!0,get:function(){return a.CacheType}});var l=ne;Object.defineProperty(e,"CoinbaseEventType",{enumerable:!0,get:function(){return l.CoinbaseEventType}});var c=re;Object.defineProperty(e,"DashboardItemType",{enumerable:!0,get:function(){return c.DashboardItemType}});var u=oe;Object.defineProperty(e,"DonationType",{enumerable:!0,get:function(){return u.DonationType}});var d=se;Object.defineProperty(e,"FeedbackCategory",{enumerable:!0,get:function(){return d.FeedbackCategory}});var p=ie;Object.defineProperty(e,"FeedbackQuestionType",{enumerable:!0,get:function(){return p.FeedbackQuestionType}});var h=ae;Object.defineProperty(e,"GuideSectionItemType",{enumerable:!0,get:function(){return h.GuideSectionItemType}});var g=le;Object.defineProperty(e,"OAuthProviderType",{enumerable:!0,get:function(){return g.OAuthProviderType}});var m=ce;Object.defineProperty(e,"PermissionType",{enumerable:!0,get:function(){return m.PermissionType}});var f=ue;Object.defineProperty(e,"PlatformType",{enumerable:!0,get:function(){return f.PlatformType}});var b=de;Object.defineProperty(e,"RedisCacheType",{enumerable:!0,get:function(){return b.RedisCacheType}});var v=pe;Object.defineProperty(e,"RequestBodyMapperType",{enumerable:!0,get:function(){return v.RequestBodyMapperType}});var w=he;Object.defineProperty(e,"SignalRServerType",{enumerable:!0,get:function(){return w.SignalRServerType}});var y=ge;Object.defineProperty(e,"SortDirection",{enumerable:!0,get:function(){return y.SortDirection}});var _=me;Object.defineProperty(e,"TranslationReportStatus",{enumerable:!0,get:function(){return _.TranslationReportStatus}});var k=fe;Object.defineProperty(e,"UserActivityActionType",{enumerable:!0,get:function(){return k.UserActivityActionType}});var x=be;Object.defineProperty(e,"AssistantAppsApiService",{enumerable:!0,get:function(){return x.AssistantAppsApiService}});var $=ve;Object.defineProperty(e,"BaseApiService",{enumerable:!0,get:function(){return $.BaseApiService}});var T=on;Object.defineProperty(e,"accountController",{enumerable:!0,get:function(){return T.accountController}});var S=fn;Object.defineProperty(e,"appController",{enumerable:!0,get:function(){return S.appController}});var C=vn;Object.defineProperty(e,"appNoticeController",{enumerable:!0,get:function(){return C.appNoticeController}});var A=yn;Object.defineProperty(e,"appReviewController",{enumerable:!0,get:function(){return A.appReviewController}});var E=kn;Object.defineProperty(e,"badgeController",{enumerable:!0,get:function(){return E.badgeController}});var O=$n;Object.defineProperty(e,"cacheController",{enumerable:!0,get:function(){return O.cacheController}});var R=An;Object.defineProperty(e,"contactController",{enumerable:!0,get:function(){return R.contactController}});var P=On;Object.defineProperty(e,"dashboardController",{enumerable:!0,get:function(){return P.dashboardController}});var j=Pn;Object.defineProperty(e,"donationController",{enumerable:!0,get:function(){return j.donationController}});var M=In;Object.defineProperty(e,"feedbackFormController",{enumerable:!0,get:function(){return M.feedbackFormController}});var I=Hn;Object.defineProperty(e,"feedbackFormAnswerController",{enumerable:!0,get:function(){return I.feedbackFormAnswerController}});var D=Ln;Object.defineProperty(e,"feedbackFormQuestionController",{enumerable:!0,get:function(){return D.feedbackFormQuestionController}});var H=Fn;Object.defineProperty(e,"languageController",{enumerable:!0,get:function(){return H.languageController}});var N=Bn;Object.defineProperty(e,"licenceController",{enumerable:!0,get:function(){return N.licenceController}});var L=Vn;Object.defineProperty(e,"oAuthController",{enumerable:!0,get:function(){return L.oAuthController}});var U=Gn;Object.defineProperty(e,"patreonController",{enumerable:!0,get:function(){return U.patreonController}});var F=Qn;Object.defineProperty(e,"permissionController",{enumerable:!0,get:function(){return F.permissionController}});var z=er;Object.defineProperty(e,"quickActionController",{enumerable:!0,get:function(){return z.quickActionController}});var B=rr;Object.defineProperty(e,"steamController",{enumerable:!0,get:function(){return B.steamController}});var q=ar;Object.defineProperty(e,"teamMemberController",{enumerable:!0,get:function(){return q.teamMemberController}});var W=Rr;Object.defineProperty(e,"translationController",{enumerable:!0,get:function(){return W.translationController}});var G=cr;Object.defineProperty(e,"translationImageController",{enumerable:!0,get:function(){return G.translationImageController}});var J=dr;Object.defineProperty(e,"translationKeyController",{enumerable:!0,get:function(){return J.translationKeyController}});var Q=gr;Object.defineProperty(e,"translationReportController",{enumerable:!0,get:function(){return Q.translationReportController}});var we=br;Object.defineProperty(e,"translationStatController",{enumerable:!0,get:function(){return we.translationStatController}});var ye=yr;Object.defineProperty(e,"userController",{enumerable:!0,get:function(){return ye.userController}});var _e=$r;Object.defineProperty(e,"userActivityController",{enumerable:!0,get:function(){return _e.userActivityController}});var ke=Sr;Object.defineProperty(e,"versionController",{enumerable:!0,get:function(){return ke.versionController}});var xe=go;Object.defineProperty(e,"AssistantAppsOAuthClient",{enumerable:!0,get:function(){return xe.AssistantAppsOAuthClient}})}(W);const ws=()=>{var e;return null===(e=window.config)||void 0===e?void 0:e.assistantAppsApiUrl},ys=()=>new W.AssistantAppsApiService({url:ws()}),_s=()=>{var e,t;return null!==(t=null===(e=null===window||void 0===window?void 0:window.config)||void 0===e?void 0:e.assistantAppsImgRoot)&&void 0!==t?t:""};var ks;!function(e){e[e.Loading=0]="Loading",e[e.Success=1]="Success",e[e.Error=2]="Error"}(ks||(ks={}));const xs={},$s=async e=>{const t=await e();return 0==t.isSuccess||null==t.value?[ks.Error,xs]:[ks.Success,t.value]};function Ts(e,t,n){const r=e.slice();return r[3]=t[n],r}function Ss(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function Cs(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function As(e){let t,n,r,o;return{c(){t=g("assistant-apps-app-tile"),y(t,"name",n=e[3].name),y(t,"gamename",r=e[3].gameName),y(t,"logourl",o=e[3].logoUrl)},m(e,n){d(e,t,n)},p(e,s){2&s&&n!==(n=e[3].name)&&y(t,"name",n),2&s&&r!==(r=e[3].gameName)&&y(t,"gamename",r),2&s&&o!==(o=e[3].logoUrl)&&y(t,"logourl",o)},d(e){e&&p(t)}}}function Es(t){let n,r,o,s,i=null!=t[2].loading&&Ss(),a=null!=t[2].error&&Cs(),l=t[1],c=[];for(let e=0;e<l.length;e+=1)c[e]=As(Ts(t,l,e));return{c(){n=g("assistant-apps-loading"),i&&i.c(),r=f(),a&&a.c(),o=f(),s=g("div");for(let e=0;e<c.length;e+=1)c[e].c();this.c=e,w(s,"slot","loaded"),w(s,"class","grid-container apps-container noselect"),y(n,"networkstate",t[0])},m(e,t){d(e,n,t),i&&i.m(n,null),u(n,r),a&&a.m(n,null),u(n,o),u(n,s);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(s,null)},p(e,[t]){if(null!=e[2].loading?i||(i=Ss(),i.c(),i.m(n,r)):i&&(i.d(1),i=null),null!=e[2].error?a||(a=Cs(),a.c(),a.m(n,o)):a&&(a.d(1),a=null),2&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const r=Ts(e,l,n);c[n]?c[n].p(r,t):(c[n]=As(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),i&&i.d(),a&&a.d(),h(c,e)}}}function Os(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=c(r);let i=ks.Loading,a=[];return T((async()=>{const[e,t]=await(async()=>{const e=ys(),[t,n]=await $s(e.app.readAll);if(t==ks.Error)return[t,[]];const r=n.filter((e=>e.isVisible));return r.sort(((e,t)=>e.sortOrder-t.sortOrder)),[t,r]})();n(1,a=[...t]),n(0,i=e)})),[i,a,s]}function Rs(t){let n,r,o,s,i,a,c,h,b,v,y,k=t[0].replaceAll(t[1],"").trim()+"";return{c(){n=g("div"),r=g("img"),s=f(),i=g("div"),a=g("h2"),c=g("span"),h=m(k),b=g("br"),v=g("span"),y=m(t[1]),this.c=e,l(r.src,o=t[2])||w(r,"src",o),w(r,"alt",t[0]),w(r,"class","app-img noselect"),w(v,"class","highlight"),w(a,"class","app-name"),w(i,"class","content"),w(n,"class","aa-app")},m(e,t){d(e,n,t),u(n,r),u(n,s),u(n,i),u(i,a),u(a,c),u(c,h),u(a,b),u(a,v),u(v,y)},p(e,[t]){4&t&&!l(r.src,o=e[2])&&w(r,"src",o),1&t&&w(r,"alt",e[0]),3&t&&k!==(k=e[0].replaceAll(e[1],"").trim()+"")&&_(h,k),2&t&&_(y,e[1])},i:e,o:e,d(e){e&&p(n)}}}function Ps(e,t,n){let{name:r=""}=t,{gamename:o=""}=t,{logourl:s=""}=t;return e.$$set=e=>{"name"in e&&n(0,r=e.name),"gamename"in e&&n(1,o=e.gamename),"logourl"in e&&n(2,s=e.logourl)},[r,o,s]}customElements.define("assistant-apps-apps-list",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.apps-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.apps-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.apps-container{--aa-grid-columns:1}}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:{...k(this.attributes),$$slots:x(this)},customElement:!0},Os,Es,s,{},null),e&&e.target&&d(e.target,this,e.anchor)}});customElements.define("assistant-apps-app-tile",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.aa-app{display:flex;height:var(--assistantapps-apps-tile-height, 75px);background-color:var(--assistantapps-apps-background-colour, rgba(108, 117, 125, 0.4745098039));border-radius:5px;text-decoration:none;overflow:hidden}.aa-app img.app-img{height:var(--assistantapps-apps-tile-height, 75px);width:var(--assistantapps-apps-tile-height, 75px);object-fit:cover;margin:0}.aa-app .content{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-apps-text-colour, white);padding-left:1em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.aa-app .content .app-name{margin:0;max-width:100%;line-height:110%;overflow-wrap:break-word;white-space:pre-wrap;word-wrap:break-word}.aa-app .content .app-name .highlight{color:var(--assistantapps-apps-text-highlight-colour, #91ccff)}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},Ps,Rs,s,{name:0,gamename:1,logourl:2},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["name","gamename","logourl"]}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),I()}get gamename(){return this.$$.ctx[1]}set gamename(e){this.$$set({gamename:e}),I()}get logourl(){return this.$$.ctx[2]}set logourl(e){this.$$set({logourl:e}),I()}});const js=async e=>{const[t,n]=await $s(e.app.readAll);if(t==ks.Error)return[t,[],""];const r=n.filter((e=>e.isVisible));r.sort(((e,t)=>e.sortOrder-t.sortOrder));const o=r.map((e=>({name:e.name,value:e.guid,iconUrl:e.iconUrl}))),s=r[0].guid;return[ks.Success,o,s]},Ms=async e=>{const[t,n]=await $s(e.language.readAll);if(t==ks.Error)return[t,[],""];const r=n.filter((e=>e.isVisible));r.sort(((e,t)=>e.sortOrder-t.sortOrder));const o={guid:"hack",name:"English",languageCode:"en",countryCode:"gb",sortOrder:0,isVisible:!0},s=[o,...r].map((e=>({name:e.name,value:e.languageCode,iconUrl:`${_s()}/assets/img/countryCode/${e.countryCode.toLocaleUpperCase()}.svg`}))),i=o.languageCode;return[ks.Success,s,i]};function Is(e,t,n){const r=e.slice();return r[8]=t[n],r}function Ds(e,t,n){const r=e.slice();return r[8]=t[n],r}function Hs(e){let t,n=e[1],r=Ls(e);return{c(){r.c(),t=b()},m(e,n){r.m(e,n),d(e,t,n)},p(e,o){2&o&&s(n,n=e[1])?(r.d(1),r=Ls(e),r.c(),r.m(t.parentNode,t)):r.p(e,o)},d(e){e&&p(t),r.d(e)}}}function Ns(e){let t,n,r,o,s,i;function a(){return e[6](e[8])}return{c(){t=g("assistant-apps-dropdown-option"),y(t,"name",n=e[8].name),y(t,"value",r=e[8].value),y(t,"iconurl",o=e[8].iconUrl)},m(e,n){d(e,t,n),s||(i=v(t,"click",a),s=!0)},p(s,i){e=s,1&i&&n!==(n=e[8].name)&&y(t,"name",n),1&i&&r!==(r=e[8].value)&&y(t,"value",r),1&i&&o!==(o=e[8].iconUrl)&&y(t,"iconurl",o)},d(e){e&&p(t),s=!1,i()}}}function Ls(e){let t,n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=Ns(Ds(e,r,t));return{c(){t=g("assistant-apps-dropdown"),n=g("div");for(let e=0;e<o.length;e+=1)o[e].c();w(n,"slot","options"),y(t,"selectedvalue",e[1]),y(t,"options",e[0])},m(e,r){d(e,t,r),u(t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null)},p(e,s){if(3&s){let t;for(r=e[0],t=0;t<r.length;t+=1){const i=Ds(e,r,t);o[t]?o[t].p(i,s):(o[t]=Ns(i),o[t].c(),o[t].m(n,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=r.length}2&s&&y(t,"selectedvalue",e[1]),1&s&&y(t,"options",e[0])},d(e){e&&p(t),h(o,e)}}}function Us(e){let t,n=e[3],r=zs(e);return{c(){r.c(),t=b()},m(e,n){r.m(e,n),d(e,t,n)},p(e,o){8&o&&s(n,n=e[3])?(r.d(1),r=zs(e),r.c(),r.m(t.parentNode,t)):r.p(e,o)},d(e){e&&p(t),r.d(e)}}}function Fs(e){let t,n,r,o,s,i;function a(){return e[7](e[8])}return{c(){t=g("assistant-apps-dropdown-option"),y(t,"name",n=e[8].name),y(t,"value",r=e[8].value),y(t,"iconurl",o=e[8].iconUrl)},m(e,n){d(e,t,n),s||(i=v(t,"click",a),s=!0)},p(s,i){e=s,4&i&&n!==(n=e[8].name)&&y(t,"name",n),4&i&&r!==(r=e[8].value)&&y(t,"value",r),4&i&&o!==(o=e[8].iconUrl)&&y(t,"iconurl",o)},d(e){e&&p(t),s=!1,i()}}}function zs(e){let t,n,r=e[2],o=[];for(let t=0;t<r.length;t+=1)o[t]=Fs(Is(e,r,t));return{c(){t=g("assistant-apps-dropdown"),n=g("div");for(let e=0;e<o.length;e+=1)o[e].c();w(n,"slot","options"),y(t,"selectedvalue",e[3]),y(t,"options",e[2])},m(e,r){d(e,t,r),u(t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null)},p(e,s){if(12&s){let t;for(r=e[2],t=0;t<r.length;t+=1){const i=Is(e,r,t);o[t]?o[t].p(i,s):(o[t]=Fs(i),o[t].c(),o[t].m(n,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=r.length}8&s&&y(t,"selectedvalue",e[3]),4&s&&y(t,"options",e[2])},d(e){e&&p(t),h(o,e)}}}function Bs(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function qs(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function Ws(e){let t;return{c(){t=g("assistant-apps-app-notice-list"),y(t,"appguid",e[1]),y(t,"langcode",e[3])},m(e,n){d(e,t,n)},p(e,n){2&n&&y(t,"appguid",e[1]),8&n&&y(t,"langcode",e[3])},d(e){e&&p(t)}}}function Vs(e){let t,n=e[1].length>0&&e[3].length>0&&Ws(e);return{c(){n&&n.c(),t=b()},m(e,r){n&&n.m(e,r),d(e,t,r)},p(e,r){e[1].length>0&&e[3].length>0?n?n.p(e,r):(n=Ws(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&p(t)}}}function Ks(e){let t,n=e[3],r=Vs(e);return{c(){r.c(),t=b()},m(e,n){r.m(e,n),d(e,t,n)},p(e,o){8&o&&s(n,n=e[3])?(r.d(1),r=Vs(e),r.c(),r.m(t.parentNode,t)):r.p(e,o)},d(e){e&&p(t),r.d(e)}}}function Gs(t){let n,r,o,i,a,l,c,h=t[1],m=t[0].length>0&&Hs(t),b=t[2].length>0&&Us(t),v=null!=t[5].loading&&Bs(),_=null!=t[5].error&&qs(),k=Ks(t);return{c(){n=g("div"),m&&m.c(),r=f(),b&&b.c(),o=f(),i=g("assistant-apps-loading"),v&&v.c(),a=f(),_&&_.c(),l=f(),c=g("div"),k.c(),this.c=e,w(c,"slot","loaded"),y(i,"networkstate",t[4])},m(e,t){d(e,n,t),m&&m.m(n,null),u(n,r),b&&b.m(n,null),u(n,o),u(n,i),v&&v.m(i,null),u(i,a),_&&_.m(i,null),u(i,l),u(i,c),k.m(c,null)},p(e,[t]){e[0].length>0?m?m.p(e,t):(m=Hs(e),m.c(),m.m(n,r)):m&&(m.d(1),m=null),e[2].length>0?b?b.p(e,t):(b=Us(e),b.c(),b.m(n,o)):b&&(b.d(1),b=null),null!=e[5].loading?v||(v=Bs(),v.c(),v.m(i,a)):v&&(v.d(1),v=null),null!=e[5].error?_||(_=qs(),_.c(),_.m(i,l)):_&&(_.d(1),_=null),2&t&&s(h,h=e[1])?(k.d(1),k=Ks(e),k.c(),k.m(c,null)):k.p(e,t),16&t&&y(i,"networkstate",e[4])},i:e,o:e,d(e){e&&p(n),m&&m.d(),b&&b.d(),v&&v.d(),_&&_.d(),k.d(e)}}}function Js(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=c(r);let i=[],a="",l=[],u="",d=ks.Loading;T((async()=>{const e=await(async()=>{const e=ys(),t=await js(e),n=await Ms(e);return t[0]==ks.Error||n[0]==ks.Error?{networkState:ks.Error,appLookup:[],selectedAppGuid:"",langLookup:[],selectedLangCode:""}:{networkState:ks.Success,appLookup:t[1],selectedAppGuid:t[2],langLookup:n[1],selectedLangCode:n[2]}})();n(4,d=e.networkState),n(0,i=e.appLookup),n(1,a=e.selectedAppGuid),n(2,l=e.langLookup),n(3,u=e.selectedLangCode)}));return[i,a,l,u,d,s,e=>{n(1,a=e.value)},e=>{n(3,u=e.value)}]}customElements.define("assistant-apps-app-notice-list-search",class extends F{constructor(e){super(),U(this,{target:this.shadowRoot,props:{...k(this.attributes),$$slots:x(this)},customElement:!0},Js,Gs,s,{},null),e&&e.target&&d(e.target,this,e.anchor)}});function Qs(e,t,n){const r=e.slice();return r[5]=t[n],r}function Zs(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function Ys(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function Xs(t){let n;return{c(){n=g("h3"),n.textContent="No Notices to display"},m(e,t){d(e,n,t)},p:e,d(e){e&&p(n)}}}function ei(e){let t,n=e[1],r=[];for(let t=0;t<n.length;t+=1)r[t]=ti(Qs(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=b()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);d(e,t,n)},p(e,o){if(2&o){let s;for(n=e[1],s=0;s<n.length;s+=1){const i=Qs(e,n,s);r[s]?r[s].p(i,o):(r[s]=ti(i),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){h(r,e),e&&p(t)}}}function ti(e){let t,n,r,o;return{c(){t=g("assistant-apps-app-notice-tile"),y(t,"name",n=e[5].name),y(t,"subtitle",r=e[5].subtitle),y(t,"iconurl",o=e[5].iconUrl)},m(e,n){d(e,t,n)},p(e,s){2&s&&n!==(n=e[5].name)&&y(t,"name",n),2&s&&r!==(r=e[5].subtitle)&&y(t,"subtitle",r),2&s&&o!==(o=e[5].iconUrl)&&y(t,"iconurl",o)},d(e){e&&p(t)}}}function ni(t){let n,r,o,s,i=null!=t[2].loading&&Zs(),a=null!=t[2].error&&Ys();function l(e,t){return e[1].length>0?ei:Xs}let c=l(t),h=c(t);return{c(){n=g("assistant-apps-loading"),i&&i.c(),r=f(),a&&a.c(),o=f(),s=g("div"),h.c(),this.c=e,w(s,"slot","loaded"),w(s,"class","grid-container app-notice-container noselect"),y(n,"networkstate",t[0])},m(e,t){d(e,n,t),i&&i.m(n,null),u(n,r),a&&a.m(n,null),u(n,o),u(n,s),h.m(s,null)},p(e,[t]){null!=e[2].loading?i||(i=Zs(),i.c(),i.m(n,r)):i&&(i.d(1),i=null),null!=e[2].error?a||(a=Ys(),a.c(),a.m(n,o)):a&&(a.d(1),a=null),c===(c=l(e))&&h?h.p(e,t):(h.d(1),h=c(e),h&&(h.c(),h.m(s,null))),1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),i&&i.d(),a&&a.d(),h.d()}}}function ri(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=c(r);let{appguid:i=""}=t,{langcode:a=""}=t,l=ks.Loading,u=[];return T((async()=>{const[e,t]=await(async(e,t)=>{const n=ys(),[r,o]=await $s((()=>n.appNotice.readAll(e,t)));if(r==ks.Error)return[r,[]];const s=o.filter((e=>e.isVisible));return s.sort(((e,t)=>e.sortOrder-t.sortOrder)),[r,s]})(i,a);n(1,u=[...t]),n(0,l=e)})),e.$$set=e=>{"appguid"in e&&n(3,i=e.appguid),"langcode"in e&&n(4,a=e.langcode)},[l,u,s,i,a]}function oi(t){let n,r,o,s,i,a,c,h,b,v,y;return{c(){n=g("div"),r=g("img"),s=f(),i=g("div"),a=g("h2"),c=g("span"),h=m(t[0]),b=g("br"),v=g("span"),y=m(t[1]),this.c=e,l(r.src,o=t[2])||w(r,"src",o),w(r,"alt",t[0]),w(r,"class","app-img noselect"),w(a,"class","app-name"),w(i,"class","content"),w(n,"class","aa-app")},m(e,t){d(e,n,t),u(n,r),u(n,s),u(n,i),u(i,a),u(a,c),u(c,h),u(a,b),u(a,v),u(v,y)},p(e,[t]){4&t&&!l(r.src,o=e[2])&&w(r,"src",o),1&t&&w(r,"alt",e[0]),1&t&&_(h,e[0]),2&t&&_(y,e[1])},i:e,o:e,d(e){e&&p(n)}}}function si(e,t,n){let{name:r=""}=t,{subtitle:o=""}=t,{iconurl:s=""}=t;return e.$$set=e=>{"name"in e&&n(0,r=e.name),"subtitle"in e&&n(1,o=e.subtitle),"iconurl"in e&&n(2,s=e.iconurl)},[r,o,s]}customElements.define("assistant-apps-app-notice-list",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.app-notice-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.app-notice-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.app-notice-container{--aa-grid-columns:1}}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:{...k(this.attributes),$$slots:x(this)},customElement:!0},ri,ni,s,{appguid:3,langcode:4},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["appguid","langcode"]}get appguid(){return this.$$.ctx[3]}set appguid(e){this.$$set({appguid:e}),I()}get langcode(){return this.$$.ctx[4]}set langcode(e){this.$$set({langcode:e}),I()}});customElements.define("assistant-apps-app-notice-tile",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.aa-app{display:flex;height:var(--assistantapps-app-notice-tile-height, 75px);background-color:var(--assistantapps-app-notice-background-colour, rgba(108, 117, 125, 0.4745098039));border-radius:5px;text-decoration:none;overflow:hidden}.aa-app img.app-img{height:var(--assistantapps-app-notice-tile-height, 75px);width:var(--assistantapps-app-notice-tile-height, 75px);object-fit:cover;margin:0}.aa-app .content{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-app-notice-text-colour, white);padding-left:1em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.aa-app .content .app-name{margin:0;max-width:100%;line-height:110%;overflow-wrap:break-word;white-space:pre-wrap;word-wrap:break-word}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},si,oi,s,{name:0,subtitle:1,iconurl:2},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["name","subtitle","iconurl"]}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),I()}get subtitle(){return this.$$.ctx[1]}set subtitle(e){this.$$set({subtitle:e}),I()}get iconurl(){return this.$$.ctx[2]}set iconurl(e){this.$$set({iconurl:e}),I()}});const ii=async e=>{const[t,n]=await $s(e.app.readAll);if(t==ks.Error)return[t,[],"",""];const r=n.filter((e=>e.isVisible));r.sort(((e,t)=>e.sortOrder-t.sortOrder));const o=r.map((e=>({name:e.name,value:e.guid,iconUrl:e.iconUrl}))),s=r[0].guid;return[ks.Success,o,s,"1"]},ai=async()=>{const e=_s(),t=[...[{name:"Google Play",value:"1",iconUrl:`${e}/assets/img/platform/android.png`},{name:"Apple App Store",value:"2",iconUrl:`${e}/assets/img/platform/iOS.png`}]];return[t,t[0].value]};function li(e,t,n){const r=e.slice();return r[9]=t[n],r}function ci(e,t,n){const r=e.slice();return r[9]=t[n],r}function ui(e){let t,n=e[1],r=pi(e);return{c(){r.c(),t=b()},m(e,n){r.m(e,n),d(e,t,n)},p(e,o){2&o&&s(n,n=e[1])?(r.d(1),r=pi(e),r.c(),r.m(t.parentNode,t)):r.p(e,o)},d(e){e&&p(t),r.d(e)}}}function di(e){let t,n,r,o,s,i;function a(){return e[7](e[9])}return{c(){t=g("assistant-apps-dropdown-option"),y(t,"name",n=e[9].name),y(t,"value",r=e[9].value),y(t,"iconurl",o=e[9].iconUrl)},m(e,n){d(e,t,n),s||(i=v(t,"click",a),s=!0)},p(s,i){e=s,1&i&&n!==(n=e[9].name)&&y(t,"name",n),1&i&&r!==(r=e[9].value)&&y(t,"value",r),1&i&&o!==(o=e[9].iconUrl)&&y(t,"iconurl",o)},d(e){e&&p(t),s=!1,i()}}}function pi(e){let t,n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=di(ci(e,r,t));return{c(){t=g("assistant-apps-dropdown"),n=g("div");for(let e=0;e<o.length;e+=1)o[e].c();w(n,"slot","options"),y(t,"selectedvalue",e[1]),y(t,"options",e[0])},m(e,r){d(e,t,r),u(t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null)},p(e,s){if(7&s){let t;for(r=e[0],t=0;t<r.length;t+=1){const i=ci(e,r,t);o[t]?o[t].p(i,s):(o[t]=di(i),o[t].c(),o[t].m(n,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=r.length}2&s&&y(t,"selectedvalue",e[1]),1&s&&y(t,"options",e[0])},d(e){e&&p(t),h(o,e)}}}function hi(e){let t,n=e[4],r=mi(e);return{c(){r.c(),t=b()},m(e,n){r.m(e,n),d(e,t,n)},p(e,o){16&o&&s(n,n=e[4])?(r.d(1),r=mi(e),r.c(),r.m(t.parentNode,t)):r.p(e,o)},d(e){e&&p(t),r.d(e)}}}function gi(e){let t,n,r,o,s,i;function a(){return e[8](e[9])}return{c(){t=g("assistant-apps-dropdown-option"),y(t,"name",n=e[9].name),y(t,"value",r=e[9].value),y(t,"iconurl",o=e[9].iconUrl)},m(e,n){d(e,t,n),s||(i=v(t,"click",a),s=!0)},p(s,i){e=s,8&i&&n!==(n=e[9].name)&&y(t,"name",n),8&i&&r!==(r=e[9].value)&&y(t,"value",r),8&i&&o!==(o=e[9].iconUrl)&&y(t,"iconurl",o)},d(e){e&&p(t),s=!1,i()}}}function mi(e){let t,n,r=e[3],o=[];for(let t=0;t<r.length;t+=1)o[t]=gi(li(e,r,t));return{c(){t=g("assistant-apps-dropdown"),n=g("div");for(let e=0;e<o.length;e+=1)o[e].c();w(n,"slot","options"),y(t,"selectedvalue",e[4]),y(t,"options",e[3])},m(e,r){d(e,t,r),u(t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null)},p(e,s){if(24&s){let t;for(r=e[3],t=0;t<r.length;t+=1){const i=li(e,r,t);o[t]?o[t].p(i,s):(o[t]=gi(i),o[t].c(),o[t].m(n,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=r.length}16&s&&y(t,"selectedvalue",e[4]),8&s&&y(t,"options",e[3])},d(e){e&&p(t),h(o,e)}}}function fi(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function bi(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function vi(e){let t;return{c(){t=g("assistant-apps-review-badge"),y(t,"apptype",e[2]),y(t,"platform",e[4])},m(e,n){d(e,t,n)},p(e,n){4&n&&y(t,"apptype",e[2]),16&n&&y(t,"platform",e[4])},d(e){e&&p(t)}}}function wi(e){let t,n=e[4],r=vi(e);return{c(){r.c(),t=b()},m(e,n){r.m(e,n),d(e,t,n)},p(e,o){16&o&&s(n,n=e[4])?(r.d(1),r=vi(e),r.c(),r.m(t.parentNode,t)):r.p(e,o)},d(e){e&&p(t),r.d(e)}}}function yi(e){let t;return{c(){t=g("assistant-apps-version-badge"),y(t,"appguid",e[1])},m(e,n){d(e,t,n)},p(e,n){2&n&&y(t,"appguid",e[1])},d(e){e&&p(t)}}}function _i(t){let n,r,o,i,a,l,c,h,m,b,v=t[2],_=t[1],k=t[0].length>0&&ui(t),x=t[3].length>0&&hi(t),$=null!=t[6].loading&&fi(),T=null!=t[6].error&&bi(),S=wi(t),C=yi(t);return{c(){n=g("div"),k&&k.c(),r=f(),x&&x.c(),o=f(),i=g("assistant-apps-loading"),$&&$.c(),a=f(),T&&T.c(),l=f(),c=g("div"),S.c(),h=f(),m=g("br"),b=f(),C.c(),this.c=e,w(c,"slot","loaded"),y(i,"networkstate",t[5])},m(e,t){d(e,n,t),k&&k.m(n,null),u(n,r),x&&x.m(n,null),u(n,o),u(n,i),$&&$.m(i,null),u(i,a),T&&T.m(i,null),u(i,l),u(i,c),S.m(c,null),u(c,h),u(c,m),u(c,b),C.m(c,null)},p(e,[t]){e[0].length>0?k?k.p(e,t):(k=ui(e),k.c(),k.m(n,r)):k&&(k.d(1),k=null),e[3].length>0?x?x.p(e,t):(x=hi(e),x.c(),x.m(n,o)):x&&(x.d(1),x=null),null!=e[6].loading?$||($=fi(),$.c(),$.m(i,a)):$&&($.d(1),$=null),null!=e[6].error?T||(T=bi(),T.c(),T.m(i,l)):T&&(T.d(1),T=null),4&t&&s(v,v=e[2])?(S.d(1),S=wi(e),S.c(),S.m(c,h)):S.p(e,t),2&t&&s(_,_=e[1])?(C.d(1),C=yi(e),C.c(),C.m(c,null)):C.p(e,t),32&t&&y(i,"networkstate",e[5])},i:e,o:e,d(e){e&&p(n),k&&k.d(),x&&x.d(),$&&$.d(),T&&T.d(),S.d(e),C.d(e)}}}function ki(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=c(r);let i=[],a="",l="",u=[],d="",p=ks.Loading;T((async()=>{const e=await(async()=>{const e=ys(),t=await ii(e),n=await ai();return t[0]==ks.Error?{networkState:ks.Error,appLookup:[],selectedAppGuid:"",selectedAppType:"",platLookup:[],selectedPlatType:""}:{networkState:ks.Success,appLookup:t[1],selectedAppGuid:t[2],selectedAppType:t[3],platLookup:n[0],selectedPlatType:n[1]}})();n(5,p=e.networkState),n(0,i=e.appLookup),n(1,a=e.selectedAppGuid),n(2,l=e.selectedAppType),n(3,u=e.platLookup),n(4,d=e.selectedPlatType)}));return[i,a,l,u,d,p,s,e=>{n(2,l=e.value),n(1,a=e.value)},e=>{n(4,d=e.value)}]}function xi(t){let n,r,o,s;return{c(){n=g("object"),r=g("img"),this.c=e,l(r.src,o=t[2]??`${_s()}/assets/img/fallback.png`)||w(r,"src",o),w(r,"alt","review-badge"),w(n,"title","review-badge"),w(n,"data",s=`${ws()}/badge/review/${t[0]}/${t[1]}.svg`),w(n,"type","image/jpeg")},m(e,t){d(e,n,t),u(n,r)},p(e,[t]){4&t&&!l(r.src,o=e[2]??`${_s()}/assets/img/fallback.png`)&&w(r,"src",o),3&t&&s!==(s=`${ws()}/badge/review/${e[0]}/${e[1]}.svg`)&&w(n,"data",s)},i:e,o:e,d(e){e&&p(n)}}}function $i(e,t,n){let{apptype:r=""}=t,{platform:o=""}=t,{fallbackimg:s=""}=t;return e.$$set=e=>{"apptype"in e&&n(0,r=e.apptype),"platform"in e&&n(1,o=e.platform),"fallbackimg"in e&&n(2,s=e.fallbackimg)},[r,o,s]}customElements.define("assistant-apps-badge-selector",class extends F{constructor(e){super(),U(this,{target:this.shadowRoot,props:{...k(this.attributes),$$slots:x(this)},customElement:!0},ki,_i,s,{},null),e&&e.target&&d(e.target,this,e.anchor)}});function Ti(t){let n,r,o,s;return{c(){n=g("object"),r=g("img"),this.c=e,l(r.src,o=t[1]??`${_s()}/assets/img/fallback.png`)||w(r,"src",o),w(r,"alt","version-badge"),w(n,"title","review-badge"),w(n,"data",s=`${ws()}/badge/version/${t[0]}.svg`),w(n,"type","image/jpeg")},m(e,t){d(e,n,t),u(n,r)},p(e,[t]){2&t&&!l(r.src,o=e[1]??`${_s()}/assets/img/fallback.png`)&&w(r,"src",o),1&t&&s!==(s=`${ws()}/badge/version/${e[0]}.svg`)&&w(n,"data",s)},i:e,o:e,d(e){e&&p(n)}}}function Si(e,t,n){let{appguid:r=""}=t,{fallbackimg:o=""}=t;return e.$$set=e=>{"appguid"in e&&n(0,r=e.appguid),"fallbackimg"in e&&n(1,o=e.fallbackimg)},[r,o]}customElements.define("assistant-apps-review-badge",class extends F{constructor(e){super(),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},$i,xi,s,{apptype:0,platform:1,fallbackimg:2},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["apptype","platform","fallbackimg"]}get apptype(){return this.$$.ctx[0]}set apptype(e){this.$$set({apptype:e}),I()}get platform(){return this.$$.ctx[1]}set platform(e){this.$$set({platform:e}),I()}get fallbackimg(){return this.$$.ctx[2]}set fallbackimg(e){this.$$set({fallbackimg:e}),I()}});customElements.define("assistant-apps-version-badge",class extends F{constructor(e){super(),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},Si,Ti,s,{appguid:0,fallbackimg:1},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["appguid","fallbackimg"]}get appguid(){return this.$$.ctx[0]}set appguid(e){this.$$set({appguid:e}),I()}get fallbackimg(){return this.$$.ctx[1]}set fallbackimg(e){this.$$set({fallbackimg:e}),I()}});const Ci=[{title:"Patreon",url:"https://www.patreon.com/AssistantApps",image:"Patreon.png"},{title:"Github Sponsors",url:"https://github.com/sponsors/AssistantNMS",image:"GithubSponsors.png"},{title:"PayPal",url:"https://paypal.me/KurtLourens",image:"Paypal.png"},{title:"Buy me a Coffee",url:"https://www.buymeacoffee.com/kurt",image:"BuyMeACoffee.png"},{title:"Open Collective",url:"https://opencollective.com/assistantnms",image:"OpenCollective.png"},{title:"Ko-fi",url:"https://ko-fi.com/AssistantNMS",image:"KoFi.png"},{title:"Brave",url:"https://brave.com/nms136",image:"BraveRewards.png"}];function Ai(e,t,n){const r=e.slice();return r[0]=t[n],r}function Ei(t){let n,r,o,s,i,a,c,h,b=t[0].title+"";return{c(){n=g("a"),r=g("img"),s=f(),i=g("div"),a=g("h2"),c=m(b),h=f(),l(r.src,o=`${_s()}/assets/img/donation/${t[0].image}`)||w(r,"src",o),w(r,"alt",t[0].title),w(r,"class","donation-img noselect"),w(a,"class","app-name"),w(i,"class","content"),w(n,"href",t[0].url),w(n,"class","aa-donation-option"),w(n,"target","_blank"),w(n,"rel","noreferrer noopener"),w(n,"title",t[0].title)},m(e,t){d(e,n,t),u(n,r),u(n,s),u(n,i),u(i,a),u(a,c),u(n,h)},p:e,d(e){e&&p(n)}}}function Oi(t){let n,r=Ci,o=[];for(let e=0;e<r.length;e+=1)o[e]=Ei(Ai(t,r,e));return{c(){n=g("div");for(let e=0;e<o.length;e+=1)o[e].c();this.c=e,w(n,"class","grid-container donation-options-container")},m(e,t){d(e,n,t);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null)},p(e,[t]){if(0&t){let s;for(r=Ci,s=0;s<r.length;s+=1){const i=Ai(e,r,s);o[s]?o[s].p(i,t):(o[s]=Ei(i),o[s].c(),o[s].m(n,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},i:e,o:e,d(e){e&&p(n),h(o,e)}}}customElements.define("assistant-apps-donation-option-list",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.donation-options-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.donation-options-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.donation-options-container{--aa-grid-columns:1}}.aa-donation-option{display:flex;height:var(--assistantapps-donation-tile-height, 75px);background-color:var(--assistantapps-donation-background-colour, rgba(108, 117, 125, 0.4745098039));border-radius:5px;text-decoration:none;overflow:hidden}.aa-donation-option img.donation-img{height:calc(var(--assistantapps-donation-tile-height, 75px) - 20px);width:calc(var(--assistantapps-donation-tile-height, 75px) - 20px);object-fit:cover;margin:0;padding:10px}.aa-donation-option .content{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-donation-text-colour, white);padding-left:1em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.aa-donation-option .content .app-name{margin:0;max-width:100%;line-height:110%;overflow-wrap:break-word;white-space:pre-wrap;word-wrap:break-word}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},null,Oi,s,{},null),e&&e.target&&d(e.target,this,e.anchor)}});function Ri(e,t,n){const r=e.slice();return r[3]=t[n],r}function Pi(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function ji(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function Mi(e){let t,n,r,o,s,i,a,c,h=e[3].username+"";return{c(){t=g("div"),n=g("img"),s=f(),i=g("div"),a=g("h2"),c=m(h),l(n.src,r=`${_s()}/assets/img/donation/${e[3].type}.png`)||w(n,"src",r),w(n,"alt",o=e[3].type.toString()),w(n,"class","donation-img noselect"),w(a,"class","app-name"),w(i,"class","content"),w(t,"class","aa-donation")},m(e,r){d(e,t,r),u(t,n),u(t,s),u(t,i),u(i,a),u(a,c)},p(e,t){2&t&&!l(n.src,r=`${_s()}/assets/img/donation/${e[3].type}.png`)&&w(n,"src",r),2&t&&o!==(o=e[3].type.toString())&&w(n,"alt",o),2&t&&h!==(h=e[3].username+"")&&_(c,h)},d(e){e&&p(t)}}}function Ii(t){let n,r,o,s,i,a,c,m,b,v,_=null!=t[2].loading&&Pi(),k=null!=t[2].error&&ji(),x=t[1],$=[];for(let e=0;e<x.length;e+=1)$[e]=Mi(Ri(t,x,e));return{c(){n=g("assistant-apps-loading"),_&&_.c(),r=f(),k&&k.c(),o=f(),s=g("div");for(let e=0;e<$.length;e+=1)$[e].c();i=f(),a=g("div"),c=g("img"),b=f(),v=g("div"),v.innerHTML='<h2 class="app-name">Many more supporters</h2>',this.c=e,l(c.src,m=`${_s()}/assets/img/donation/GithubSponsors.png`)||w(c,"src",m),w(c,"alt","other"),w(c,"class","donation-img noselect"),w(v,"class","content"),w(a,"class","aa-donation"),w(s,"slot","loaded"),w(s,"class","grid-container donation-container"),y(n,"networkstate",t[0])},m(e,t){d(e,n,t),_&&_.m(n,null),u(n,r),k&&k.m(n,null),u(n,o),u(n,s);for(let e=0;e<$.length;e+=1)$[e]&&$[e].m(s,null);u(s,i),u(s,a),u(a,c),u(a,b),u(a,v)},p(e,[t]){if(null!=e[2].loading?_||(_=Pi(),_.c(),_.m(n,r)):_&&(_.d(1),_=null),null!=e[2].error?k||(k=ji(),k.c(),k.m(n,o)):k&&(k.d(1),k=null),2&t){let n;for(x=e[1],n=0;n<x.length;n+=1){const r=Ri(e,x,n);$[n]?$[n].p(r,t):($[n]=Mi(r),$[n].c(),$[n].m(s,i))}for(;n<$.length;n+=1)$[n].d(1);$.length=x.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),_&&_.d(),k&&k.d(),h($,e)}}}function Di(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=c(r);let i=ks.Loading,a=[];return T((async()=>{const[e,t]=await(async()=>{const e=ys(),[t,n]=await $s(e.donation.readAll);return t==ks.Error?[t,[]]:[t,n]})();n(1,a=[...t]),n(0,i=e)})),[i,a,s]}customElements.define("assistant-apps-donators-list",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.donation-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.donation-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.donation-container{--aa-grid-columns:1}}.aa-donation{display:flex;height:var(--assistantapps-donation-tile-height, 75px);background-color:var(--assistantapps-donation-background-colour, rgba(108, 117, 125, 0.4745098039));border-radius:5px;text-decoration:none;overflow:hidden}.aa-donation img.donation-img{height:calc(var(--assistantapps-donation-tile-height, 75px) - 20px);width:calc(var(--assistantapps-donation-tile-height, 75px) - 20px);object-fit:cover;margin:0;padding:10px}.aa-donation .content{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-donation-text-colour, white);padding-left:1em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.aa-donation .content .app-name{margin:0;max-width:100%;line-height:110%;overflow-wrap:break-word;white-space:pre-wrap;word-wrap:break-word}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:{...k(this.attributes),$$slots:x(this)},customElement:!0},Di,Ii,s,{},null),e&&e.target&&d(e.target,this,e.anchor)}});function Hi(e,t,n){const r=e.slice();return r[2]=t[n],r}function Ni(e){let t,n,r,o;return{c(){t=g("assistant-apps-patron-tile"),y(t,"url",n=e[2].url??"https://assistantapps.com"),y(t,"name",r=e[2].name),y(t,"imageurl",o=e[2].imageUrl)},m(e,n){d(e,t,n)},p(e,s){2&s&&n!==(n=e[2].url??"https://assistantapps.com")&&y(t,"url",n),2&s&&r!==(r=e[2].name)&&y(t,"name",r),2&s&&o!==(o=e[2].imageUrl)&&y(t,"imageurl",o)},d(e){e&&p(t)}}}function Li(t){let n,r,o,s,i,a,l=t[1],c=[];for(let e=0;e<l.length;e+=1)c[e]=Ni(Hi(t,l,e));return{c(){n=g("assistant-apps-loading"),r=g("slot"),o=f(),s=g("slot"),i=f(),a=g("div");for(let e=0;e<c.length;e+=1)c[e].c();this.c=e,w(r,"name","loading"),w(r,"slot","loading"),w(s,"name","error"),w(s,"slot","error"),w(a,"slot","loaded"),w(a,"class","grid-container patreon-container noselect"),y(n,"networkstate",t[0])},m(e,t){d(e,n,t),u(n,r),u(n,o),u(n,s),u(n,i),u(n,a);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(a,null)},p(e,[t]){if(2&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const r=Hi(e,l,n);c[n]?c[n].p(r,t):(c[n]=Ni(r),c[n].c(),c[n].m(a,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),h(c,e)}}}function Ui(e,t,n){let r=ks.Loading,o=[];return T((async()=>{const[e,t]=await(async()=>{const e=ys(),[t,n]=await $s(e.patreon.readAll);return t==ks.Error?[t,[]]:[t,[...n.map((e=>Object.assign(Object.assign({},e),{url:void 0}))),{name:"Join Patreon",imageUrl:"https://cdn.assistantapps.com/patreon.png",thumbnailUrl:"https://cdn.assistantapps.com/patreon.png",url:"https://patreon.com/AssistantApps"}]]})();n(1,o=[...t]),n(0,r=e)})),[r,o]}function Fi(e){let t,n,r,o,s,i;return{c(){t=g("div"),n=g("img"),o=f(),s=g("h2"),i=m(e[1]),l(n.src,r=e[2])||w(n,"src",r),w(n,"alt",e[1]),w(n,"class","patron-img noselect"),w(s,"class","patron-name"),w(t,"class","patron")},m(e,r){d(e,t,r),u(t,n),u(t,o),u(t,s),u(s,i)},p(e,t){4&t&&!l(n.src,r=e[2])&&w(n,"src",r),2&t&&w(n,"alt",e[1]),2&t&&_(i,e[1])},d(e){e&&p(t)}}}function zi(e){let t,n,r,o,s,i;return{c(){t=g("a"),n=g("img"),o=f(),s=g("h2"),i=m(e[1]),l(n.src,r=e[2])||w(n,"src",r),w(n,"alt",e[1]),w(n,"class","patron-img noselect"),w(s,"class","patron-name"),w(t,"href",e[0]),w(t,"target","_blank"),w(t,"rel","noopener noreferrer"),w(t,"class","patron")},m(e,r){d(e,t,r),u(t,n),u(t,o),u(t,s),u(s,i)},p(e,o){4&o&&!l(n.src,r=e[2])&&w(n,"src",r),2&o&&w(n,"alt",e[1]),2&o&&_(i,e[1]),1&o&&w(t,"href",e[0])},d(e){e&&p(t)}}}function Bi(t){let n;function r(e,t){return null!=e[0]?zi:Fi}let o=r(t),s=o(t);return{c(){s.c(),n=b(),this.c=e},m(e,t){s.m(e,t),d(e,n,t)},p(e,[t]){o===(o=r(e))&&s?s.p(e,t):(s.d(1),s=o(e),s&&(s.c(),s.m(n.parentNode,n)))},i:e,o:e,d(e){s.d(e),e&&p(n)}}}function qi(e,t,n){let{url:r}=t,{name:o=""}=t,{imageurl:s=""}=t;return e.$$set=e=>{"url"in e&&n(0,r=e.url),"name"in e&&n(1,o=e.name),"imageurl"in e&&n(2,s=e.imageurl)},[r,o,s]}customElements.define("assistant-apps-patreon-list",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.patreon-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.patreon-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.patreon-container{--aa-grid-columns:1}}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},Ui,Li,s,{},null),e&&e.target&&d(e.target,this,e.anchor)}});customElements.define("assistant-apps-patron-tile",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.patron{display:flex;background-color:var(--assistantapps-patron-background-colour, #6c757d);border-radius:5px;text-decoration:none;overflow:hidden}.patron img.patron-img{height:100px;width:100px;object-fit:cover;margin:0}.patron .patron-name{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-patron-text-colour, white);padding-left:0.5em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},qi,Bi,s,{url:0,name:1,imageurl:2},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["url","name","imageurl"]}get url(){return this.$$.ctx[0]}set url(e){this.$$set({url:e}),I()}get name(){return this.$$.ctx[1]}set name(e){this.$$set({name:e}),I()}get imageurl(){return this.$$.ctx[2]}set imageurl(e){this.$$set({imageurl:e}),I()}});function Wi(e,t,n){const r=e.slice();return r[2]=t[n],r}function Vi(e){let t,n,r,o,s,i;return{c(){t=g("assistant-apps-team-tile"),y(t,"name",n=e[2].name),y(t,"role",r=e[2].role),y(t,"imageurl",o=e[2].imageUrl),y(t,"linkname",s=e[2].linkName),y(t,"linkurl",i=e[2].linkUrl)},m(e,n){d(e,t,n)},p(e,a){2&a&&n!==(n=e[2].name)&&y(t,"name",n),2&a&&r!==(r=e[2].role)&&y(t,"role",r),2&a&&o!==(o=e[2].imageUrl)&&y(t,"imageurl",o),2&a&&s!==(s=e[2].linkName)&&y(t,"linkname",s),2&a&&i!==(i=e[2].linkUrl)&&y(t,"linkurl",i)},d(e){e&&p(t)}}}function Ki(t){let n,r,o,s,i,a,l=t[1],c=[];for(let e=0;e<l.length;e+=1)c[e]=Vi(Wi(t,l,e));return{c(){n=g("assistant-apps-loading"),r=g("slot"),o=f(),s=g("slot"),i=f(),a=g("div");for(let e=0;e<c.length;e+=1)c[e].c();this.c=e,w(r,"name","loading"),w(r,"slot","loading"),w(s,"name","error"),w(s,"slot","error"),w(a,"slot","loaded"),w(a,"class","team-members-container noselect"),y(n,"networkstate",t[0])},m(e,t){d(e,n,t),u(n,r),u(n,o),u(n,s),u(n,i),u(n,a);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(a,null)},p(e,[t]){if(2&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const r=Wi(e,l,n);c[n]?c[n].p(r,t):(c[n]=Vi(r),c[n].c(),c[n].m(a,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),h(c,e)}}}function Gi(e,t,n){let r=ks.Loading,o=[];return T((async()=>{const[e,t]=await(async()=>{const e=ys(),[t,n]=await $s(e.teamMember.readAll);return t==ks.Error?[t,[]]:[t,n]})();n(1,o=[...t]),n(0,r=e)})),[r,o]}function Ji(e){let t,n;return{c(){t=g("a"),n=m(e[3]),w(t,"href",e[4]),w(t,"target","_blank"),w(t,"rel","noopener noreferrer")},m(e,r){d(e,t,r),u(t,n)},p(e,r){8&r&&_(n,e[3]),16&r&&w(t,"href",e[4])},d(e){e&&p(t)}}}function Qi(t){let n,r,o,s,i,a,c,h,b,v,y,k=null!=t[4]&&null!=t[3]&&Ji(t);return{c(){n=g("div"),r=g("img"),s=f(),i=g("div"),a=g("h3"),c=m(t[0]),h=f(),b=g("p"),v=m(t[1]),y=f(),k&&k.c(),this.c=e,l(r.src,o=t[2])||w(r,"src",o),w(r,"alt",t[0]),w(r,"class","team-member-img noselect"),w(a,"class","team-member-name"),w(b,"class","team-member-role"),w(i,"class","team-member-contents"),w(n,"class","team-member")},m(e,t){d(e,n,t),u(n,r),u(n,s),u(n,i),u(i,a),u(a,c),u(i,h),u(i,b),u(b,v),u(i,y),k&&k.m(i,null)},p(e,[t]){4&t&&!l(r.src,o=e[2])&&w(r,"src",o),1&t&&w(r,"alt",e[0]),1&t&&_(c,e[0]),2&t&&_(v,e[1]),null!=e[4]&&null!=e[3]?k?k.p(e,t):(k=Ji(e),k.c(),k.m(i,null)):k&&(k.d(1),k=null)},i:e,o:e,d(e){e&&p(n),k&&k.d()}}}function Zi(e,t,n){let{name:r=""}=t,{role:o=""}=t,{imageurl:s=""}=t,{linkname:i=""}=t,{linkurl:a=""}=t;return e.$$set=e=>{"name"in e&&n(0,r=e.name),"role"in e&&n(1,o=e.role),"imageurl"in e&&n(2,s=e.imageurl),"linkname"in e&&n(3,i=e.linkname),"linkurl"in e&&n(4,a=e.linkurl)},[r,o,s,i,a]}customElements.define("assistant-apps-team-list",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}assistant-apps-team-tile{display:block;margin-bottom:1em;border-bottom:1px solid var(--assistantapps-team-member-background-colour, rgba(255, 255, 255, 0.1))}assistant-apps-team-tile:last-child{border-bottom:none}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},Gi,Ki,s,{},null),e&&e.target&&d(e.target,this,e.anchor)}});customElements.define("assistant-apps-team-tile",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.team-member{display:flex;padding-bottom:1em}.team-member img.team-member-img{width:var(--assistantapps-team-member-tile-size, 75px);height:var(--assistantapps-team-member-tile-size, 75px);border-radius:5px}.team-member .team-member-contents{display:flex;flex-direction:column;justify-content:center;padding-left:1em}.team-member .team-member-name,.team-member .team-member-role{margin:0;padding:0;color:var(--assistantapps-team-member-text-colour, #f0f0f0)}.team-member a{margin:0;padding:0;color:var(--assistantapps-team-member-link-text-colour, #0000ee)}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},Zi,Qi,s,{name:0,role:1,imageurl:2,linkname:3,linkurl:4},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["name","role","imageurl","linkname","linkurl"]}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),I()}get role(){return this.$$.ctx[1]}set role(e){this.$$set({role:e}),I()}get imageurl(){return this.$$.ctx[2]}set imageurl(e){this.$$set({imageurl:e}),I()}get linkname(){return this.$$.ctx[3]}set linkname(e){this.$$set({linkname:e}),I()}get linkurl(){return this.$$.ctx[4]}set linkurl(e){this.$$set({linkurl:e}),I()}});function Yi(e,t,n){const r=e.slice();return r[2]=t[n],r}function Xi(e){let t,n,r,o,s,i,a;return{c(){t=g("assistant-apps-translation-leaderboard-tile"),y(t,"username",n=e[2].username),y(t,"profileimageurl",r=e[2].profileImageUrl),y(t,"numtranslations",o=e[2].numTranslations),y(t,"numvotesgiven",s=e[2].numVotesGiven),y(t,"numvotesreceived",i=e[2].numVotesReceived),y(t,"total",a=e[2].total)},m(e,n){d(e,t,n)},p(e,l){2&l&&n!==(n=e[2].username)&&y(t,"username",n),2&l&&r!==(r=e[2].profileImageUrl)&&y(t,"profileimageurl",r),2&l&&o!==(o=e[2].numTranslations)&&y(t,"numtranslations",o),2&l&&s!==(s=e[2].numVotesGiven)&&y(t,"numvotesgiven",s),2&l&&i!==(i=e[2].numVotesReceived)&&y(t,"numvotesreceived",i),2&l&&a!==(a=e[2].total)&&y(t,"total",a)},d(e){e&&p(t)}}}function ea(t){let n,r,o,s,i,a,l=t[1],c=[];for(let e=0;e<l.length;e+=1)c[e]=Xi(Yi(t,l,e));return{c(){n=g("assistant-apps-loading"),r=g("slot"),o=f(),s=g("slot"),i=f(),a=g("div");for(let e=0;e<c.length;e+=1)c[e].c();this.c=e,w(r,"name","loading"),w(r,"slot","loading"),w(s,"name","error"),w(s,"slot","error"),w(a,"slot","loaded"),w(a,"class","grid-container leaderboard-container noselect"),y(n,"networkstate",t[0])},m(e,t){d(e,n,t),u(n,r),u(n,o),u(n,s),u(n,i),u(n,a);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(a,null)},p(e,[t]){if(2&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const r=Yi(e,l,n);c[n]?c[n].p(r,t):(c[n]=Xi(r),c[n].c(),c[n].m(a,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),h(c,e)}}}function ta(e,t,n){let r=ks.Loading,o=[];return T((async()=>{const[e,t]=await(async()=>{const e=ys(),[t,n]=await $s((()=>e.translationStat.readAll({apps:[],languages:[]})));return t==ks.Error||null==n||n.length<1?[t,[]]:[t,n]})();n(1,o=[...t]),n(0,r=e)})),[r,o]}function na(e){let t,n,r,o;return{c(){t=g("assistant-apps-tooltip"),n=g("span"),r=m("🌐 "),o=m(e[2]),w(n,"class","stat"),y(t,"tooltiptext","Number of translations submitted")},m(e,s){d(e,t,s),u(t,n),u(n,r),u(n,o)},p(e,t){4&t&&_(o,e[2])},d(e){e&&p(t)}}}function ra(e){let t,n,r,o;return{c(){t=g("assistant-apps-tooltip"),n=g("span"),r=m("✔️ "),o=m(e[3]),w(n,"class","stat"),y(t,"tooltiptext","Number of votes given to translations")},m(e,s){d(e,t,s),u(t,n),u(n,r),u(n,o)},p(e,t){8&t&&_(o,e[3])},d(e){e&&p(t)}}}function oa(e){let t,n,r,o;return{c(){t=g("assistant-apps-tooltip"),n=g("span"),r=m("🗳️ "),o=m(e[4]),w(n,"class","stat"),y(t,"tooltiptext","Number of votes received")},m(e,s){d(e,t,s),u(t,n),u(n,r),u(n,o)},p(e,t){16&t&&_(o,e[4])},d(e){e&&p(t)}}}function sa(t){let n,r,o,s,i,a,c,h,b,k,x,$,T,S,C,A,E,O,R,P=t[2]>0&&na(t),j=t[3]>0&&ra(t),M=t[4]>0&&oa(t);return{c(){n=g("div"),r=g("div"),o=g("img"),i=f(),a=g("div"),c=g("h2"),h=m(t[0]),b=f(),k=g("h4"),P&&P.c(),x=f(),j&&j.c(),$=f(),M&&M.c(),T=f(),S=g("h3"),C=g("assistant-apps-tooltip"),A=m(t[5]),E=m(" 🏆"),this.c=e,l(o.src,s=t[1])||w(o,"src",s),w(o,"alt",t[0]),w(o,"class","leaderboard-item-img"),w(r,"class","leaderboard-item-img-container"),w(c,"class","leaderboard-item-name"),w(k,"class","leaderboard-item-numbers"),w(a,"class","leaderboard-item-contents"),y(C,"tooltiptext","Total points"),w(S,"class","total"),w(n,"class","leaderboard-item noselect")},m(e,s){d(e,n,s),u(n,r),u(r,o),u(n,i),u(n,a),u(a,c),u(c,h),u(a,b),u(a,k),P&&P.m(k,null),u(k,x),j&&j.m(k,null),u(k,$),M&&M.m(k,null),u(n,T),u(n,S),u(S,C),u(C,A),u(C,E),O||(R=v(o,"error",t[6]),O=!0)},p(e,[t]){2&t&&!l(o.src,s=e[1])&&w(o,"src",s),1&t&&w(o,"alt",e[0]),1&t&&_(h,e[0]),e[2]>0?P?P.p(e,t):(P=na(e),P.c(),P.m(k,x)):P&&(P.d(1),P=null),e[3]>0?j?j.p(e,t):(j=ra(e),j.c(),j.m(k,$)):j&&(j.d(1),j=null),e[4]>0?M?M.p(e,t):(M=oa(e),M.c(),M.m(k,null)):M&&(M.d(1),M=null),32&t&&_(A,e[5])},i:e,o:e,d(e){e&&p(n),P&&P.d(),j&&j.d(),M&&M.d(),O=!1,R()}}}function ia(e,t,n){let{username:r=""}=t,{profileimageurl:o=""}=t,{numtranslations:s=0}=t,{numvotesgiven:i=0}=t,{numvotesreceived:a=0}=t,{total:l=0}=t;return e.$$set=e=>{"username"in e&&n(0,r=e.username),"profileimageurl"in e&&n(1,o=e.profileimageurl),"numtranslations"in e&&n(2,s=e.numtranslations),"numvotesgiven"in e&&n(3,i=e.numvotesgiven),"numvotesreceived"in e&&n(4,a=e.numvotesreceived),"total"in e&&n(5,l=e.total)},[r,o,s,i,a,l,e=>e.target.src=`${_s()}/assets/img/translatorFallback.png`]}customElements.define("assistant-apps-translation-leaderboard",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.leaderboard-container{--aa-grid-columns:var(--aa-grid-leaderboard-columns, 3)}@media only screen and (max-width: 1300px){.leaderboard-container{--aa-grid-columns:var(--aa-grid-leaderboard-columns, 2)}}@media only screen and (max-width: 800px){.leaderboard-container{--aa-grid-columns:var(--aa-grid-leaderboard-columns, 1)}}@media only screen and (max-width: 500px){.leaderboard-container{--aa-grid-columns:var(--aa-grid-leaderboard-columns, 1)}}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},ta,ea,s,{},null),e&&e.target&&d(e.target,this,e.anchor)}});customElements.define("assistant-apps-translation-leaderboard-tile",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.leaderboard-item{display:flex;border-radius:5px;background-color:var(--assistantapps-leaderboard-item-background-colour, #6c757d);height:var(--assistantapps-leaderboard-tile-size, 100px)}.leaderboard-item .leaderboard-item-img-container{width:var(--assistantapps-leaderboard-tile-size, 100px);height:var(--assistantapps-leaderboard-tile-size, 100px);position:relative}.leaderboard-item .leaderboard-item-img-container img.leaderboard-item-img{width:var(--assistantapps-leaderboard-tile-size, 100px);height:var(--assistantapps-leaderboard-tile-size, 100px);border-top-left-radius:5px;border-bottom-left-radius:5px}.leaderboard-item .leaderboard-item-img-container .total{position:absolute;right:0;bottom:0;margin:0;padding:0.15em 0.15em 0.15em 0.5em;border-radius:1em;color:var(--assistantapps-leaderboard-item-text-colour, #f0f0f0);background-color:var(--assistantapps-leaderboard-item-background-colour, #494e52)}.leaderboard-item .leaderboard-item-contents{flex-grow:3;display:flex;flex-direction:column;justify-content:center;padding-left:1em;width:calc(100% - 200px)}.leaderboard-item .leaderboard-item-name,.leaderboard-item .leaderboard-item-numbers{margin:0;padding:0;color:var(--assistantapps-leaderboard-item-text-colour, #f0f0f0)}.leaderboard-item .leaderboard-item-numbers{padding-top:0.5em;max-width:100%;max-height:50%}.leaderboard-item .leaderboard-item-name{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.25em}.leaderboard-item .leaderboard-item-numbers{max-lines:3}.leaderboard-item .leaderboard-item-numbers .stat{display:inline-block;margin-right:0.125em;margin-bottom:0.25em;padding:0.25em 0.5em 0.25em 0.3em;border-radius:1em;background-color:var(--assistantapps-leaderboard-item-background-colour, #494e52)}.leaderboard-item .total{display:flex;flex-grow:1;align-items:center;justify-content:end;padding-right:0.5em;color:var(--assistantapps-leaderboard-item-text-colour, #f0f0f0)}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},ia,sa,s,{username:0,profileimageurl:1,numtranslations:2,numvotesgiven:3,numvotesreceived:4,total:5},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["username","profileimageurl","numtranslations","numvotesgiven","numvotesreceived","total"]}get username(){return this.$$.ctx[0]}set username(e){this.$$set({username:e}),I()}get profileimageurl(){return this.$$.ctx[1]}set profileimageurl(e){this.$$set({profileimageurl:e}),I()}get numtranslations(){return this.$$.ctx[2]}set numtranslations(e){this.$$set({numtranslations:e}),I()}get numvotesgiven(){return this.$$.ctx[3]}set numvotesgiven(e){this.$$set({numvotesgiven:e}),I()}get numvotesreceived(){return this.$$.ctx[4]}set numvotesreceived(e){this.$$set({numvotesreceived:e}),I()}get total(){return this.$$.ctx[5]}set total(e){this.$$set({total:e}),I()}});const aa=async e=>{const[t,n]=await $s(e.app.readAll);if(t==ks.Error)return[t,[],xs];const r=n.filter((e=>e.isVisible));return r.sort(((e,t)=>e.sortOrder-t.sortOrder)),[ks.Success,n,r[0]]},la=async(e,t)=>{if(null==t)return;const n={appGuid:t.guid,languageCode:null,platforms:[],page:1},[r,o]=await $s((()=>e.version.createSearch(n)));return r==ks.Error||null==o||o.length<1?[r,[]]:[r,o.value]};function ca(e,t,n){const r=e.slice();return r[6]=t[n],r}function ua(e,t,n){const r=e.slice();return r[9]=t[n],r}function da(t){let n;return{c(){n=g("div"),n.innerHTML="<p>Please Select an App</p>",w(n,"class","dd-button")},m(e,t){d(e,n,t)},p:e,d(e){e&&p(n)}}}function pa(e){let t,n,r,o,s,i,a,c=e[2].name+"";return{c(){t=g("div"),n=g("img"),s=f(),i=g("p"),a=m(c),l(n.src,r=e[2].iconUrl)||w(n,"src",r),w(n,"alt",o=e[2].name),w(t,"class","dd-button")},m(e,r){d(e,t,r),u(t,n),u(t,s),u(t,i),u(i,a)},p(e,t){4&t&&!l(n.src,r=e[2].iconUrl)&&w(n,"src",r),4&t&&o!==(o=e[2].name)&&w(n,"alt",o),4&t&&c!==(c=e[2].name+"")&&_(a,c)},d(e){e&&p(t)}}}function ha(e){let t,n,r,o,s,i,a,c,h,b,y,k=e[9].name+"";function x(){return e[5](e[9])}return{c(){t=g("li"),n=g("img"),s=f(),i=g("p"),a=m(k),c=f(),l(n.src,r=e[9].iconUrl)||w(n,"src",r),w(n,"alt",o=e[9].name),w(t,"class","dd-menu-item"),t.value=h=e[9].guid},m(e,r){d(e,t,r),u(t,n),u(t,s),u(t,i),u(i,a),u(t,c),b||(y=v(t,"click",x),b=!0)},p(s,i){e=s,2&i&&!l(n.src,r=e[9].iconUrl)&&w(n,"src",r),2&i&&o!==(o=e[9].name)&&w(n,"alt",o),2&i&&k!==(k=e[9].name+"")&&_(a,k),2&i&&h!==(h=e[9].guid)&&(t.value=h)},d(e){e&&p(t),b=!1,y()}}}function ga(e){let t,n,r,o,s,i,a;return{c(){t=g("assistant-apps-version-search-tile"),y(t,"guid",n=e[6].guid),y(t,"markdown",r=e[6].markdown),y(t,"buildname",o=e[6].buildName),y(t,"buildnumber",s=e[6].buildNumber),y(t,"platforms",i=e[6].platforms),y(t,"activedate",a=e[6].activeDate)},m(e,n){d(e,t,n)},p(e,l){8&l&&n!==(n=e[6].guid)&&y(t,"guid",n),8&l&&r!==(r=e[6].markdown)&&y(t,"markdown",r),8&l&&o!==(o=e[6].buildName)&&y(t,"buildname",o),8&l&&s!==(s=e[6].buildNumber)&&y(t,"buildnumber",s),8&l&&i!==(i=e[6].platforms)&&y(t,"platforms",i),8&l&&a!==(a=e[6].activeDate)&&y(t,"activedate",a)},d(e){e&&p(t)}}}function ma(e){let t;return{c(){t=g("p"),t.textContent="No items to display"},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function fa(t){let n,r,o,s,i,a,l,c,m,b,v,_,k,x,$;function T(e,t){return null!=e[2]?pa:da}let S=T(t),C=S(t),A=t[1],E=[];for(let e=0;e<A.length;e+=1)E[e]=ha(ua(t,A,e));let O=t[3]??[],R=[];for(let e=0;e<O.length;e+=1)R[e]=ga(ca(t,O,e));let P=(null==t[3]||t[3].length<1)&&ma();return{c(){n=g("div"),r=g("assistant-apps-loading"),o=g("slot"),s=f(),i=g("slot"),a=f(),l=g("div"),c=g("label"),C.c(),m=f(),b=g("input"),v=f(),_=g("ul");for(let e=0;e<E.length;e+=1)E[e].c();k=f(),x=g("div");for(let e=0;e<R.length;e+=1)R[e].c();$=f(),P&&P.c(),this.c=e,w(o,"name","loading"),w(o,"slot","loading"),w(i,"name","error"),w(i,"slot","error"),w(b,"type","checkbox"),w(b,"class","dd-input"),w(_,"class","dd-menu"),w(c,"class","dropdown"),w(x,"class","what-is-new-container noselect"),w(l,"slot","loaded"),w(l,"class","version-container"),y(r,"networkstate",t[0]),w(n,"class","noselect")},m(e,t){d(e,n,t),u(n,r),u(r,o),u(r,s),u(r,i),u(r,a),u(r,l),u(l,c),C.m(c,null),u(c,m),u(c,b),u(c,v),u(c,_);for(let e=0;e<E.length;e+=1)E[e]&&E[e].m(_,null);u(l,k),u(l,x);for(let e=0;e<R.length;e+=1)R[e]&&R[e].m(x,null);u(x,$),P&&P.m(x,null)},p(e,[t]){if(S===(S=T(e))&&C?C.p(e,t):(C.d(1),C=S(e),C&&(C.c(),C.m(c,m))),18&t){let n;for(A=e[1],n=0;n<A.length;n+=1){const r=ua(e,A,n);E[n]?E[n].p(r,t):(E[n]=ha(r),E[n].c(),E[n].m(_,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=A.length}if(8&t){let n;for(O=e[3]??[],n=0;n<O.length;n+=1){const r=ca(e,O,n);R[n]?R[n].p(r,t):(R[n]=ga(r),R[n].c(),R[n].m(x,$))}for(;n<R.length;n+=1)R[n].d(1);R.length=O.length}null==e[3]||e[3].length<1?P||(P=ma(),P.c(),P.m(x,null)):P&&(P.d(1),P=null),1&t&&y(r,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),C.d(),h(E,e),h(R,e),P&&P.d()}}}function ba(e,t,n){let r,o=ks.Loading,s=[],i=[];T((async()=>{const e=await(async()=>{const e=ys(),t=await aa(e);if(t[0]==ks.Error)return{networkState:ks.Error,appLookup:[],selectedApp:xs,whatIsNewItems:[]};const n=await la(e,t[2]);return n[0]==ks.Error?{networkState:ks.Error,appLookup:[],selectedApp:xs,whatIsNewItems:[]}:{networkState:ks.Success,appLookup:t[1],selectedApp:t[2],whatIsNewItems:n[1]}})();n(0,o=e.networkState),n(1,s=e.appLookup),n(2,r=e.selectedApp),n(3,i=e.whatIsNewItems)}));const a=async e=>{const t=ys(),r=await la(t,e);r[0]!=ks.Error?(n(3,i=r[1]),n(0,o=ks.Success)):n(0,o=ks.Error)};return[o,s,r,i,a,e=>a(e)]}customElements.define("assistant-apps-version-search",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dropdown{display:inline-block;position:relative;margin-bottom:1em;z-index:20}.dd-button{display:flex;border:1px solid gray;border-radius:4px;padding:10px 30px 10px 10px;background-color:var(--assistantapps-version-dropdown-background-colour, rgba(108, 117, 125, 0.4745098039));cursor:pointer;white-space:nowrap}.dd-button:after{content:"";position:absolute;top:50%;right:15px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid var(--assistantapps-version-dropdown-background-colour, #6c757d)}.dd-button:hover{background-color:var(--assistantapps-version-dropdown-background-hover-colour, #6c757d)}.dd-button img{width:20px;height:20px;margin-right:0.5em}.dd-button p{display:flex;flex-direction:column;justify-content:center;margin:0;padding:0}.dd-input{display:none}.dd-menu{position:absolute;top:100%;border:1px solid #ccc;border-radius:4px;padding:0;margin:2px 0 0 0;box-shadow:0 0 6px 0 rgba(0, 0, 0, 0.1);background-color:var(--assistantapps-version-dropdown-background-colour, #6c757d);list-style-type:none}.dd-input+.dd-menu{display:none}.dd-input:checked+.dd-menu{display:block}.dd-menu li{padding:10px 20px;cursor:pointer;white-space:nowrap}.dd-menu li:hover{background-color:var(--assistantapps-version-dropdown-background-hover-colour, #7b848b)}.dd-menu li.dd-menu-item{display:flex}.dd-menu li.dd-menu-item img{width:40px;height:40px;margin-right:1em}.dd-menu li.dd-menu-item p{display:flex;flex-direction:column;justify-content:center;margin:0;padding:0}.what-is-new-container{display:grid;grid-template-columns:repeat(3, minmax(0, 1fr));column-gap:1em;row-gap:1em;margin-bottom:3em}@media only screen and (max-width: 1000px){.what-is-new-container{grid-template-columns:repeat(2, minmax(0, 1fr));column-gap:0.5em;row-gap:0.5em}}@media only screen and (max-width: 600px){.what-is-new-container{grid-template-columns:repeat(1, minmax(0, 1fr));column-gap:0.5em;row-gap:0.5em}}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},ba,fa,s,{},null),e&&e.target&&d(e.target,this,e.anchor)}});const va=e=>cn(e).format("YYYY-MM-DD");function wa(t){let n,r,o,s,i,a,l,c,h,b,v=va(t[3])+"";return{c(){n=g("div"),r=g("div"),o=g("h3"),s=m(t[2]),i=f(),a=g("span"),l=m(v),c=f(),h=g("div"),b=g("assistant-apps-markdown"),this.c=e,w(o,"class","version-name"),w(a,"class","version-date"),w(r,"class","version-header"),y(b,"source",t[1]),w(h,"class","markdown"),w(n,"class","version"),w(n,"data-guid",t[0])},m(e,t){d(e,n,t),u(n,r),u(r,o),u(o,s),u(r,i),u(r,a),u(a,l),u(n,c),u(n,h),u(h,b)},p(e,[t]){4&t&&_(s,e[2]),8&t&&v!==(v=va(e[3])+"")&&_(l,v),2&t&&y(b,"source",e[1]),1&t&&w(n,"data-guid",e[0])},i:e,o:e,d(e){e&&p(n)}}}function ya(e,t,n){let{guid:r=""}=t,{markdown:o=""}=t,{buildname:s=""}=t,{activedate:i=null}=t;return e.$$set=e=>{"guid"in e&&n(0,r=e.guid),"markdown"in e&&n(1,o=e.markdown),"buildname"in e&&n(2,s=e.buildname),"activedate"in e&&n(3,i=e.activedate)},[r,o,s,i]}function _a(t){let n;return{c(){n=g("div"),n.innerHTML="<p>Please Select an option</p>",w(n,"class","dd-button")},m(e,t){d(e,n,t)},p:e,d(e){e&&p(n)}}}function ka(e){let t,n,r,o,s=e[0].name+"",i=null!=e[0].iconUrl&&xa(e);return{c(){t=g("div"),i&&i.c(),n=f(),r=g("p"),o=m(s),w(t,"class","dd-button")},m(e,s){d(e,t,s),i&&i.m(t,null),u(t,n),u(t,r),u(r,o)},p(e,r){null!=e[0].iconUrl?i?i.p(e,r):(i=xa(e),i.c(),i.m(t,n)):i&&(i.d(1),i=null),1&r&&s!==(s=e[0].name+"")&&_(o,s)},d(e){e&&p(t),i&&i.d()}}}function xa(e){let t,n,r;return{c(){t=g("img"),l(t.src,n=e[0].iconUrl)||w(t,"src",n),w(t,"alt",r=e[0].value)},m(e,n){d(e,t,n)},p(e,o){1&o&&!l(t.src,n=e[0].iconUrl)&&w(t,"src",n),1&o&&r!==(r=e[0].value)&&w(t,"alt",r)},d(e){e&&p(t)}}}function $a(t){let n,r,o,s,i,a;function l(e,t){return null!=e[0]?ka:_a}let c=l(t),h=c(t);return{c(){n=g("label"),h.c(),r=f(),o=g("input"),s=f(),i=g("ul"),i.innerHTML='<slot name="options"><span>No options</span></slot>',this.c=e,w(o,"type","checkbox"),w(o,"class","dd-input"),w(i,"class","dd-menu"),w(n,"class","dropdown noselect"),w(n,"data-selectedoption",a=t[0]?.name??"-")},m(e,t){d(e,n,t),h.m(n,null),u(n,r),u(n,o),u(n,s),u(n,i)},p(e,[t]){c===(c=l(e))&&h?h.p(e,t):(h.d(1),h=c(e),h&&(h.c(),h.m(n,r))),1&t&&a!==(a=e[0]?.name??"-")&&w(n,"data-selectedoption",a)},i:e,o:e,d(e){e&&p(n),h.d()}}}function Ta(e,t,n){let{options:r=[]}=t,{selectedvalue:o=null}=t,s=null;return T((()=>{null!=o&&o.length>0&&n(0,s=r.find((e=>e.value==o)))})),e.$$set=e=>{"options"in e&&n(1,r=e.options),"selectedvalue"in e&&n(2,o=e.selectedvalue)},[s,r,o]}customElements.define("assistant-apps-version-search-tile",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(\n      --assistantapps-font-family,\n      "Roboto",\n      Helvetica,\n      Arial,\n      sans-serif\n    );font-weight:var(--assistantapps-font-weight, "bold")}.version{display:flex;flex-direction:column;position:relative;background-color:var(\n      --assistantapps-version-background-colour,\n      rgba(122, 122, 122, 0.7)\n    );border-radius:5px;overflow:hidden}.version-header .version-date{position:absolute;top:1em;right:1em;color:var(--assistantapps-version-text-colour, white)}.version .version-name{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-version-text-colour, white);padding-left:1em;padding-right:0.5em;margin-bottom:0;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.version .markdown{padding-right:0.5em;margin-bottom:0.5em}.version .markdown,.version .markdown *{color:var(--assistantapps-version-text-colour, white);padding:0 1em}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},ya,wa,s,{guid:0,markdown:1,buildname:2,activedate:3},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["guid","markdown","buildname","activedate"]}get guid(){return this.$$.ctx[0]}set guid(e){this.$$set({guid:e}),I()}get markdown(){return this.$$.ctx[1]}set markdown(e){this.$$set({markdown:e}),I()}get buildname(){return this.$$.ctx[2]}set buildname(e){this.$$set({buildname:e}),I()}get activedate(){return this.$$.ctx[3]}set activedate(e){this.$$set({activedate:e}),I()}});function Sa(e){let t,n;return{c(){t=g("img"),l(t.src,n=e[2])||w(t,"src",n),w(t,"alt",e[1])},m(e,n){d(e,t,n)},p(e,r){4&r&&!l(t.src,n=e[2])&&w(t,"src",n),2&r&&w(t,"alt",e[1])},d(e){e&&p(t)}}}function Ca(t){let n,r,o,s,i=null!=t[2]&&Sa(t);return{c(){n=g("li"),i&&i.c(),r=f(),o=g("p"),s=m(t[0]),this.c=e,w(n,"class","dd-menu-item"),n.value=t[1]},m(e,t){d(e,n,t),i&&i.m(n,null),u(n,r),u(n,o),u(o,s)},p(e,[t]){null!=e[2]?i?i.p(e,t):(i=Sa(e),i.c(),i.m(n,r)):i&&(i.d(1),i=null),1&t&&_(s,e[0]),2&t&&(n.value=e[1])},i:e,o:e,d(e){e&&p(n),i&&i.d()}}}function Aa(e,t,n){let{name:r=""}=t,{value:o=""}=t,{iconurl:s=null}=t;return e.$$set=e=>{"name"in e&&n(0,r=e.name),"value"in e&&n(1,o=e.value),"iconurl"in e&&n(2,s=e.iconurl)},[r,o,s]}customElements.define("assistant-apps-dropdown",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='.dropdown{display:inline-block;position:relative;margin-bottom:1em;z-index:20}.dd-button{display:flex;border:1px solid gray;border-radius:4px;padding:10px 30px 10px 10px;background-color:var(--assistantapps-dropdown-background-colour, #646464);cursor:pointer;white-space:nowrap}.dd-button:after{content:"";position:absolute;top:50%;right:15px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid var(--assistantapps-dropdown-background-colour, #646464)}.dd-button:hover{background-color:var(--assistantapps-dropdown-background-hover-colour, #7e7e7e)}.dd-button img{width:20px;height:20px;margin-right:0.5em}.dd-button p{display:flex;flex-direction:column;justify-content:center;margin:0;padding:0}.dd-input{display:none}.dd-menu{position:absolute;top:100%;border:1px solid #ccc;border-radius:4px;padding:0;margin:2px 0 0 0;box-shadow:0 0 6px 0 rgba(0, 0, 0, 0.1);background-color:var(--assistantapps-dropdown-background-colour, #646464);list-style-type:none;max-height:500px;overflow-y:auto}.dd-input+.dd-menu{display:none}.dd-input:checked+.dd-menu{display:block}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},Ta,$a,s,{options:1,selectedvalue:2},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["options","selectedvalue"]}get options(){return this.$$.ctx[1]}set options(e){this.$$set({options:e}),I()}get selectedvalue(){return this.$$.ctx[2]}set selectedvalue(e){this.$$set({selectedvalue:e}),I()}});function Ea(e){let t;return{c(){t=g("slot"),t.innerHTML='<div style="text-align: center"><span>Nothing supplied in the <b>loaded</b> slot</span></div>',w(t,"name","loaded")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function Oa(e){let t;return{c(){t=g("slot"),t.innerHTML='<div class="aa-error"><img src="https://cdn.assistantapps.com/icon/NMSCDCreatureBuilder.png" alt="monster representing an error"/> \n        <p>Something went wrong</p></div>',w(t,"name","error")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function Ra(e){let t;return{c(){t=g("slot"),w(t,"name","loading")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}function Pa(t){let n;function r(e,t){return e[0]==ks.Loading?Ra:e[0]==ks.Error?Oa:e[0]==ks.Success?Ea:void 0}let o=r(t),s=o&&o(t);return{c(){n=g("div"),s&&s.c(),this.c=e,w(n,"class","noselect"),w(n,"data-networkstate",t[0])},m(e,t){d(e,n,t),s&&s.m(n,null)},p(e,[t]){o!==(o=r(e))&&(s&&s.d(1),s=o&&o(e),s&&(s.c(),s.m(n,null))),1&t&&w(n,"data-networkstate",e[0])},i:e,o:e,d(e){e&&p(n),s&&s.d()}}}function ja(e,t,n){let{networkstate:r}=t;return e.$$set=e=>{"networkstate"in e&&n(0,r=e.networkstate)},[r]}customElements.define("assistant-apps-dropdown-option",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent="li{padding:10px 20px;cursor:pointer;white-space:nowrap}li:hover{background-color:var(--assistantapps-version-dropdown-background-hover-colour, #7d7d7d)}li.dd-menu-item{display:flex}li.dd-menu-item img{width:40px;height:40px;margin-right:1em}li.dd-menu-item p{display:flex;flex-direction:column;justify-content:center;margin:0;padding:0}",this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},Aa,Ca,s,{name:0,value:1,iconurl:2},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["name","value","iconurl"]}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),I()}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),I()}get iconurl(){return this.$$.ctx[2]}set iconurl(e){this.$$set({iconurl:e}),I()}});function Ma(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}customElements.define("assistant-apps-loading",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.aa-error{display:flex;justify-content:center;flex-direction:column}.aa-error img{max-width:100px}.aa-error>*{margin:0 auto}',this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},ja,Pa,s,{networkstate:0},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["networkstate"]}get networkstate(){return this.$$.ctx[0]}set networkstate(e){this.$$set({networkstate:e}),I()}});let Ia={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Da=/[&<>"']/,Ha=new RegExp(Da.source,"g"),Na=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,La=new RegExp(Na.source,"g"),Ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fa=e=>Ua[e];function za(e,t){if(t){if(Da.test(e))return e.replace(Ha,Fa)}else if(Na.test(e))return e.replace(La,Fa);return e}const Ba=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function qa(e){return e.replace(Ba,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Wa=/(^|[^\[])\^/g;function Va(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(Wa,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}const Ka=/[^\w:]/g,Ga=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ja(e,t,n){if(e){let e;try{e=decodeURIComponent(qa(n)).replace(Ka,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!Ga.test(n)&&(n=function(e,t){Qa[" "+e]||(Za.test(e)?Qa[" "+e]=e+"/":Qa[" "+e]=nl(e,"/",!0));e=Qa[" "+e];const n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Ya,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(Xa,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const Qa={},Za=/^[^:]+:\/*[^/]*$/,Ya=/^([^:]+:)[\s\S]*$/,Xa=/^([^:]+:\/*[^/]*)[\s\S]*$/;const el={exec:function(){}};function tl(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function nl(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r;){const s=e.charAt(r-o-1);if(s!==t||n){if(s===t||!n)break;o++}else o++}return e.slice(0,r-o)}function rl(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function ol(e,t,n,r){const o=t.href,s=t.title?za(t.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:o,title:s,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:s,text:za(i)}}class sl{constructor(e){this.options=e||Ia}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:nl(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=nl(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,o,s,i,a,l,c,u,d,p,h,g=t[1].trim();const m=g.length>1,f={type:"list",raw:"",ordered:m,start:m?+g.slice(0,-1):"",loose:!1,items:[]};g=m?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=m?g:"[*+-]");const b=new RegExp(`^( {0,3}${g})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,t=b.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),u=e.split("\n",1)[0],this.options.pedantic?(s=2,p=c.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,p=c.slice(s),s+=t[1].length),a=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),h=!0),!h){const t=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),r=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(d=e.split("\n",1)[0],u=d,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!o.test(u))&&!i.test(u)&&!t.test(u)&&!r.test(e);){if(u.search(/[^ ]/)>=s||!u.trim())p+="\n"+u.slice(s);else{if(a)break;if(c.search(/[^ ]/)>=4)break;if(o.test(c))break;if(i.test(c))break;if(r.test(c))break;p+="\n"+u}a||u.trim()||(a=!0),n+=d+"\n",e=e.substring(d.length+1),c=u.slice(s)}}f.loose||(l?f.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(p),r&&(o="[ ] "!==r[0],p=p.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:n,task:!!r,checked:o,loose:!1,text:p}),f.raw+=n}f.items[f.items.length-1].raw=n.trimRight(),f.items[f.items.length-1].text=p.trimRight(),f.raw=f.raw.trimRight();const v=f.items.length;for(i=0;i<v;i++)if(this.lexer.state.top=!1,f.items[i].tokens=this.lexer.blockTokens(f.items[i].text,[]),!f.loose){const e=f.items[i].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));f.loose=t}if(f.loose)for(i=0;i<v;i++)f.items[i].loose=!0;return f}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):za(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:tl(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,o,s,i=e.align.length;for(n=0;n<i;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(i=e.rows.length,n=0;n<i;n++)e.rows[n]=tl(e.rows[n],e.header.length).map((e=>({text:e})));for(i=e.header.length,r=0;r<i;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(i=e.rows.length,r=0;r<i;r++)for(s=e.rows[r],o=0;o<s.length;o++)s[o].tokens=this.lexer.inline(s[o].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:za(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):za(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=nl(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,o=0;for(;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),ol(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return ol(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const o=r[1]||r[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let o,s,i=n,a=0;const l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(s=o.length,r[3]||r[4]){i+=s;continue}if((r[5]||r[6])&&n%3&&!((n+s)%3)){a+=s;continue}if(i-=s,i>0)continue;s=Math.min(s,s+i+a);const t=e.slice(0,n+r.index+(r[0].length-o.length)+s);if(Math.min(n,s)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=za(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=za(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=za(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=za(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=za(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):za(n[0]):n[0]:za(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const il={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:el,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};il.def=Va(il.def).replace("label",il._label).replace("title",il._title).getRegex(),il.bullet=/(?:[*+-]|\d{1,9}[.)])/,il.listItemStart=Va(/^( *)(bull) */).replace("bull",il.bullet).getRegex(),il.list=Va(il.list).replace(/bull/g,il.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+il.def.source+")").getRegex(),il._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",il._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,il.html=Va(il.html,"i").replace("comment",il._comment).replace("tag",il._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),il.paragraph=Va(il._paragraph).replace("hr",il.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",il._tag).getRegex(),il.blockquote=Va(il.blockquote).replace("paragraph",il.paragraph).getRegex(),il.normal={...il},il.gfm={...il.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},il.gfm.table=Va(il.gfm.table).replace("hr",il.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",il._tag).getRegex(),il.gfm.paragraph=Va(il._paragraph).replace("hr",il.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",il.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",il._tag).getRegex(),il.pedantic={...il.normal,html:Va("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",il._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:el,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Va(il.normal._paragraph).replace("hr",il.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",il.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const al={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:el,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:el,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ll(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function cl(e){let t,n,r="";const o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}al._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",al.punctuation=Va(al.punctuation).replace(/punctuation/g,al._punctuation).getRegex(),al.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,al.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,al._comment=Va(il._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),al.emStrong.lDelim=Va(al.emStrong.lDelim).replace(/punct/g,al._punctuation).getRegex(),al.emStrong.rDelimAst=Va(al.emStrong.rDelimAst,"g").replace(/punct/g,al._punctuation).getRegex(),al.emStrong.rDelimUnd=Va(al.emStrong.rDelimUnd,"g").replace(/punct/g,al._punctuation).getRegex(),al._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,al._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,al._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,al.autolink=Va(al.autolink).replace("scheme",al._scheme).replace("email",al._email).getRegex(),al._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,al.tag=Va(al.tag).replace("comment",al._comment).replace("attribute",al._attribute).getRegex(),al._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,al._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,al._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,al.link=Va(al.link).replace("label",al._label).replace("href",al._href).replace("title",al._title).getRegex(),al.reflink=Va(al.reflink).replace("label",al._label).replace("ref",il._label).getRegex(),al.nolink=Va(al.nolink).replace("ref",il._label).getRegex(),al.reflinkSearch=Va(al.reflinkSearch,"g").replace("reflink",al.reflink).replace("nolink",al.nolink).getRegex(),al.normal={...al},al.pedantic={...al.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Va(/^!?\[(label)\]\((.*?)\)/).replace("label",al._label).getRegex(),reflink:Va(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",al._label).getRegex()},al.gfm={...al.normal,escape:Va(al.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},al.gfm.url=Va(al.gfm.url,"i").replace("email",al.gfm._extended_email).getRegex(),al.breaks={...al.gfm,br:Va(al.br).replace("{2,}","*").getRegex(),text:Va(al.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ul{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ia,this.options.tokenizer=this.options.tokenizer||new sl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:il.normal,inline:al.normal};this.options.pedantic?(t.block=il.pedantic,t.inline=al.pedantic):this.options.gfm&&(t.block=il.gfm,this.options.breaks?t.inline=al.breaks:t.inline=al.gfm),this.tokenizer.rules=t}static get rules(){return{block:il,inline:al}}static lex(e,t){return new ul(t).lex(e)}static lexInline(e,t){return new ul(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,o,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o)))r=t[t.length-1],s&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),s=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,o,s,i,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+rl("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,s.index)+"["+rl("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,s.index+s[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(i||(a=""),i=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,cl))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,cl))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o,ll))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),i=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class dl{constructor(e){this.options=e||Ia}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+za(r)+'">'+(n?e:za(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:za(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+r.slug(n)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=Ja(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=Ja(this.options.sanitize,this.options.baseUrl,e)))return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class pl{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class hl{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class gl{constructor(e){this.options=e||Ia,this.options.renderer=this.options.renderer||new dl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new pl,this.slugger=new hl}static parse(e,t){return new gl(t).parse(e)}static parseInline(e,t){return new gl(t).parseInline(e)}parse(e,t=!0){let n,r,o,s,i,a,l,c,u,d,p,h,g,m,f,b,v,w,y,_="";const k=e.length;for(n=0;n<k;n++)if(d=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(y=this.options.extensions.renderers[d.type].call({parser:this},d),!1!==y||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))_+=y||"";else switch(d.type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(d.tokens),d.depth,qa(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",s=d.header.length,r=0;r<s;r++)l+=this.renderer.tablecell(this.parseInline(d.header[r].tokens),{header:!0,align:d.align[r]});for(c+=this.renderer.tablerow(l),u="",s=d.rows.length,r=0;r<s;r++){for(a=d.rows[r],l="",i=a.length,o=0;o<i;o++)l+=this.renderer.tablecell(this.parseInline(a[o].tokens),{header:!1,align:d.align[o]});u+=this.renderer.tablerow(l)}_+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),_+=this.renderer.blockquote(u);continue;case"list":for(p=d.ordered,h=d.start,g=d.loose,s=d.items.length,u="",r=0;r<s;r++)f=d.items[r],b=f.checked,v=f.task,m="",f.task&&(w=this.renderer.checkbox(b),g?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=w+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=w+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(f.tokens,g),u+=this.renderer.listitem(m,v,b);_+=this.renderer.list(u,p,h);continue;case"html":_+=this.renderer.html(d.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<k&&"text"===e[n+1].type;)d=e[++n],u+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);_+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return _}parseInline(e,t){t=t||this.renderer;let n,r,o,s="";const i=e.length;for(n=0;n<i;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(o=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==o||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))s+=o||"";else switch(r.type){case"escape":case"text":s+=t.text(r.text);break;case"html":s+=t.html(r.text);break;case"link":s+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":s+=t.image(r.href,r.title,r.text);break;case"strong":s+=t.strong(this.parseInline(r.tokens,t));break;case"em":s+=t.em(this.parseInline(r.tokens,t));break;case"codespan":s+=t.codespan(r.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(r.tokens,t));break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return s}}class ml{constructor(e){this.options=e||Ia}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function fl(e,t){return(n,r,o)=>{"function"==typeof r&&(o=r,r=null);const s={...r},i=function(e,t,n){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+za(r.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(r);if(!n)throw r;n(r)}}((r={...bl.defaults,...s}).silent,r.async,o);if(null==n)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(r),r.hooks&&(r.hooks.options=r),o){const s=r.highlight;let a;try{r.hooks&&(n=r.hooks.preprocess(n)),a=e(n,r)}catch(e){return i(e)}const l=function(e){let n;if(!e)try{r.walkTokens&&bl.walkTokens(a,r.walkTokens),n=t(a,r),r.hooks&&(n=r.hooks.postprocess(n))}catch(t){e=t}return r.highlight=s,e?i(e):o(null,n)};if(!s||s.length<3)return l();if(delete r.highlight,!a.length)return l();let c=0;return bl.walkTokens(a,(function(e){"code"===e.type&&(c++,setTimeout((()=>{s(e.text,e.lang,(function(t,n){if(t)return l(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),c--,0===c&&l()}))}),0))})),void(0===c&&l())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then((t=>e(t,r))).then((e=>r.walkTokens?Promise.all(bl.walkTokens(e,r.walkTokens)).then((()=>e)):e)).then((e=>t(e,r))).then((e=>r.hooks?r.hooks.postprocess(e):e)).catch(i);try{r.hooks&&(n=r.hooks.preprocess(n));const o=e(n,r);r.walkTokens&&bl.walkTokens(o,r.walkTokens);let s=t(o,r);return r.hooks&&(s=r.hooks.postprocess(s)),s}catch(e){return i(e)}}}function bl(e,t,n){return fl(ul.lex,gl.parse)(e,t,n)}function vl(t){let n,r=t[1](t[0])+"";return{c(){n=g("div"),this.c=e,w(n,"class","markdown")},m(e,t){d(e,n,t),n.innerHTML=r},p(e,[t]){1&t&&r!==(r=e[1](e[0])+"")&&(n.innerHTML=r)},i:e,o:e,d(e){e&&p(n)}}}function wl(e,t,n){let r=bl,{source:o=""}=t;return e.$$set=e=>{"source"in e&&n(0,o=e.source)},[o,r]}bl.options=bl.setOptions=function(e){var t;return bl.defaults={...bl.defaults,...e},t=bl.defaults,Ia=t,bl},bl.getDefaults=Ma,bl.defaults=Ia,bl.use=function(...e){const t=bl.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n={...e};if(n.async=bl.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=bl.defaults.renderer||new dl;for(const n in e.renderer){const r=t[n];t[n]=(...o)=>{let s=e.renderer[n].apply(t,o);return!1===s&&(s=r.apply(t,o)),s}}n.renderer=t}if(e.tokenizer){const t=bl.defaults.tokenizer||new sl;for(const n in e.tokenizer){const r=t[n];t[n]=(...o)=>{let s=e.tokenizer[n].apply(t,o);return!1===s&&(s=r.apply(t,o)),s}}n.tokenizer=t}if(e.hooks){const t=bl.defaults.hooks||new ml;for(const n in e.hooks){const r=t[n];ml.passThroughHooks.has(n)?t[n]=o=>{if(bl.defaults.async)return Promise.resolve(e.hooks[n].call(t,o)).then((e=>r.call(t,e)));const s=e.hooks[n].call(t,o);return r.call(t,s)}:t[n]=(...o)=>{let s=e.hooks[n].apply(t,o);return!1===s&&(s=r.apply(t,o)),s}}n.hooks=t}if(e.walkTokens){const t=bl.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}bl.setOptions(n)}))},bl.walkTokens=function(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(bl,r)),r.type){case"table":for(const e of r.header)n=n.concat(bl.walkTokens(e.tokens,t));for(const e of r.rows)for(const r of e)n=n.concat(bl.walkTokens(r.tokens,t));break;case"list":n=n.concat(bl.walkTokens(r.items,t));break;default:bl.defaults.extensions&&bl.defaults.extensions.childTokens&&bl.defaults.extensions.childTokens[r.type]?bl.defaults.extensions.childTokens[r.type].forEach((function(e){n=n.concat(bl.walkTokens(r[e],t))})):r.tokens&&(n=n.concat(bl.walkTokens(r.tokens,t)))}return n},bl.parseInline=fl(ul.lexInline,gl.parseInline),bl.Parser=gl,bl.parser=gl.parse,bl.Renderer=dl,bl.TextRenderer=pl,bl.Lexer=ul,bl.lexer=ul.lex,bl.Tokenizer=sl,bl.Slugger=hl,bl.Hooks=ml,bl.parse=bl,bl.options,bl.setOptions,bl.use,bl.walkTokens,bl.parseInline,gl.parse,ul.lex;function yl(t){let n,r,o,s,i;return{c(){n=g("div"),r=g("slot"),o=f(),s=g("span"),i=m(t[0]),this.c=e,w(s,"class","tooltiptext"),w(n,"class","tooltip")},m(e,t){d(e,n,t),u(n,r),u(n,o),u(n,s),u(s,i)},p(e,[t]){1&t&&_(i,e[0])},i:e,o:e,d(e){e&&p(n)}}}function _l(e,t,n){let{tooltiptext:r=""}=t;return e.$$set=e=>{"tooltiptext"in e&&n(0,r=e.tooltiptext)},[r]}customElements.define("assistant-apps-markdown",class extends F{constructor(e){super(),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},wl,vl,s,{source:0},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["source"]}get source(){return this.$$.ctx[0]}set source(e){this.$$set({source:e}),I()}});customElements.define("assistant-apps-tooltip",class extends F{constructor(e){super();const t=document.createElement("style");t.textContent=".tooltip{position:relative;display:inline-block}.tooltip .tooltiptext{left:50%;bottom:120%;min-width:100px;margin-left:-50%;visibility:hidden;background-color:var(\n            --assistantapps-tooltip-background-colour,\n            #383838\n        );color:var(--assistantapps-tooltip-text-colour, #ffffff);text-align:center;border-radius:6px;padding:0.25em 0.5em;position:absolute;z-index:1}.tooltip:hover .tooltiptext{visibility:visible}",this.shadowRoot.appendChild(t),U(this,{target:this.shadowRoot,props:k(this.attributes),customElement:!0},_l,yl,s,{tooltiptext:0},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["tooltiptext"]}get tooltiptext(){return this.$$.ctx[0]}set tooltiptext(e){this.$$set({tooltiptext:e}),I()}}),console.log("AssistantApps.WebComponents v1.2.0")}();
//# sourceMappingURL=bundle.js.map
