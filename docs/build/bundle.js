!function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let c,a;function i(t,n){return c||(c=document.createElement("a")),c.href=n,t===c.href}function u(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function f(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t){const n={};for(const e of t)n[e.name]=e.value;return n}function m(t){a=t}function $(t){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_mount.push(t)}const b=[],y=[],w=[],_=[],x=Promise.resolve();let v=!1;function E(t){w.push(t)}let S=!1;const k=new Set;function C(){if(!S){S=!0;do{for(let t=0;t<b.length;t+=1){const n=b[t];m(n),L(n.$$)}for(m(null),b.length=0;y.length;)y.pop()();for(let t=0;t<w.length;t+=1){const n=w[t];k.has(n)||(k.add(n),n())}w.length=0}while(b.length);for(;_.length;)_.pop()();v=!1,S=!1,k.clear()}}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(E)}}const j=new Set;let M,U;function A(){M={r:0,c:[],p:M}}function O(){M.r||o(M.c),M=M.p}function N(t,n){t&&t.i&&(j.delete(t),t.i(n))}function T(t,n,e,o){if(t&&t.o){if(j.has(t))return;j.add(t),M.c.push((()=>{j.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function P(t,e,s,c){const{fragment:a,on_mount:i,on_destroy:u,after_update:l}=t.$$;a&&a.m(e,s),c||E((()=>{const e=i.map(n).filter(r);u?u.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(E)}function H(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function R(t,n){-1===t.$$.dirty[0]&&(b.push(t),v||(v=!0,x.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function B(n,r,s,c,i,u,l,p=[-1]){const d=a;m(n);const h=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:e(),dirty:p,skip_bound:!1,root:r.target||d.$$.root};l&&l(h.root);let g=!1;if(h.ctx=s?s(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return h.ctx&&i(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),g&&R(n,t)),e})):[],h.update(),g=!0,o(h.before_update),h.fragment=!!c&&c(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(f)}else h.fragment&&h.fragment.c();r.intro&&N(n.$$.fragment),P(n,r.target,r.anchor,r.customElement),C()}m(d)}function I(n){let e,o,r,s,c,a,g,m=n[0].name+"";return{c(){e=p("div"),o=p("img"),c=d(" "),a=p("p"),g=d(m),this.c=t,i(o.src,r=n[0].thumbnailUrl)||h(o,"src",r),h(o,"alt",s=n[0].name),h(o,"class","patron-img"),h(a,"class","patron-name"),h(e,"class","patron")},m(t,n){l(t,e,n),u(e,o),u(e,c),u(e,a),u(a,g)},p(t,[n]){1&n&&!i(o.src,r=t[0].thumbnailUrl)&&h(o,"src",r),1&n&&s!==(s=t[0].name)&&h(o,"alt",s),1&n&&m!==(m=t[0].name+"")&&function(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}(g,m)},i:t,o:t,d(t){t&&f(e)}}}function q(t,n,e){let{patron:o}=n;return t.$$set=t=>{"patron"in t&&e(0,o=t.patron)},[o]}"function"==typeof HTMLElement&&(U=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(r);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,n,e){this[t]=e}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){H(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class z extends U{constructor(t){super(),B(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},q,I,s,{patron:0},null),t&&(t.target&&l(t.target,this,t.anchor),t.props&&(this.$set(t.props),C()))}static get observedAttributes(){return["patron"]}get patron(){return this.$$.ctx[0]}set patron(t){this.$$set({patron:t}),C()}}const F={};class J extends class{constructor(t){var n,e;this._baseUrl=null!==(e=null===(n=window.config)||void 0===n?void 0:n.apiUrl)&&void 0!==e?e:"https://api.assistantapps.com",null!=t&&(this._baseUrl=t)}async get(t){try{return{isSuccess:!0,value:(await fetch(`${this._baseUrl}/${t}`)).body,errorMessage:""}}catch(t){return{isSuccess:!1,value:F,errorMessage:t.message}}}async post(t,n,e){try{const o=await fetch(`${this._baseUrl}/${t}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}),r=await o.json();return null!=e?e(r):{isSuccess:!0,value:r,errorMessage:""}}catch(t){return{isSuccess:!1,value:F,errorMessage:t.message}}}}{constructor(){var t;super(null===(t=window.config)||void 0===t?void 0:t.assistantAppsUrl)}async getPatronsList(){return await this.get("patreon")}async getWhatIsNewItems(t){return await this.post("Version/Search",t,(t=>Object.assign(Object.assign({},t.data),{isSuccess:!0,errorMessage:""})))}}var V;function W(t,n,e){const o=t.slice();return o[3]=n[e],o}function D(t){let n,e,o=t[1],r=[];for(let n=0;n<o.length;n+=1)r[n]=Q(W(t,o,n));const s=t=>T(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=d("")},m(t,o){for(let n=0;n<r.length;n+=1)r[n].m(t,o);l(t,n,o),e=!0},p(t,e){if(2&e){let c;for(o=t[1],c=0;c<o.length;c+=1){const s=W(t,o,c);r[c]?(r[c].p(s,e),N(r[c],1)):(r[c]=Q(s),r[c].c(),N(r[c],1),r[c].m(n.parentNode,n))}for(A(),c=o.length;c<r.length;c+=1)s(c);O()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)N(r[t]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)T(r[t]);e=!1},d(t){!function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(r,t),t&&f(n)}}}function G(n){let e;return{c(){e=p("span"),e.textContent="Something went wrong..."},m(t,n){l(t,e,n)},p:t,i:t,o:t,d(t){t&&f(e)}}}function K(n){let e;return{c(){e=p("span"),e.textContent="Loading..."},m(t,n){l(t,e,n)},p:t,i:t,o:t,d(t){t&&f(e)}}}function Q(t){let n,e;return n=new z({props:{patron:t[3]}}),{c(){var t;(t=n.$$.fragment)&&t.c()},m(t,o){P(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.patron=t[3]),n.$set(o)},i(t){e||(N(n.$$.fragment,t),e=!0)},o(t){T(n.$$.fragment,t),e=!1},d(t){H(n,t)}}}function X(n){let e,o,r,s;const c=[K,G,D],a=[];function i(t,n){return t[0]===V.Loading?0:t[0]===V.Error?1:2}return o=i(n),r=a[o]=c[o](n),{c(){e=p("div"),r.c(),this.c=t,h(e,"class","patreon-container")},m(t,n){l(t,e,n),a[o].m(e,null),s=!0},p(t,[n]){let s=o;o=i(t),o===s?a[o].p(t,n):(A(),T(a[s],1,1,(()=>{a[s]=null})),O(),r=a[o],r?r.p(t,n):(r=a[o]=c[o](t),r.c()),N(r,1),r.m(e,null))},i(t){s||(N(r),s=!0)},o(t){T(r),s=!1},d(t){t&&f(e),a[o].d()}}}function Y(t,n,e){let o=V.Loading,r=[];return $((async()=>{(async()=>{const t=new J,n=await t.getPatronsList();console.log(n),!1!==n.isSuccess?(e(1,r=n.value),e(0,o=V.Success)):e(0,o=V.Error)})()})),[o,r]}!function(t){t[t.Loading=0]="Loading",t[t.Success=1]="Success",t[t.Error=2]="Error"}(V||(V={}));function Z(n){let e;return{c(){e=p("h1"),e.textContent=`Hello ${tt}!`,this.c=t},m(t,n){l(t,e,n)},p:t,i:t,o:t,d(t){t&&f(e)}}}customElements.define("assistant-apps-patreon-list",class extends U{constructor(t){super(),B(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},Y,X,s,{},null),t&&t.target&&l(t.target,this,t.anchor)}});let tt="world";customElements.define("my-counter",class extends U{constructor(t){super(),B(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},null,Z,s,{},null),t&&t.target&&l(t.target,this,t.anchor)}})}();
//# sourceMappingURL=bundle.js.map
