!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,a;function l(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function c(e){const t={};for(const n in e)t[n]=!0;return t}function d(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function f(){return m(" ")}function b(){return m("")}function v(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:w(e,t,n)}function k(e,t){t=""+t,e.data!==t&&(e.data=t)}function _(e){const t={};for(const n of e)t[n.name]=n.value;return t}function x(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}function $(e){a=e}function T(e){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_mount.push(e)}new Set,new Map;const C=[],S=[];let A=[];const E=[],P=Promise.resolve();let R=!1;function O(e){A.push(e)}const j=new Set;let M=0;function I(){if(0!==M)return;const e=a;do{try{for(;M<C.length;){const e=C[M];M++,$(e),H(e.$$)}}catch(e){throw C.length=0,M=0,e}for($(null),C.length=0,M=0;S.length;)S.pop()();for(let e=0;e<A.length;e+=1){const t=A[e];j.has(t)||(j.add(t),t())}A.length=0}while(C.length);for(;E.length;)E.pop()();R=!1,j.clear(),$(e)}function H(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const D=new Set;function L(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];A.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),A=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function N(e,t){-1===e.$$.dirty[0]&&(C.push(e),R||(R=!0,P.then(I)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(s,i,l,c,d,u,h,g=[-1]){const m=a;$(s);const f=s.$$={fragment:null,ctx:[],props:u,update:e,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(m?m.$$.context:[])),callbacks:n(),dirty:g,skip_bound:!1,root:i.target||m.$$.root};h&&h(f.root);let b=!1;if(f.ctx=l?l(s,i.props||{},((e,t,...n)=>{const o=n.length?n[0]:t;return f.ctx&&d(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),b&&N(s,e)),t})):[],f.update(),b=!0,o(f.before_update),f.fragment=!!c&&c(f.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);f.fragment&&f.fragment.l(e),e.forEach(p)}else f.fragment&&f.fragment.c();i.intro&&function(e,t){e&&e.i&&(D.delete(e),e.i(t))}(s.$$.fragment),function(e,n,s,i){const{fragment:a,after_update:l}=e.$$;a&&a.m(n,s),i||O((()=>{const n=e.$$.on_mount.map(t).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),l.forEach(O)}(s,i.target,i.anchor,i.customElement),I()}$(m)}let U;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(U=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(t).filter(r);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){L(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function q(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})})),n}var W={},V={};Object.defineProperty(V,"__esModule",{value:!0}),V.endpoints=void 0,V.endpoints={authUrl:"Account/Login",fakeAuthUrl:"Account/Test",dashboard:"Dashboard",adminDashboard:"Dashboard/Admin",permission:"Permission",app:"App",translation:"Translation",translationKey:"TranslationKey",translationReport:"TranslationReport",translationImage:"TranslationImage",translationKeySearchDropdown:"translationKey/SearchDropdown",translationStatLeaderboard:"translationStats/TranslatorLeaderboard",user:"User",language:"Language",userActivity:"UserActivity",cache:"Cache",version:"Version",donation:"Donation",redisCache:"Cache/Redis",webhookMessages:"WebhookMessage",appReviews:"AppReview",translationSearch:"Translation/Search",translationSearchPerLanguage:"Translation/Graph/TranslationsPerLanguage",teamMember:"TeamMember",steam:"Steam",steamNews:"Steam/News",steamBranches:"Steam/Branches",licence:"Licence",licenceActivate:"Licence/Activate",licenceActivateForPatron:"Licence/ActivateForPatron",licenceVerify:"Licence/Verify",versionSendUpdateNotification:"Version/SendUpdateNotification",guideDetail:"GuideDetail",guideDetailSearchAdmin:"GuideDetail/SearchAdmin",appNotice:"AppNotice",feedbackForm:"Feedback",feedbackFormQuestion:"FeedbackQuestion",feedbackFormAnswer:"FeedbackAnswer",badge:"Badge",patreon:"Patreon",quickAction:"QuickAction",quickActionIndexes:"QuickAction/Indexes",contact:"Contact",oAuth:"OAuth"};var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.UserGuidHeaderKey=G.TokenExpiryHeaderKey=G.TokenHeaderKey=void 0,G.TokenHeaderKey="Token",G.TokenExpiryHeaderKey="TokenExpiry",G.UserGuidHeaderKey="UserGuid";var K,Q,Z,Y={};K=Y,Object.defineProperty(K,"__esModule",{value:!0}),K.SignalRReceiveEvent=K.SignalRSendEvent=void 0,(Q=K.SignalRSendEvent||(K.SignalRSendEvent={}))[Q.JoinOAuthGroup=0]="JoinOAuthGroup",Q[Q.LeaveOAuthGroup=1]="LeaveOAuthGroup",(Z=K.SignalRReceiveEvent||(K.SignalRReceiveEvent={}))[Z.OAuthComplete=0]="OAuthComplete";var J={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.AdminApprovalStatus=void 0,(t=e.AdminApprovalStatus||(e.AdminApprovalStatus={}))[t.pending=0]="pending",t[t.inReview=1]="inReview",t[t.denied=2]="denied",t[t.approved=3]="approved",t[t.cancelled=4]="cancelled"}(J);var X={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.AppRatingType=void 0,(t=e.AppRatingType||(e.AppRatingType={}))[t.all=0]="all",t[t.googlePlayStore=1]="googlePlayStore",t[t.appleAppStore=2]="appleAppStore"}(X);var ee={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.AppType=void 0,(t=e.AppType||(e.AppType={}))[t.unknown=0]="unknown",t[t.nms=1]="nms",t[t.sms=2]="sms",t[t.hyt=3]="hyt",t[t.dkm=4]="dkm"}(ee);var te={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.CacheType=void 0,(t=e.CacheType||(e.CacheType={}))[t.patreons=0]="patreons",t[t.dashboard=1]="dashboard",t[t.dashboardLoggedIn=2]="dashboardLoggedIn",t[t.guideSearch=3]="guideSearch",t[t.donation=4]="donation",t[t.version=5]="version",t[t.guideContent=6]="guideContent",t[t.appReview=7]="appReview",t[t.steamNews=8]="steamNews",t[t.steamBranches=9]="steamBranches",t[t.emojiLeaderboard=10]="emojiLeaderboard",t[t.kurtBlogRss=11]="kurtBlogRss",t[t.kurtIsLive=12]="kurtIsLive",t[t.teamMembers=13]="teamMembers",t[t.translators=14]="translators",t[t.translatorLeaderboard=15]="translatorLeaderboard",t[t.badges=16]="badges",t[t.exportLang=17]="exportLang",t[t.translationsGraph=18]="translationsGraph",t[t.twitchUserImg=19]="twitchUserImg",t[t.twitchUserData=20]="twitchUserData",t[t.patreonLogin=21]="patreonLogin",t[t.appNotice=22]="appNotice",t[t.feedbackForm=23]="feedbackForm"}(te);var ne={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseEventType=void 0,(t=e.CoinbaseEventType||(e.CoinbaseEventType={}))[t.unknown=0]="unknown",t[t.chargeCreationPending=1]="chargeCreationPending",t[t.chargeCreated=2]="chargeCreated",t[t.chargeFailed=3]="chargeFailed",t[t.chargeConfirmed=4]="chargeConfirmed"}(ne);var oe={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DashboardItemType=void 0,(t=e.DashboardItemType||(e.DashboardItemType={}))[t.numberOfApps=0]="numberOfApps",t[t.numberOfTranslationKeys=1]="numberOfTranslationKeys",t[t.numberOfTranslationKeysPerApp=2]="numberOfTranslationKeysPerApp",t[t.numberOfTranslationSubmissions=3]="numberOfTranslationSubmissions",t[t.numberOfTranslationVotes=4]="numberOfTranslationVotes",t[t.numberOfSupportedLanguages=5]="numberOfSupportedLanguages",t[t.numberOfDonations=6]="numberOfDonations",t[t.totalDonationAmount=7]="totalDonationAmount",t[t.numberOfLiveGuides=8]="numberOfLiveGuides",t[t.numberOfLiveGuidesPerApp=9]="numberOfLiveGuidesPerApp",t[t.numberOfGuidesPending=10]="numberOfGuidesPending",t[t.numberOfGuidesInReview=11]="numberOfGuidesInReview"}(oe);var re={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DonationType=void 0,(t=e.DonationType||(e.DonationType={}))[t.unknown=0]="unknown",t[t.paypal=1]="paypal",t[t.braveRewards=2]="braveRewards",t[t.buyMeACoffee=3]="buyMeACoffee",t[t.koFi=4]="koFi",t[t.patreon=5]="patreon",t[t.googlePay=6]="googlePay",t[t.applePay=7]="applePay",t[t.openCollective=8]="openCollective"}(re);var se={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.FeedbackCategory=void 0,(t=e.FeedbackCategory||(e.FeedbackCategory={}))[t.isVisible=0]="isVisible",t[t.hidden=1]="hidden",t[t.featureRequest=2]="featureRequest",t[t.bugReport=3]="bugReport",t[t.offTopic=4]="offTopic"}(se);var ie={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.FeedbackQuestionType=void 0,(t=e.FeedbackQuestionType||(e.FeedbackQuestionType={}))[t.plainText=0]="plainText",t[t.yesNo=1]="yesNo",t[t.yesNoUnknown=2]="yesNoUnknown",t[t.fiveStar=3]="fiveStar"}(ie);var ae={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.GuideSectionItemType=void 0,(t=e.GuideSectionItemType||(e.GuideSectionItemType={}))[t.text=0]="text",t[t.link=1]="link",t[t.image=2]="image",t[t.markdown=3]="markdown",t[t.table=4]="table"}(ae);var le={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.OAuthProviderType=void 0,(t=e.OAuthProviderType||(e.OAuthProviderType={}))[t.unknown=0]="unknown",t[t.google=1]="google"}(le);var ce={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.PermissionType=void 0,(t=e.PermissionType||(e.PermissionType={}))[t.none=0]="none",t[t.usersView=1]="usersView",t[t.usersManage=2]="usersManage",t[t.userPermissionsView=3]="userPermissionsView",t[t.userPermissionsManage=4]="userPermissionsManage",t[t.appView=5]="appView",t[t.appManage=6]="appManage",t[t.translationView=7]="translationView",t[t.translationManage=8]="translationManage",t[t.translationKeyView=9]="translationKeyView",t[t.translationKeyManage=10]="translationKeyManage",t[t.hangfireDashboardView=11]="hangfireDashboardView",t[t.hangfireDashboardManage=12]="hangfireDashboardManage",t[t.languageView=13]="languageView",t[t.languageManage=14]="languageManage",t[t.cacheView=15]="cacheView",t[t.cacheManage=16]="cacheManage",t[t.guideSubmissionView=17]="guideSubmissionView",t[t.guideSubmissionManage=18]="guideSubmissionManage",t[t.versionView=19]="versionView",t[t.versionManage=20]="versionManage",t[t.donationView=21]="donationView",t[t.donationManage=22]="donationManage",t[t.steamBranchManage=23]="steamBranchManage",t[t.teamMemberView=24]="teamMemberView",t[t.teamMemberManage=25]="teamMemberManage",t[t.translationReportView=26]="translationReportView",t[t.translationReportManage=27]="translationReportManage",t[t.licenceView=28]="licenceView",t[t.licenceManage=29]="licenceManage",t[t.appNoticeView=30]="appNoticeView",t[t.appNoticeManage=31]="appNoticeManage",t[t.feedbackFormView=32]="feedbackFormView",t[t.feedbackFormManage=33]="feedbackFormManage",t[t.translationSubmissionView=34]="translationSubmissionView",t[t.databaseMaintenance=35]="databaseMaintenance"}(ce);var de={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformType=void 0,(t=e.PlatformType||(e.PlatformType={}))[t.android=0]="android",t[t.iOS=1]="iOS",t[t.web=2]="web",t[t.api=3]="api",t[t.windows=4]="windows",t[t.githubWindowsInstaller=5]="githubWindowsInstaller"}(de);var ue={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RedisCacheType=void 0,(t=e.RedisCacheType||(e.RedisCacheType={}))[t.appRatingSummary=0]="appRatingSummary",t[t.appRatingGooglePlay=1]="appRatingGooglePlay",t[t.appRatingAppleAppStore=2]="appRatingAppleAppStore",t[t.patreonList=3]="patreonList",t[t.steamNews=4]="steamNews",t[t.steamBranches=5]="steamBranches",t[t.twitchAuthToken=6]="twitchAuthToken"}(ue);var pe={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RequestBodyMapperType=void 0,(t=e.RequestBodyMapperType||(e.RequestBodyMapperType={}))[t.unknown=0]="unknown",t[t.guide=1]="guide",t[t.version=2]="version"}(pe);var he={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SignalRServerType=void 0,(t=e.SignalRServerType||(e.SignalRServerType={}))[t.oAuthComplete=0]="oAuthComplete"}(he);var ge={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SortDirection=void 0,(t=e.SortDirection||(e.SortDirection={}))[t.none=0]="none",t[t.asc=1]="asc",t[t.desc=2]="desc"}(ge);var me={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TranslationReportStatus=void 0,(t=e.TranslationReportStatus||(e.TranslationReportStatus={}))[t.pending=0]="pending",t[t.closed=1]="closed",t[t.resolved=2]="resolved"}(me);var fe={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.UserActivityActionType=void 0,(t=e.UserActivityActionType||(e.UserActivityActionType={}))[t.unknown=0]="unknown",t[t.create=1]="create",t[t.read=2]="read",t[t.update=3]="update",t[t.delete=4]="delete"}(fe);var be={},ve={},we={};Object.defineProperty(we,"__esModule",{value:!0}),we.anyObject=void 0,we.anyObject={};var ye=F&&F.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(ve,"__esModule",{value:!0}),ve.BaseApiService=void 0;const ke=we;ve.BaseApiService=class{constructor(e){this._baseUrl="https://api.assistantapps.com",this.addAccessTokenToHeaders=()=>ke.anyObject,this.formDataWithAccessTokenHeaders=()=>ke.anyObject,this._baseUrl=e}get(e,t,n){return ye(this,void 0,void 0,(function*(){let o=ke.anyObject;null!=t&&(o=Object.assign(Object.assign({},o),t()));let r=ke.anyObject;try{if(r=yield fetch(`${this._baseUrl}/${e}`,o),null!=n)return n(r)}catch(e){return console.log("data",e.toString()),{isSuccess:!1,value:ke.anyObject,errorMessage:e.toString()}}let s=ke.anyObject;try{s=yield r.json()}catch(e){}return{isSuccess:!0,value:s,errorMessage:""}}))}post(e,t,n,o){return ye(this,void 0,void 0,(function*(){let r=ke.anyObject;null!=n&&(r=Object.assign(Object.assign({},r),n()));let s=ke.anyObject;try{if(s=yield fetch(`${this._baseUrl}/${e}`,Object.assign(Object.assign({},r),{method:"POST",headers:Object.assign({Accept:"application/json","Content-Type":"application/json"},r.headers),body:JSON.stringify(t)})),null!=o)return o(s)}catch(e){return console.log("data",e.toString()),{isSuccess:!1,value:ke.anyObject,errorMessage:e.toString()}}let i=ke.anyObject;try{i=yield s.json()}catch(e){}return{isSuccess:!0,value:i,errorMessage:""}}))}put(e,t,n,o){return ye(this,void 0,void 0,(function*(){let r=ke.anyObject;null!=n&&(r=Object.assign(Object.assign({},r),n()));let s=ke.anyObject;try{if(s=yield fetch(`${this._baseUrl}/${e}`,Object.assign(Object.assign({},r),{method:"PUT",headers:Object.assign({Accept:"application/json","Content-Type":"application/json"},r.headers),body:JSON.stringify(t)})),null!=o)return o(s)}catch(e){return console.log("data",e.toString()),{isSuccess:!1,value:ke.anyObject,errorMessage:e.toString()}}let i=ke.anyObject;try{i=yield s.json()}catch(e){}return{isSuccess:!0,value:i,errorMessage:""}}))}delete(e,t){return ye(this,void 0,void 0,(function*(){let n=ke.anyObject;null!=t&&(n=Object.assign(Object.assign({},n),t()));let o=ke.anyObject;try{o=yield fetch(`${this._baseUrl}/${e}`,Object.assign(Object.assign({},n),{method:"DELETE"}))}catch(e){return console.log("data",e.toString()),{isSuccess:!1,errorMessage:e.toString()}}let r=ke.anyObject;try{r=yield o.json()}catch(e){}return{isSuccess:!0,errorMessage:""}}))}};var _e={},xe={},$e={exports:{}};$e.exports=function(){var e=1e3,t=6e4,n=36e5,o="millisecond",r="second",s="minute",i="hour",a="day",l="week",c="month",d="quarter",u="year",p="date",h="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},b=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},v={s:b,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+b(o,2,"0")+":"+b(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(o,c),s=n-r<0,i=t.clone().add(o+(s?-1:1),c);return+(-(o+(n-r)/(s?r-i:i-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:l,d:a,D:p,h:i,m:s,s:r,ms:o,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",y={};y[w]=f;var k=function(e){return e instanceof T},_=function e(t,n,o){var r;if(!t)return w;if("string"==typeof t){var s=t.toLowerCase();y[s]&&(r=s),n&&(y[s]=n,r=s);var i=t.split("-");if(!r&&i.length>1)return e(i[0])}else{var a=t.name;y[a]=t,r=a}return!o&&r&&(w=r),r||!o&&w},x=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},$=v;$.l=_,$.i=k,$.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function f(e){this.$L=_(e.locale,null,!0),this.parse(e)}var b=f.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if($.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(g);if(o){var r=o[2]-1||0,s=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,s)):new Date(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return $},b.isValid=function(){return!(this.$d.toString()===h)},b.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},b.isAfter=function(e,t){return x(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<x(e)},b.$g=function(e,t,n){return $.u(e)?this[t]:this.set(n,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var n=this,o=!!$.u(t)||t,d=$.p(e),h=function(e,t){var r=$.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?r:r.endOf(a)},g=function(e,t){return $.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,f=this.$M,b=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case u:return o?h(1,0):h(31,11);case c:return o?h(1,f):h(0,f+1);case l:var w=this.$locale().weekStart||0,y=(m<w?m+7:m)-w;return h(o?b-y:b+(6-y),f);case a:case p:return g(v+"Hours",0);case i:return g(v+"Minutes",1);case s:return g(v+"Seconds",2);case r:return g(v+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var n,l=$.p(e),d="set"+(this.$u?"UTC":""),h=(n={},n[a]=d+"Date",n[p]=d+"Date",n[c]=d+"Month",n[u]=d+"FullYear",n[i]=d+"Hours",n[s]=d+"Minutes",n[r]=d+"Seconds",n[o]=d+"Milliseconds",n)[l],g=l===a?this.$D+(t-this.$W):t;if(l===c||l===u){var m=this.clone().set(p,1);m.$d[h](g),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](g);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[$.p(e)]()},b.add=function(o,d){var p,h=this;o=Number(o);var g=$.p(d),m=function(e){var t=x(h);return $.w(t.date(t.date()+Math.round(e*o)),h)};if(g===c)return this.set(c,this.$M+o);if(g===u)return this.set(u,this.$y+o);if(g===a)return m(1);if(g===l)return m(7);var f=(p={},p[s]=t,p[i]=n,p[r]=e,p)[g]||1,b=this.$d.getTime()+o*f;return $.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var o=e||"YYYY-MM-DDTHH:mm:ssZ",r=$.z(this),s=this.$H,i=this.$m,a=this.$M,l=n.weekdays,c=n.months,d=function(e,n,r,s){return e&&(e[n]||e(t,o))||r[n].slice(0,s)},u=function(e){return $.s(s%12||12,e,"0")},p=n.meridiem||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:$.s(a+1,2,"0"),MMM:d(n.monthsShort,a,c,3),MMMM:d(c,a),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,l,2),ddd:d(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:$.s(s,2,"0"),h:u(1),hh:u(2),a:p(s,i,!0),A:p(s,i,!1),m:String(i),mm:$.s(i,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:r};return o.replace(m,(function(e,t){return t||g[e]||r.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(o,p,h){var g,m=$.p(p),f=x(o),b=(f.utcOffset()-this.utcOffset())*t,v=this-f,w=$.m(this,f);return w=(g={},g[u]=w/12,g[c]=w,g[d]=w/3,g[l]=(v-b)/6048e5,g[a]=(v-b)/864e5,g[i]=v/n,g[s]=v/t,g[r]=v/e,g)[m]||v,h?w:$.a(w)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return y[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=_(e,t,!0);return o&&(n.$L=o),n},b.clone=function(){return $.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},f}(),C=T.prototype;return x.prototype=C,[["$ms",o],["$s",r],["$m",s],["$H",i],["$W",a],["$M",c],["$y",u],["$D",p]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,T,x),e.$i=!0),x},x.locale=_,x.isDayjs=k,x.unix=function(e){return x(1e3*e)},x.en=y[w],x.Ls=y,x.p={},x}();var Te=$e.exports,Ce=q(Te);!function(e){var t=F&&F.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.isBefore=e.addSeconds=e.formatForDateLocal=e.formatDate=void 0;const n=t(Te);e.formatDate=(e,t="DD MMM YY hh:mm")=>{try{return(0,n.default)(e).format(t)}catch(e){return""}};e.formatForDateLocal=t=>(0,e.formatDate)(t,"YYYY-MM-DDTHH:mm");e.addSeconds=(e,t)=>{try{return(0,n.default)(e).add(t,"seconds").toDate()}catch(t){return e}};e.isBefore=(e,t)=>{try{return(0,n.default)(e).isBefore(t)}catch(e){return!1}}}(xe);var Se=F&&F.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(_e,"__esModule",{value:!0}),_e.accountController=void 0;const Ae=V,Ee=G,Pe=xe,Re=we,Oe=(e,t,n)=>{const o=e.headers.get(Ee.TokenHeaderKey),r=e.headers.get(Ee.TokenExpiryHeaderKey);return n({userGuid:e.headers.get(Ee.UserGuidHeaderKey),username:t.username,profilePic:t.profileUrl,token:o,tokenExpiry:r,tokenExpiryDate:(0,Pe.addSeconds)(new Date,r)}),200==e.status};_e.accountController=e=>({loginWithGoogleAuth:(t,n)=>Se(void 0,void 0,void 0,(function*(){return{isSuccess:yield e.post(Ae.endpoints.authUrl,t,(()=>Re.anyObject),(e=>Oe(e,t,n))),errorMessage:""}})),getFakeToken:t=>Se(void 0,void 0,void 0,(function*(){const n={username:"fake account",profileUrl:"profile.png"};return{isSuccess:yield e.post(Ae.endpoints.fakeAuthUrl,Re.anyObject,(()=>Re.anyObject),(e=>Oe(e,n,t))),errorMessage:""}}))});var je={};Object.defineProperty(je,"__esModule",{value:!0}),je.appController=void 0;const Me=V.endpoints.app;je.appController=e=>({create:t=>e.post(Me,t,e.addAccessTokenToHeaders),readAll:()=>e.get(Me),readAllForAdmin:t=>e.get(`${Me}/Admin`,e.addAccessTokenToHeaders),update:t=>e.put(Me,t,e.addAccessTokenToHeaders),del:t=>{const n=`${Me}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.appNoticeController=void 0;const He=V.endpoints.appNotice;Ie.appNoticeController=e=>({create:t=>e.post(He,t,e.addAccessTokenToHeaders),readAll:(t,n)=>e.get(`${He}/${t}/${n}`),readAllForAdmin:t=>e.get(`${He}/Admin`,e.addAccessTokenToHeaders),update:t=>e.put(He,t,e.addAccessTokenToHeaders),del:t=>{const n=`${He}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.appReviewController=void 0;const Le=V.endpoints.appReviews;De.appReviewController=e=>({readForApp:t=>e.get(`${Le}/${t}`)});var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.badgeController=void 0;const ze=V.endpoints.badge;Ne.badgeController=e=>({reviews:(t,n)=>e.get(`${ze}/${t}/${n}`),version:t=>e.get(`${ze}/${t}`)});var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.cacheController=void 0;const Fe=V,qe=Fe.endpoints.cache,Be=Fe.endpoints.redisCache;Ue.cacheController=e=>({readAllCache:()=>e.get(qe,e.addAccessTokenToHeaders),delCache:t=>{const n=`${qe}/${encodeURIComponent(t)}`;return e.delete(n,e.addAccessTokenToHeaders)},delAllCache:()=>e.delete(qe,e.addAccessTokenToHeaders),readAllRedisCache:()=>e.get(Be,e.addAccessTokenToHeaders),delRedisCache:t=>{const n=`${Be}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)},delAllRedisCache:()=>e.delete(Be,e.addAccessTokenToHeaders)});var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.contactController=void 0;const Ve=V;We.contactController=e=>({formSubmission:t=>e.post(Ve.endpoints.contact,t,e.addAccessTokenToHeaders)});var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.dashboardController=void 0;const Ke=V;Ge.dashboardController=e=>({dashboard:()=>e.get(Ke.endpoints.dashboard),adminDashboard:()=>e.get(Ke.endpoints.dashboard,e.addAccessTokenToHeaders)});var Qe={},Ze=F&&F.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.donationController=void 0;const Ye=V.endpoints.donation;Qe.donationController=e=>({create:t=>e.post(Ye,t,e.addAccessTokenToHeaders),readAll:t=>Ze(void 0,void 0,void 0,(function*(){let n=Ye;null!=t&&(n+=`?page=${Ye}`);return(yield e.get(n)).value})),readAllForAdmin:t=>Ze(void 0,void 0,void 0,(function*(){var n,o;return(yield e.post(`${Ye}/Search`,{page:null!==(n=null==t?void 0:t.page)&&void 0!==n?n:1,searchText:null!==(o=null==t?void 0:t.searchText)&&void 0!==o?o:""},e.addAccessTokenToHeaders)).value})),update:t=>e.put(Ye,t,e.addAccessTokenToHeaders),del:t=>{const n=`${Ye}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.feedbackFormController=void 0;const Xe=V.endpoints.feedbackForm;Je.feedbackFormController=e=>({create:t=>e.post(Xe,t,e.addAccessTokenToHeaders),readLatest:t=>e.get(`${Xe}/${t}`),readAllForAdmin:()=>e.get(`${Xe}/Admin`,e.addAccessTokenToHeaders),update:t=>e.put(Xe,t,e.addAccessTokenToHeaders),del:t=>{const n=`${Xe}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.feedbackFormAnswerController=void 0;const tt=V.endpoints.feedbackFormAnswer;et.feedbackFormAnswerController=e=>({create:t=>e.post(tt,t,e.addAccessTokenToHeaders),readForFeedback:t=>e.get(`${tt}/${t}`,e.addAccessTokenToHeaders),del:t=>e.delete(`${tt}/${t}`,e.addAccessTokenToHeaders)});var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.feedbackFormQuestionController=void 0;const ot=V.endpoints.feedbackFormQuestion;nt.feedbackFormQuestionController=e=>({create:t=>e.post(ot,t,e.addAccessTokenToHeaders),readForFeedback:t=>e.get(`${ot}/${t}`,e.addAccessTokenToHeaders),update:t=>e.put(ot,t,e.addAccessTokenToHeaders),del:t=>e.delete(`${ot}/${t}`,e.addAccessTokenToHeaders)});var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.languageController=void 0;const st=V.endpoints.language;rt.languageController=e=>({create:t=>e.post(st,t,e.addAccessTokenToHeaders),readAll:()=>e.get(st),update:t=>e.put(st,t,e.addAccessTokenToHeaders),del:t=>{const n=`${st}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.licenceController=void 0;const at=V,lt=at.endpoints.licence;it.licenceController=e=>({create:t=>e.post(lt,t,e.addAccessTokenToHeaders),readAll:()=>e.get(lt,e.addAccessTokenToHeaders),activate:(t,n)=>{const o=`${at.endpoints.licenceActivate}/${t}/${n}`;return e.get(o)},activateForPatron:(t,n)=>{const o=`${at.endpoints.licenceActivateForPatron}/${t}/${n}`;return e.get(o)},verify:(t,n)=>{const o=`${at.endpoints.licenceVerify}/${t}/${n}`;return e.get(o)},update:t=>e.put(lt,t,e.addAccessTokenToHeaders),del:t=>{const n=`${lt}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.oAuthController=void 0;const dt=V.endpoints.oAuth;ct.oAuthController=e=>({patreon:(t,n)=>e.get(`${dt}/Patreon?code=${t}&state=${n}`)});var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.patreonController=void 0;const pt=V.endpoints.patreon;ut.patreonController=e=>({readAll:()=>e.get(pt,e.addAccessTokenToHeaders)});var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.permissionController=void 0;const gt=ce,mt=we,ft=V.endpoints.permission;ht.permissionController=e=>({readCurrentUsersPermissions:()=>e.get(ft,e.addAccessTokenToHeaders),readPermissionsForUserGuid:t=>e.get(`${ft}/${t}`),addForUser:(t,n)=>e.post(`${ft}/${t}/${gt.PermissionType[n].toString()}`,mt.anyObject,e.addAccessTokenToHeaders),delPermissionForUser:(t,n)=>{const o=`${ft}/${t}/${gt.PermissionType[n].toString()}`;return e.delete(o,e.addAccessTokenToHeaders)}});var bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.quickActionController=void 0;const vt=we,wt=V.endpoints.quickActionIndexes;bt.quickActionController=e=>({readIndexes:()=>e.get(wt,e.addAccessTokenToHeaders),regenerateIndexes:()=>e.post(wt,vt.anyObject,e.addAccessTokenToHeaders)});var yt={},kt=F&&F.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(yt,"__esModule",{value:!0}),yt.steamController=void 0;const _t=V,xt=ee;yt.steamController=e=>{const t=[xt.AppType.nms,xt.AppType.sms],n=t=>kt(void 0,void 0,void 0,(function*(){const n=yield e.get(`${_t.endpoints.steamBranches}/${t}`);return Object.assign(Object.assign({},n),{value:{appType:xt.AppType[t],branches:n.value}})}));return{readNews:t=>e.get(`${_t.endpoints.steamNews}/${t}`),readBranch:n,readAllBranches:()=>kt(void 0,void 0,void 0,(function*(){const e=[];for(const o of t){const t=yield n(o.toString());t.isSuccess&&e.push(t.value)}return{isSuccess:!0,value:e,errorMessage:""}})),updateBranch:(t,n)=>e.put(`${_t.endpoints.steamBranches}/${t}`,{newData:n.branches},e.addAccessTokenToHeaders)}};var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.teamMemberController=void 0;const Tt=V.endpoints.teamMember;$t.teamMemberController=e=>({create:t=>e.post(Tt,t,e.addAccessTokenToHeaders),readAll:()=>e.get(Tt),update:t=>e.put(Tt,t,e.addAccessTokenToHeaders),del:t=>{const n=`${Tt}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.translationImageController=void 0;const St=V.endpoints.translationImage;Ct.translationImageController=e=>({add:(t,n)=>e.post(`${St}/${t}`,n,e.formDataWithAccessTokenHeaders),readAll:t=>e.get(`${St}/${t}`,e.addAccessTokenToHeaders),del:t=>{const n=`${St}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.translationKeyController=void 0;const Et=V,Pt=Et.endpoints.translationKey;At.translationKeyController=e=>({create:t=>e.post(Pt,t,e.addAccessTokenToHeaders),createSearch:t=>e.post(Et.endpoints.translationKeySearchDropdown,t,e.addAccessTokenToHeaders),createSearchDropdown:t=>e.post(Et.endpoints.translationKeySearchDropdown,t,e.addAccessTokenToHeaders),read:t=>e.get(`${Pt}/${t}`,e.addAccessTokenToHeaders),readAll:()=>e.get(`${Pt}/Admin`,e.addAccessTokenToHeaders),update:t=>e.put(Pt,t,e.addAccessTokenToHeaders),del:t=>{const n=`${Pt}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.translationReportController=void 0;const Ot=we,jt=V.endpoints.translationReport;Rt.translationReportController=e=>({create:t=>e.post(jt,t,e.addAccessTokenToHeaders),readAll:()=>e.get(jt,e.addAccessTokenToHeaders),resolve:t=>e.put(`${jt}/${t}`,Ot.anyObject,e.addAccessTokenToHeaders),close:t=>{const n=`${jt}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var Mt={},It=F&&F.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.translationStatController=void 0;const Ht=V.endpoints.translationStatLeaderboard;Mt.translationStatController=e=>({readAll:t=>It(void 0,void 0,void 0,(function*(){const n=yield e.post(Ht,t,e.addAccessTokenToHeaders);return Object.assign(Object.assign({},n.value),{isSuccess:!0})}))});var Dt={},Lt=F&&F.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.userController=void 0;const Nt=we,zt=V.endpoints.user;Dt.userController=e=>({readAll:()=>e.get(zt,e.addAccessTokenToHeaders),readAllAdmin:t=>Lt(void 0,void 0,void 0,(function*(){return(yield e.post(zt,t,e.addAccessTokenToHeaders)).value})),update:t=>e.put(zt,t,e.addAccessTokenToHeaders),markAsAdmin:t=>e.put(`${zt}/${t}`,Nt.anyObject,e.addAccessTokenToHeaders),del:t=>{const n=`${zt}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}});var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.userActivityController=void 0;const Ft=V.endpoints.userActivity;Ut.userActivityController=e=>({readAll:()=>e.get(Ft,e.addAccessTokenToHeaders)});var qt={},Bt=F&&F.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(qt,"__esModule",{value:!0}),qt.versionController=void 0;const Wt=V,Vt=we,Gt=Wt.endpoints.version;qt.versionController=e=>({create:t=>e.post(Gt,t,e.addAccessTokenToHeaders),createSearch:t=>Bt(void 0,void 0,void 0,(function*(){return(yield e.post(`${Gt}/Search`,t,e.addAccessTokenToHeaders)).value})),createNotification:t=>e.post(`${Wt.endpoints.versionSendUpdateNotification}/${t}`,Vt.anyObject,e.addAccessTokenToHeaders),readLatest:t=>e.get(`${Gt}/${t}`),readAllForAdmin:()=>e.get(`${Gt}/Admin`,e.addAccessTokenToHeaders),readAllHistory:(t,n,o,r)=>{let s=`${Gt}/${t}/${n}`;if(null!=o){let e="";for(const t of o)e.length>1?e+="&":e+="?",e+=`platforms=${t}`;s+=e}return null!=r&&(s.includes("?")?s+=`?page=${r}`:s+=`&page=${r}`),e.get(s,e.addAccessTokenToHeaders)},update:t=>e.put(Gt,t,e.addAccessTokenToHeaders),del:t=>e.delete(`${Gt}/${t}`,e.addAccessTokenToHeaders)});var Kt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formDataWithAccessTokenHeaders=e.addAccessTokenToHeaders=void 0;e.addAccessTokenToHeaders=e=>{var t;const n=null!==(t=e.authToken)&&void 0!==t?t:"";return n.length<1&&console.warn("Expected access token to not be empty but it is"),{headers:{authorization:`Bearer ${n}`}}};e.formDataWithAccessTokenHeaders=t=>{const n=(0,e.addAccessTokenToHeaders)(t);return Object.assign(Object.assign({},n),{headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"multipart/form-data"})})}}(Kt);var Qt={},Zt=F&&F.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.translationController=void 0;const Yt=V,Jt=Yt.endpoints.translation;Qt.translationController=e=>({create:t=>e.post(Jt,t,e.addAccessTokenToHeaders),createSearch:t=>Zt(void 0,void 0,void 0,(function*(){return(yield e.post(Yt.endpoints.translationSearch,t,e.addAccessTokenToHeaders)).value})),createSearchPerLanguage:t=>e.post(Yt.endpoints.translationSearchPerLanguage,t,e.addAccessTokenToHeaders),read:t=>e.get(`${Jt}/${t}`,e.addAccessTokenToHeaders),readForLang:(t,n)=>e.get(`${Jt}/${t}/${n}`,e.addAccessTokenToHeaders),del:t=>{const n=`${Jt}/${t}`;return e.delete(n,e.addAccessTokenToHeaders)}}),Object.defineProperty(be,"__esModule",{value:!0}),be.AssistantAppsApiService=void 0;const Xt=ve,en=_e,tn=je,nn=Ie,on=De,rn=Ne,sn=Ue,an=We,ln=Ge,cn=Qe,dn=Je,un=et,pn=nt,hn=rt,gn=it,mn=ct,fn=ut,bn=ht,vn=bt,wn=yt,yn=$t,kn=Ct,_n=At,xn=Rt,$n=Mt,Tn=Dt,Cn=Ut,Sn=qt,An=Kt,En=Qt;class Pn extends Xt.BaseApiService{constructor(e){var t,n;const o=null!==(t=null==e?void 0:e.url)&&void 0!==t?t:"https://api.assistantapps.com";super(o),this._state={url:"",authToken:""},this.addAccessTokenToHeaders=()=>(0,An.addAccessTokenToHeaders)({authToken:this._state.authToken}),this.formDataWithAccessTokenHeaders=()=>(0,An.formDataWithAccessTokenHeaders)({authToken:this._state.authToken}),this.account=(0,en.accountController)(this),this.app=(0,tn.appController)(this),this.appNotice=(0,nn.appNoticeController)(this),this.appReview=(0,on.appReviewController)(this),this.badge=(0,rn.badgeController)(this),this.cache=(0,sn.cacheController)(this),this.contact=(0,an.contactController)(this),this.dashboard=(0,ln.dashboardController)(this),this.donation=(0,cn.donationController)(this),this.language=(0,hn.languageController)(this),this.licence=(0,gn.licenceController)(this),this.feedbackForm=(0,dn.feedbackFormController)(this),this.feedbackFormAnswer=(0,un.feedbackFormAnswerController)(this),this.feedbackFormQuestion=(0,pn.feedbackFormQuestionController)(this),this.oAuth=(0,mn.oAuthController)(this),this.patreon=(0,fn.patreonController)(this),this.permission=(0,bn.permissionController)(this),this.quickAction=(0,vn.quickActionController)(this),this.steam=(0,wn.steamController)(this),this.teamMember=(0,yn.teamMemberController)(this),this.translation=(0,En.translationController)(this),this.translationImage=(0,kn.translationImageController)(this),this.translationKey=(0,_n.translationKeyController)(this),this.translationReport=(0,xn.translationReportController)(this),this.translationStat=(0,$n.translationStatController)(this),this.user=(0,Tn.userController)(this),this.userActivity=(0,Cn.userActivityController)(this),this.version=(0,Sn.versionController)(this),this._state.url=o,this._state.authToken=null!==(n=null==e?void 0:e.authToken)&&void 0!==n?n:""}}be.AssistantAppsApiService=Pn;var Rn,On={},jn={};class Mn extends Error{constructor(e,t){const n=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=n}}class In extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class Hn extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class Dn extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=n}}class Ln extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=n}}class Nn extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=n}}class zn extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class Un extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=n}}class Fn{constructor(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}class qn{get(e,t){return this.send({...t,method:"GET",url:e})}post(e,t){return this.send({...t,method:"POST",url:e})}delete(e,t){return this.send({...t,method:"DELETE",url:e})}getCookieString(e){return""}}!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(Rn||(Rn={}));class Bn{constructor(){}log(e,t){}}Bn.instance=new Bn;const Wn="7.0.5";class Vn{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,n){if(!(e in t))throw new Error(`Unknown ${n} value: ${e}.`)}}class Gn{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&void 0===window.document}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Kn(e,t){let n="";return Qn(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${function(e){const t=new Uint8Array(e);let n="";return t.forEach((e=>{n+=`0x${e<16?"0":""}${e.toString(16)} `})),n.substr(0,n.length-1)}(e)}'`)):"string"==typeof e&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function Qn(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}async function Zn(e,t,n,o,r,s){const i={},[a,l]=Xn();i[a]=l,e.log(Rn.Trace,`(${t} transport) sending data. ${Kn(r,s.logMessageContent)}.`);const c=Qn(r)?"arraybuffer":"text",d=await n.post(o,{content:r,headers:{...i,...s.headers},responseType:c,timeout:s.timeout,withCredentials:s.withCredentials});e.log(Rn.Trace,`(${t} transport) request complete. Response status: ${d.statusCode}.`)}class Yn{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch((e=>{}))}}class Jn{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const n=`[${(new Date).toISOString()}] ${Rn[e]}: ${t}`;switch(e){case Rn.Critical:case Rn.Error:this.out.error(n);break;case Rn.Warning:this.out.warn(n);break;case Rn.Information:this.out.info(n);break;default:this.out.log(n)}}}}function Xn(){let e="X-SignalR-User-Agent";return Gn.isNode&&(e="User-Agent"),[e,eo(Wn,to(),oo(),no())]}function eo(e,t,n,o){let r="Microsoft SignalR/";const s=e.split(".");return r+=`${s[0]}.${s[1]}`,r+=` (${e}; `,r+=t&&""!==t?`${t}; `:"Unknown OS; ",r+=`${n}`,r+=o?`; ${o}`:"; Unknown Runtime Version",r+=")",r}function to(){if(!Gn.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function no(){if(Gn.isNode)return process.versions.node}function oo(){return Gn.isNode?"NodeJS":"Browser"}function ro(e){return e.stack?e.stack:e.message?e.message:`${e}`}class so extends qn{constructor(e){if(super(),this._logger=e,"undefined"==typeof fetch){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._jar=new(e("tough-cookie").CookieJar),this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new Hn;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const t=new this._abortControllerType;let n;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),n=new Hn});let o,r=null;if(e.timeout){const o=e.timeout;r=setTimeout((()=>{t.abort(),this._logger.log(Rn.Warning,"Timeout from HTTP request."),n=new In}),o)}""===e.content&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Qn(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");try{o=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(e){if(n)throw n;throw this._logger.log(Rn.Warning,`Error from HTTP request. ${e}.`),e}finally{r&&clearTimeout(r),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){const e=await io(o,"text");throw new Mn(e||o.statusText,o.status)}const s=io(o,e.responseType),i=await s;return new Fn(o.status,o.statusText,i)}getCookieString(e){let t="";return Gn.isNode&&this._jar&&this._jar.getCookies(e,((e,n)=>t=n.join("; "))),t}}function io(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":default:n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}class ao extends qn{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Hn):e.method?e.url?new Promise(((t,n)=>{const o=new XMLHttpRequest;o.open(e.method,e.url,!0),o.withCredentials=void 0===e.withCredentials||e.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===e.content&&(e.content=void 0),e.content&&(Qn(e.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const r=e.headers;r&&Object.keys(r).forEach((e=>{o.setRequestHeader(e,r[e])})),e.responseType&&(o.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{o.abort(),n(new Hn)}),e.timeout&&(o.timeout=e.timeout),o.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),o.status>=200&&o.status<300?t(new Fn(o.status,o.statusText,o.response||o.responseText)):n(new Mn(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(Rn.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),n(new Mn(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(Rn.Warning,"Timeout from HTTP request."),n(new In)},o.send(e.content)})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class lo extends qn{constructor(e){if(super(),"undefined"!=typeof fetch||Gn.isNode)this._httpClient=new so(e);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new ao(e)}}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Hn):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class co{static write(e){return`${e}${co.RecordSeparator}`}static parse(e){if(e[e.length-1]!==co.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(co.RecordSeparator);return t.pop(),t}}co.RecordSeparatorCode=30,co.RecordSeparator=String.fromCharCode(co.RecordSeparatorCode);class uo{writeHandshakeRequest(e){return co.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,n;if(Qn(e)){const o=new Uint8Array(e),r=o.indexOf(co.RecordSeparatorCode);if(-1===r)throw new Error("Message is incomplete.");const s=r+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(o.slice(0,s))),n=o.byteLength>s?o.slice(s).buffer:null}else{const o=e,r=o.indexOf(co.RecordSeparator);if(-1===r)throw new Error("Message is incomplete.");const s=r+1;t=o.substring(0,s),n=o.length>s?o.substring(s):null}const o=co.parse(t),r=JSON.parse(o[0]);if(r.type)throw new Error("Expected a handshake response from the server.");return[n,r]}}var po;!function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close"}(po||(po={}));class ho{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new Yn(this,e)}}var go;!function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"}(go||(go={}));class mo{constructor(e,t,n,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Rn.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Vn.isRequired(e,"connection"),Vn.isRequired(t,"logger"),Vn.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=t,this._protocol=n,this.connection=e,this._reconnectPolicy=o,this._handshakeProtocol=new uo,this.connection.onreceive=e=>this._processIncomingData(e),this.connection.onclose=e=>this._connectionClosed(e),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=go.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:po.Ping})}static create(e,t,n,o){return new mo(e,t,n,o)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==go.Disconnected&&this._connectionState!==go.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==go.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=go.Connecting,this._logger.log(Rn.Debug,"Starting HubConnection.");try{await this._startInternal(),Gn.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=go.Connected,this._connectionStarted=!0,this._logger.log(Rn.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=go.Disconnected,this._logger.log(Rn.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise(((e,t)=>{this._handshakeResolver=e,this._handshakeRejecter=t}));await this.connection.start(this._protocol.transferFormat);try{const t={protocol:this._protocol.name,version:this._protocol.version};if(this._logger.log(Rn.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(t)),this._logger.log(Rn.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(Rn.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){const e=this._startPromise;this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch(e){}}_stopInternal(e){return this._connectionState===go.Disconnected?(this._logger.log(Rn.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===go.Disconnecting?(this._logger.log(Rn.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=go.Disconnecting,this._logger.log(Rn.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Rn.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new Hn("The connection was stopped before the hub handshake could complete."),this.connection.stop(e)))}stream(e,...t){const[n,o]=this._replaceStreamingParams(t),r=this._createStreamInvocation(e,t,o);let s;const i=new ho;return i.cancelCallback=()=>{const e=this._createCancelInvocation(r.invocationId);return delete this._callbacks[r.invocationId],s.then((()=>this._sendWithProtocol(e)))},this._callbacks[r.invocationId]=(e,t)=>{t?i.error(t):e&&(e.type===po.Completion?e.error?i.error(new Error(e.error)):i.complete():i.next(e.item))},s=this._sendWithProtocol(r).catch((e=>{i.error(e),delete this._callbacks[r.invocationId]})),this._launchStreams(n,s),i}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[n,o]=this._replaceStreamingParams(t),r=this._sendWithProtocol(this._createInvocation(e,t,!0,o));return this._launchStreams(n,r),r}invoke(e,...t){const[n,o]=this._replaceStreamingParams(t),r=this._createInvocation(e,t,!1,o);return new Promise(((e,t)=>{this._callbacks[r.invocationId]=(n,o)=>{o?t(o):n&&(n.type===po.Completion?n.error?t(new Error(n.error)):e(n.result):t(new Error(`Unexpected message type: ${n.type}`)))};const o=this._sendWithProtocol(r).catch((e=>{t(e),delete this._callbacks[r.invocationId]}));this._launchStreams(n,o)}))}on(e,t){e&&t&&(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),-1===this._methods[e].indexOf(t)&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(t){const o=n.indexOf(t);-1!==o&&(n.splice(o,1),0===n.length&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const t=this._protocol.parseMessages(e,this._logger);for(const e of t)switch(e.type){case po.Invocation:this._invokeClientMethod(e);break;case po.StreamItem:case po.Completion:{const t=this._callbacks[e.invocationId];if(t){e.type===po.Completion&&delete this._callbacks[e.invocationId];try{t(e)}catch(e){this._logger.log(Rn.Error,`Stream callback threw error: ${ro(e)}`)}}break}case po.Ping:break;case po.Close:{this._logger.log(Rn.Information,"Close message received from server.");const t=e.error?new Error("Server returned an error on close: "+e.error):void 0;!0===e.allowReconnect?this.connection.stop(t):this._stopPromise=this._stopInternal(t);break}default:this._logger.log(Rn.Warning,`Invalid message type: ${e.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,n;try{[n,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(e){const t="Error parsing handshake response: "+e;this._logger.log(Rn.Error,t);const n=new Error(t);throw this._handshakeRejecter(n),n}if(t.error){const e="Server returned handshake error: "+t.error;this._logger.log(Rn.Error,e);const n=new Error(e);throw this._handshakeRejecter(n),n}return this._logger.log(Rn.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout((()=>this.serverTimeout()),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((async()=>{if(this._connectionState===go.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const t=e.target.toLowerCase(),n=this._methods[t];if(!n)return this._logger.log(Rn.Warning,`No client method with the name '${t}' found.`),void(e.invocationId&&(this._logger.log(Rn.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null))));const o=n.slice(),r=!!e.invocationId;let s,i,a;for(const n of o)try{const o=s;s=await n.apply(this,e.arguments),r&&s&&o&&(this._logger.log(Rn.Error,`Multiple results provided for '${t}'. Sending error to server.`),a=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),i=void 0}catch(e){i=e,this._logger.log(Rn.Error,`A callback for the method '${t}' threw error '${e}'.`)}a?await this._sendWithProtocol(a):r?(i?a=this._createCompletionMessage(e.invocationId,`${i}`,null):void 0!==s?a=this._createCompletionMessage(e.invocationId,null,s):(this._logger.log(Rn.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),a=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(a)):s&&this._logger.log(Rn.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(Rn.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new Hn("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===go.Disconnecting?this._completeClose(e):this._connectionState===go.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===go.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=go.Disconnected,this._connectionStarted=!1,Gn.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(Rn.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){const t=Date.now();let n=0,o=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),r=this._getNextRetryDelay(n++,0,o);if(null===r)return this._logger.log(Rn.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void this._completeClose(e);if(this._connectionState=go.Reconnecting,e?this._logger.log(Rn.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(Rn.Information,"Connection reconnecting."),0!==this._reconnectingCallbacks.length){try{this._reconnectingCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(Rn.Error,`An onreconnecting callback called with error '${e}' threw error '${t}'.`)}if(this._connectionState!==go.Reconnecting)return void this._logger.log(Rn.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==r;){if(this._logger.log(Rn.Information,`Reconnect attempt number ${n} will start in ${r} ms.`),await new Promise((e=>{this._reconnectDelayHandle=setTimeout(e,r)})),this._reconnectDelayHandle=void 0,this._connectionState!==go.Reconnecting)return void this._logger.log(Rn.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(await this._startInternal(),this._connectionState=go.Connected,this._logger.log(Rn.Information,"HubConnection reconnected successfully."),0!==this._reconnectedCallbacks.length)try{this._reconnectedCallbacks.forEach((e=>e.apply(this,[this.connection.connectionId])))}catch(e){this._logger.log(Rn.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`)}return}catch(e){if(this._logger.log(Rn.Information,`Reconnect attempt failed because of error '${e}'.`),this._connectionState!==go.Reconnecting)return this._logger.log(Rn.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(this._connectionState===go.Disconnecting&&this._completeClose());o=e instanceof Error?e:new Error(e.toString()),r=this._getNextRetryDelay(n++,Date.now()-t,o)}}this._logger.log(Rn.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(n){return this._logger.log(Rn.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${n}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach((n=>{const o=t[n];try{o(null,e)}catch(t){this._logger.log(Rn.Error,`Stream 'error' callback called with '${e}' threw error: ${ro(t)}`)}}))}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,n,o){if(n)return 0!==o.length?{arguments:t,streamIds:o,target:e,type:po.Invocation}:{arguments:t,target:e,type:po.Invocation};{const n=this._invocationId;return this._invocationId++,0!==o.length?{arguments:t,invocationId:n.toString(),streamIds:o,target:e,type:po.Invocation}:{arguments:t,invocationId:n.toString(),target:e,type:po.Invocation}}}_launchStreams(e,t){if(0!==e.length){t||(t=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n))))},error:e=>{let o;o=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n,o))))},next:e=>{t=t.then((()=>this._sendWithProtocol(this._createStreamItemMessage(n,e))))}})}}_replaceStreamingParams(e){const t=[],n=[];for(let o=0;o<e.length;o++){const r=e[o];if(this._isObservable(r)){const s=this._invocationId;this._invocationId++,t[s]=r,n.push(s.toString()),e.splice(o,1)}}return[t,n]}_isObservable(e){return e&&e.subscribe&&"function"==typeof e.subscribe}_createStreamInvocation(e,t,n){const o=this._invocationId;return this._invocationId++,0!==n.length?{arguments:t,invocationId:o.toString(),streamIds:n,target:e,type:po.StreamInvocation}:{arguments:t,invocationId:o.toString(),target:e,type:po.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:po.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:po.StreamItem}}_createCompletionMessage(e,t,n){return t?{error:t,invocationId:e,type:po.Completion}:{invocationId:e,result:n,type:po.Completion}}}const fo=[0,2e3,1e4,3e4,null];class bo{constructor(e){this._retryDelays=void 0!==e?[...e,null]:fo}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class vo{}vo.Authorization="Authorization",vo.Cookie="Cookie";class wo extends qn{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const n=await this._innerClient.send(e);return t&&401===n.statusCode&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):n}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[vo.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[vo.Authorization]&&delete e.headers[vo.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var yo,ko;!function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"}(yo||(yo={})),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(ko||(ko={}));class _o{constructor(e,t,n){this._httpClient=e,this._logger=t,this._pollAbort=new class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}},this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}async connect(e,t){if(Vn.isRequired(e,"url"),Vn.isRequired(t,"transferFormat"),Vn.isIn(t,ko,"transferFormat"),this._url=e,this._logger.log(Rn.Trace,"(LongPolling transport) Connecting."),t===ko.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,o]=Xn(),r={[n]:o,...this._options.headers},s={abortSignal:this._pollAbort.signal,headers:r,timeout:1e5,withCredentials:this._options.withCredentials};t===ko.Binary&&(s.responseType="arraybuffer");const i=`${e}&_=${Date.now()}`;this._logger.log(Rn.Trace,`(LongPolling transport) polling: ${i}.`);const a=await this._httpClient.get(i,s);200!==a.statusCode?(this._logger.log(Rn.Error,`(LongPolling transport) Unexpected response code: ${a.statusCode}.`),this._closeError=new Mn(a.statusText||"",a.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)}async _poll(e,t){try{for(;this._running;)try{const n=`${e}&_=${Date.now()}`;this._logger.log(Rn.Trace,`(LongPolling transport) polling: ${n}.`);const o=await this._httpClient.get(n,t);204===o.statusCode?(this._logger.log(Rn.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):200!==o.statusCode?(this._logger.log(Rn.Error,`(LongPolling transport) Unexpected response code: ${o.statusCode}.`),this._closeError=new Mn(o.statusText||"",o.statusCode),this._running=!1):o.content?(this._logger.log(Rn.Trace,`(LongPolling transport) data received. ${Kn(o.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(o.content)):this._logger.log(Rn.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(e){this._running?e instanceof In?this._logger.log(Rn.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=e,this._running=!1):this._logger.log(Rn.Trace,`(LongPolling transport) Poll errored after shutdown: ${e.message}`)}}finally{this._logger.log(Rn.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?Zn(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(Rn.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(Rn.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[t,n]=Xn();e[t]=n;const o={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};await this._httpClient.delete(this._url,o),this._logger.log(Rn.Trace,"(LongPolling transport) DELETE request sent.")}finally{this._logger.log(Rn.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(Rn.Trace,e),this.onclose(this._closeError)}}}class xo{constructor(e,t,n,o){this._httpClient=e,this._accessToken=t,this._logger=n,this._options=o,this.onreceive=null,this.onclose=null}async connect(e,t){return Vn.isRequired(e,"url"),Vn.isRequired(t,"transferFormat"),Vn.isIn(t,ko,"transferFormat"),this._logger.log(Rn.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise(((n,o)=>{let r,s=!1;if(t===ko.Text){if(Gn.isBrowser||Gn.isWebWorker)r=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const t=this._httpClient.getCookieString(e),n={};n.Cookie=t;const[o,s]=Xn();n[o]=s,r=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...n,...this._options.headers}})}try{r.onmessage=e=>{if(this.onreceive)try{this._logger.log(Rn.Trace,`(SSE transport) data received. ${Kn(e.data,this._options.logMessageContent)}.`),this.onreceive(e.data)}catch(e){return void this._close(e)}},r.onerror=e=>{s?this._close():o(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},r.onopen=()=>{this._logger.log(Rn.Information,`SSE connected to ${this._url}`),this._eventSource=r,s=!0,n()}}catch(e){return void o(e)}}else o(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))}async send(e){return this._eventSource?Zn(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class $o{constructor(e,t,n,o,r,s){this._logger=n,this._accessTokenFactory=t,this._logMessageContent=o,this._webSocketConstructor=r,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=s}async connect(e,t){let n;return Vn.isRequired(e,"url"),Vn.isRequired(t,"transferFormat"),Vn.isIn(t,ko,"transferFormat"),this._logger.log(Rn.Trace,"(WebSockets transport) Connecting."),this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise(((o,r)=>{let s;e=e.replace(/^http/,"ws");const i=this._httpClient.getCookieString(e);let a=!1;if(Gn.isNode||Gn.isReactNative){const t={},[o,r]=Xn();t[o]=r,n&&(t[vo.Authorization]=`Bearer ${n}`),i&&(t[vo.Cookie]=i),s=new this._webSocketConstructor(e,void 0,{headers:{...t,...this._headers}})}else n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);s||(s=new this._webSocketConstructor(e)),t===ko.Binary&&(s.binaryType="arraybuffer"),s.onopen=t=>{this._logger.log(Rn.Information,`WebSocket connected to ${e}.`),this._webSocket=s,a=!0,o()},s.onerror=e=>{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"There was an error with the transport",this._logger.log(Rn.Information,`(WebSockets transport) ${t}.`)},s.onmessage=e=>{if(this._logger.log(Rn.Trace,`(WebSockets transport) data received. ${Kn(e.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(e.data)}catch(e){return void this._close(e)}},s.onclose=e=>{if(a)this._close(e);else{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",r(new Error(t))}}}))}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Rn.Trace,`(WebSockets transport) sending data. ${Kn(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Rn.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)))}_isCloseEvent(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code}}class To{constructor(e,t={}){var n;if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Vn.isRequired(e,"url"),this._logger=void 0===(n=t.logger)?new Jn(Rn.Information):null===n?Bn.instance:void 0!==n.log?n:new Jn(n),this.baseUrl=this._resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials,t.timeout=void 0===t.timeout?1e5:t.timeout;let o=null,r=null;if(Gn.isNode&&"undefined"!=typeof require){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;o=e("ws"),r=e("eventsource")}Gn.isNode||"undefined"==typeof WebSocket||t.WebSocket?Gn.isNode&&!t.WebSocket&&o&&(t.WebSocket=o):t.WebSocket=WebSocket,Gn.isNode||"undefined"==typeof EventSource||t.EventSource?Gn.isNode&&!t.EventSource&&void 0!==r&&(t.EventSource=r):t.EventSource=EventSource,this._httpClient=new wo(t.httpClient||new lo(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||ko.Binary,Vn.isIn(e,ko,"transferFormat"),this._logger.log(Rn.Debug,`Starting connection with transfer format '${ko[e]}'.`),"Disconnected"!==this._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,"Disconnecting"===this._connectionState){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(Rn.Error,e),await this._stopPromise,Promise.reject(new Hn(e))}if("Connected"!==this._connectionState){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(Rn.Error,e),Promise.reject(new Hn(e))}this._connectionStarted=!0}send(e){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Co(this.transport)),this._sendQueue.send(e))}async stop(e){return"Disconnected"===this._connectionState?(this._logger.log(Rn.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===this._connectionState?(this._logger.log(Rn.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState="Disconnecting",this._stopPromise=new Promise((e=>{this._stopPromiseResolver=e})),await this._stopInternal(e),void await this._stopPromise)}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch(e){}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(Rn.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(Rn.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation){if(this._options.transport!==yo.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");this.transport=this._constructTransport(yo.WebSockets),await this._startTransport(t,e)}else{let n=null,o=0;do{if(n=await this._getNegotiationResponse(t),"Disconnecting"===this._connectionState||"Disconnected"===this._connectionState)throw new Hn("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(t=n.url),n.accessToken){const e=n.accessToken;this._accessTokenFactory=()=>e,this._httpClient._accessToken=e,this._httpClient._accessTokenFactory=void 0}o++}while(n.url&&o<100);if(100===o&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,n,e)}this.transport instanceof _o&&(this.features.inherentKeepAlive=!0),"Connecting"===this._connectionState&&(this._logger.log(Rn.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(e){return this._logger.log(Rn.Error,"Failed to start the connection: "+e),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(e)}}async _getNegotiationResponse(e){const t={},[n,o]=Xn();t[n]=o;const r=this._resolveNegotiateUrl(e);this._logger.log(Rn.Debug,`Sending negotiation request: ${r}.`);try{const e=await this._httpClient.post(r,{content:"",headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(200!==e.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${e.statusCode}'`));const n=JSON.parse(e.content);return(!n.negotiateVersion||n.negotiateVersion<1)&&(n.connectionToken=n.connectionId),n}catch(e){let t="Failed to complete negotiation with the server: "+e;return e instanceof Mn&&404===e.statusCode&&(t+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(Rn.Error,t),Promise.reject(new zn(t))}}_createConnectUrl(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+`id=${t}`:e}async _createTransport(e,t,n,o){let r=this._createConnectUrl(e,n.connectionToken);if(this._isITransport(t))return this._logger.log(Rn.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(r,o),void(this.connectionId=n.connectionId);const s=[],i=n.availableTransports||[];let a=n;for(const n of i){const i=this._resolveTransportOrError(n,t,o);if(i instanceof Error)s.push(`${n.transport} failed:`),s.push(i);else if(this._isITransport(i)){if(this.transport=i,!a){try{a=await this._getNegotiationResponse(e)}catch(e){return Promise.reject(e)}r=this._createConnectUrl(e,a.connectionToken)}try{return await this._startTransport(r,o),void(this.connectionId=a.connectionId)}catch(e){if(this._logger.log(Rn.Error,`Failed to start the transport '${n.transport}': ${e}`),a=void 0,s.push(new Nn(`${n.transport} failed: ${e}`,yo[n.transport])),"Connecting"!==this._connectionState){const e="Failed to select transport before stop() was called.";return this._logger.log(Rn.Debug,e),Promise.reject(new Hn(e))}}}}return s.length>0?Promise.reject(new Un(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case yo.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new $o(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case yo.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new xo(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case yo.LongPolling:return new _o(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.transport.onclose=e=>this._stopConnection(e),this.transport.connect(e,t)}_resolveTransportOrError(e,t,n){const o=yo[e.transport];if(null==o)return this._logger.log(Rn.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(!function(e,t){return!e||0!=(t&e)}(t,o))return this._logger.log(Rn.Debug,`Skipping transport '${yo[o]}' because it was disabled by the client.`),new Ln(`'${yo[o]}' is disabled by the client.`,o);if(!(e.transferFormats.map((e=>ko[e])).indexOf(n)>=0))return this._logger.log(Rn.Debug,`Skipping transport '${yo[o]}' because it does not support the requested transfer format '${ko[n]}'.`),new Error(`'${yo[o]}' does not support ${ko[n]}.`);if(o===yo.WebSockets&&!this._options.WebSocket||o===yo.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Rn.Debug,`Skipping transport '${yo[o]}' because it is not supported in your environment.'`),new Dn(`'${yo[o]}' is not supported in your environment.`,o);this._logger.log(Rn.Debug,`Selecting transport '${yo[o]}'.`);try{return this._constructTransport(o)}catch(e){return e}}_isITransport(e){return e&&"object"==typeof e&&"connect"in e}_stopConnection(e){if(this._logger.log(Rn.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(Rn.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),e?this._logger.log(Rn.Error,`Connection disconnected with error '${e}'.`):this._logger.log(Rn.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch((e=>{this._logger.log(Rn.Error,`TransportSendQueue.stop() threw error '${e}'.`)})),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(Rn.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}else this._logger.log(Rn.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!Gn.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(Rn.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=e.indexOf("?");let n=e.substring(0,-1===t?e.length:t);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===t?"":e.substring(t),-1===n.indexOf("negotiateVersion")&&(n+=-1===t?"?":"&",n+="negotiateVersion="+this._negotiateVersion),n}}class Co{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new So,this._transportResult=new So,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new So),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new So;const e=this._transportResult;this._transportResult=void 0;const t="string"==typeof this._buffer[0]?this._buffer.join(""):Co._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(t),e.resolve()}catch(t){e.reject(t)}}}static _concatBuffers(e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),n=new Uint8Array(t);let o=0;for(const t of e)n.set(new Uint8Array(t),o),o+=t.byteLength;return n.buffer}}class So{constructor(){this.promise=new Promise(((e,t)=>[this._resolver,this._rejecter]=[e,t]))}resolve(){this._resolver()}reject(e){this._rejecter(e)}}class Ao{constructor(){this.name="json",this.version=1,this.transferFormat=ko.Text}parseMessages(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=Bn.instance);const n=co.parse(e),o=[];for(const e of n){const n=JSON.parse(e);if("number"!=typeof n.type)throw new Error("Invalid payload.");switch(n.type){case po.Invocation:this._isInvocationMessage(n);break;case po.StreamItem:this._isStreamItemMessage(n);break;case po.Completion:this._isCompletionMessage(n);break;case po.Ping:case po.Close:break;default:t.log(Rn.Information,"Unknown message type '"+n.type+"' ignored.");continue}o.push(n)}return o}writeMessage(e){return co.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(e,t){if("string"!=typeof e||""===e)throw new Error(t)}}const Eo={trace:Rn.Trace,debug:Rn.Debug,info:Rn.Information,information:Rn.Information,warn:Rn.Warning,warning:Rn.Warning,error:Rn.Error,critical:Rn.Critical,none:Rn.None};var Po=Object.freeze({__proto__:null,AbortError:Hn,DefaultHttpClient:lo,HttpClient:qn,HttpError:Mn,HttpResponse:Fn,get HttpTransportType(){return yo},HubConnection:mo,HubConnectionBuilder:class{configureLogging(e){if(Vn.isRequired(e,"logging"),void 0!==e.log)this.logger=e;else if("string"==typeof e){const t=function(e){const t=Eo[e.toLowerCase()];if(void 0!==t)return t;throw new Error(`Unknown log level: ${e}`)}(e);this.logger=new Jn(t)}else this.logger=new Jn(e);return this}withUrl(e,t){return Vn.isRequired(e,"url"),Vn.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?{...this.httpConnectionOptions,...t}:{...this.httpConnectionOptions,transport:t},this}withHubProtocol(e){return Vn.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new bo(e):this.reconnectPolicy=e:this.reconnectPolicy=new bo,this}build(){const e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new To(this.url,e);return mo.create(t,this.logger||Bn.instance,this.protocol||new Ao,this.reconnectPolicy)}},get HubConnectionState(){return go},JsonHubProtocol:Ao,get LogLevel(){return Rn},get MessageType(){return po},NullLogger:Bn,Subject:ho,TimeoutError:In,get TransferFormat(){return ko},VERSION:Wn}),Ro=B(Po),Oo=F&&F.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(jn,"__esModule",{value:!0}),jn.BaseHubClient=void 0;const jo=Ro,Mo=Y;jn.BaseHubClient=class{constructor(e){var t,n;this._state={url:"",hubPath:""},this.isConnected=()=>this._connection.state===jo.HubConnectionState.Connected,this.addListener=(e,t)=>{this.logMessage(`Listener created for: ${Mo.SignalRReceiveEvent[e].toString()}`),this._connection.on(Mo.SignalRReceiveEvent[e].toString(),(e=>t(e)))},this.removeListener=(e,t)=>{this.logMessage(`Listener removed for: ${Mo.SignalRReceiveEvent[e].toString()}`),this._connection.off(Mo.SignalRReceiveEvent[e].toString(),(e=>t(e)))},this.sendPayload=(e,t)=>Oo(this,void 0,void 0,(function*(){if(this.isConnected())try{const n=Mo.SignalRSendEvent[e].toString();yield this._connection.send(n,t),this.logMessage("Message sent!",`channel: ${n}`,t)}catch(e){console.error("sendPayload error",e)}else console.warn("No connection, cannot send payload!")})),this.logMessage=(e,...t)=>{console.log(e,t)};const o=null!==(t=null==e?void 0:e.url)&&void 0!==t?t:"https://api.assistantapps.com";this._state.url=o,this._state.hubPath=null!==(n=null==e?void 0:e.hubPath)&&void 0!==n?n:"/hubs/OAuth",this._connection=(new jo.HubConnectionBuilder).withUrl(`${this._state.url}${this._state.hubPath}`).withAutomaticReconnect().build(),this._connection.start().then((()=>this.logMessage("signalR connection")))}},Object.defineProperty(On,"__esModule",{value:!0}),On.AssistantAppsOAuthClient=void 0;const Io=Y,Ho=jn;class Do extends Ho.BaseHubClient{constructor(){super(...arguments),this.listenToOAuth=e=>{this.addListener(Io.SignalRReceiveEvent.OAuthComplete,e)},this.removeListenToOAuth=e=>{this.removeListener(Io.SignalRReceiveEvent.OAuthComplete,e)},this.joinGroup=e=>{this.sendPayload(Io.SignalRSendEvent.JoinOAuthGroup,e)},this.leaveGroup=e=>{this.sendPayload(Io.SignalRSendEvent.LeaveOAuthGroup,e)}}}On.AssistantAppsOAuthClient=Do,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.translationKeyController=e.translationImageController=e.translationController=e.teamMemberController=e.steamController=e.quickActionController=e.permissionController=e.patreonController=e.oAuthController=e.licenceController=e.languageController=e.feedbackFormQuestionController=e.feedbackFormAnswerController=e.feedbackFormController=e.donationController=e.dashboardController=e.contactController=e.cacheController=e.badgeController=e.appReviewController=e.appNoticeController=e.appController=e.accountController=e.BaseApiService=e.AssistantAppsApiService=e.UserActivityActionType=e.TranslationReportStatus=e.SortDirection=e.SignalRServerType=e.RequestBodyMapperType=e.RedisCacheType=e.PlatformType=e.PermissionType=e.OAuthProviderType=e.GuideSectionItemType=e.FeedbackQuestionType=e.FeedbackCategory=e.DonationType=e.DashboardItemType=e.CoinbaseEventType=e.CacheType=e.AppType=e.AppRatingType=e.AdminApprovalStatus=e.SignalRSendEvent=e.SignalRReceiveEvent=e.UserGuidHeaderKey=e.TokenHeaderKey=e.TokenExpiryHeaderKey=e.endpoints=void 0,e.AssistantAppsOAuthClient=e.versionController=e.userActivityController=e.userController=e.translationStatController=e.translationReportController=void 0;var t=V;Object.defineProperty(e,"endpoints",{enumerable:!0,get:function(){return t.endpoints}});var n=G;Object.defineProperty(e,"TokenExpiryHeaderKey",{enumerable:!0,get:function(){return n.TokenExpiryHeaderKey}}),Object.defineProperty(e,"TokenHeaderKey",{enumerable:!0,get:function(){return n.TokenHeaderKey}}),Object.defineProperty(e,"UserGuidHeaderKey",{enumerable:!0,get:function(){return n.UserGuidHeaderKey}});var o=Y;Object.defineProperty(e,"SignalRReceiveEvent",{enumerable:!0,get:function(){return o.SignalRReceiveEvent}}),Object.defineProperty(e,"SignalRSendEvent",{enumerable:!0,get:function(){return o.SignalRSendEvent}});var r=J;Object.defineProperty(e,"AdminApprovalStatus",{enumerable:!0,get:function(){return r.AdminApprovalStatus}});var s=X;Object.defineProperty(e,"AppRatingType",{enumerable:!0,get:function(){return s.AppRatingType}});var i=ee;Object.defineProperty(e,"AppType",{enumerable:!0,get:function(){return i.AppType}});var a=te;Object.defineProperty(e,"CacheType",{enumerable:!0,get:function(){return a.CacheType}});var l=ne;Object.defineProperty(e,"CoinbaseEventType",{enumerable:!0,get:function(){return l.CoinbaseEventType}});var c=oe;Object.defineProperty(e,"DashboardItemType",{enumerable:!0,get:function(){return c.DashboardItemType}});var d=re;Object.defineProperty(e,"DonationType",{enumerable:!0,get:function(){return d.DonationType}});var u=se;Object.defineProperty(e,"FeedbackCategory",{enumerable:!0,get:function(){return u.FeedbackCategory}});var p=ie;Object.defineProperty(e,"FeedbackQuestionType",{enumerable:!0,get:function(){return p.FeedbackQuestionType}});var h=ae;Object.defineProperty(e,"GuideSectionItemType",{enumerable:!0,get:function(){return h.GuideSectionItemType}});var g=le;Object.defineProperty(e,"OAuthProviderType",{enumerable:!0,get:function(){return g.OAuthProviderType}});var m=ce;Object.defineProperty(e,"PermissionType",{enumerable:!0,get:function(){return m.PermissionType}});var f=de;Object.defineProperty(e,"PlatformType",{enumerable:!0,get:function(){return f.PlatformType}});var b=ue;Object.defineProperty(e,"RedisCacheType",{enumerable:!0,get:function(){return b.RedisCacheType}});var v=pe;Object.defineProperty(e,"RequestBodyMapperType",{enumerable:!0,get:function(){return v.RequestBodyMapperType}});var w=he;Object.defineProperty(e,"SignalRServerType",{enumerable:!0,get:function(){return w.SignalRServerType}});var y=ge;Object.defineProperty(e,"SortDirection",{enumerable:!0,get:function(){return y.SortDirection}});var k=me;Object.defineProperty(e,"TranslationReportStatus",{enumerable:!0,get:function(){return k.TranslationReportStatus}});var _=fe;Object.defineProperty(e,"UserActivityActionType",{enumerable:!0,get:function(){return _.UserActivityActionType}});var x=be;Object.defineProperty(e,"AssistantAppsApiService",{enumerable:!0,get:function(){return x.AssistantAppsApiService}});var $=ve;Object.defineProperty(e,"BaseApiService",{enumerable:!0,get:function(){return $.BaseApiService}});var T=_e;Object.defineProperty(e,"accountController",{enumerable:!0,get:function(){return T.accountController}});var C=je;Object.defineProperty(e,"appController",{enumerable:!0,get:function(){return C.appController}});var S=Ie;Object.defineProperty(e,"appNoticeController",{enumerable:!0,get:function(){return S.appNoticeController}});var A=De;Object.defineProperty(e,"appReviewController",{enumerable:!0,get:function(){return A.appReviewController}});var E=Ne;Object.defineProperty(e,"badgeController",{enumerable:!0,get:function(){return E.badgeController}});var P=Ue;Object.defineProperty(e,"cacheController",{enumerable:!0,get:function(){return P.cacheController}});var R=We;Object.defineProperty(e,"contactController",{enumerable:!0,get:function(){return R.contactController}});var O=Ge;Object.defineProperty(e,"dashboardController",{enumerable:!0,get:function(){return O.dashboardController}});var j=Qe;Object.defineProperty(e,"donationController",{enumerable:!0,get:function(){return j.donationController}});var M=Je;Object.defineProperty(e,"feedbackFormController",{enumerable:!0,get:function(){return M.feedbackFormController}});var I=et;Object.defineProperty(e,"feedbackFormAnswerController",{enumerable:!0,get:function(){return I.feedbackFormAnswerController}});var H=nt;Object.defineProperty(e,"feedbackFormQuestionController",{enumerable:!0,get:function(){return H.feedbackFormQuestionController}});var D=rt;Object.defineProperty(e,"languageController",{enumerable:!0,get:function(){return D.languageController}});var L=it;Object.defineProperty(e,"licenceController",{enumerable:!0,get:function(){return L.licenceController}});var N=ct;Object.defineProperty(e,"oAuthController",{enumerable:!0,get:function(){return N.oAuthController}});var z=ut;Object.defineProperty(e,"patreonController",{enumerable:!0,get:function(){return z.patreonController}});var U=ht;Object.defineProperty(e,"permissionController",{enumerable:!0,get:function(){return U.permissionController}});var F=bt;Object.defineProperty(e,"quickActionController",{enumerable:!0,get:function(){return F.quickActionController}});var q=yt;Object.defineProperty(e,"steamController",{enumerable:!0,get:function(){return q.steamController}});var B=$t;Object.defineProperty(e,"teamMemberController",{enumerable:!0,get:function(){return B.teamMemberController}});var W=Qt;Object.defineProperty(e,"translationController",{enumerable:!0,get:function(){return W.translationController}});var K=Ct;Object.defineProperty(e,"translationImageController",{enumerable:!0,get:function(){return K.translationImageController}});var Q=At;Object.defineProperty(e,"translationKeyController",{enumerable:!0,get:function(){return Q.translationKeyController}});var Z=Rt;Object.defineProperty(e,"translationReportController",{enumerable:!0,get:function(){return Z.translationReportController}});var we=Mt;Object.defineProperty(e,"translationStatController",{enumerable:!0,get:function(){return we.translationStatController}});var ye=Dt;Object.defineProperty(e,"userController",{enumerable:!0,get:function(){return ye.userController}});var ke=Ut;Object.defineProperty(e,"userActivityController",{enumerable:!0,get:function(){return ke.userActivityController}});var xe=qt;Object.defineProperty(e,"versionController",{enumerable:!0,get:function(){return xe.versionController}});var $e=On;Object.defineProperty(e,"AssistantAppsOAuthClient",{enumerable:!0,get:function(){return $e.AssistantAppsOAuthClient}})}(W);const Lo=()=>{var e;return null===(e=window.config)||void 0===e?void 0:e.assistantAppsApiUrl},No=()=>new W.AssistantAppsApiService({url:Lo()}),zo=()=>{var e,t;return null!==(t=null===(e=null===window||void 0===window?void 0:window.config)||void 0===e?void 0:e.assistantAppsImgRoot)&&void 0!==t?t:""};var Uo;!function(e){e[e.Loading=0]="Loading",e[e.Success=1]="Success",e[e.Error=2]="Error"}(Uo||(Uo={}));const Fo={},qo=async e=>{const t=await e();return 0==t.isSuccess||null==t.value?[Uo.Error,Fo]:[Uo.Success,t.value]};function Bo(e,t,n){const o=e.slice();return o[3]=t[n],o}function Wo(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Vo(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Go(e){let t,n,o,r;return{c(){t=g("assistant-apps-app-tile"),y(t,"name",n=e[3].name),y(t,"gamename",o=e[3].gameName),y(t,"logourl",r=e[3].logoUrl)},m(e,n){u(e,t,n)},p(e,s){2&s&&n!==(n=e[3].name)&&y(t,"name",n),2&s&&o!==(o=e[3].gameName)&&y(t,"gamename",o),2&s&&r!==(r=e[3].logoUrl)&&y(t,"logourl",r)},d(e){e&&p(t)}}}function Ko(t){let n,o,r,s,i=null!=t[2].loading&&Wo(),a=null!=t[2].error&&Vo(),l=t[1],c=[];for(let e=0;e<l.length;e+=1)c[e]=Go(Bo(t,l,e));return{c(){n=g("assistant-apps-loading"),i&&i.c(),o=f(),a&&a.c(),r=f(),s=g("div");for(let e=0;e<c.length;e+=1)c[e].c();this.c=e,w(s,"slot","loaded"),w(s,"class","grid-container apps-container noselect"),y(n,"networkstate",t[0])},m(e,t){u(e,n,t),i&&i.m(n,null),d(n,o),a&&a.m(n,null),d(n,r),d(n,s);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(s,null)},p(e,[t]){if(null!=e[2].loading?i||(i=Wo(),i.c(),i.m(n,o)):i&&(i.d(1),i=null),null!=e[2].error?a||(a=Vo(),a.c(),a.m(n,r)):a&&(a.d(1),a=null),2&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const o=Bo(e,l,n);c[n]?c[n].p(o,t):(c[n]=Go(o),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),i&&i.d(),a&&a.d(),h(c,e)}}}function Qo(e,t,n){let{$$slots:o={},$$scope:r}=t;const s=c(o);let i=Uo.Loading,a=[];return T((async()=>{const[e,t]=await(async()=>{const e=No(),[t,n]=await qo(e.app.readAll);if(t==Uo.Error)return[t,[]];const o=n.filter((e=>e.isVisible));return o.sort(((e,t)=>e.sortOrder-t.sortOrder)),[t,o]})();n(1,a=[...t]),n(0,i=e)})),[i,a,s]}function Zo(t){let n,o,r,s,i,a,c,h,b,v,y,_=t[0].replaceAll(t[1],"").trim()+"";return{c(){n=g("div"),o=g("img"),s=f(),i=g("div"),a=g("h2"),c=g("span"),h=m(_),b=g("br"),v=g("span"),y=m(t[1]),this.c=e,l(o.src,r=t[2])||w(o,"src",r),w(o,"alt",t[0]),w(o,"class","app-img noselect"),w(v,"class","highlight"),w(a,"class","app-name"),w(i,"class","content"),w(n,"class","aa-app")},m(e,t){u(e,n,t),d(n,o),d(n,s),d(n,i),d(i,a),d(a,c),d(c,h),d(a,b),d(a,v),d(v,y)},p(e,[t]){4&t&&!l(o.src,r=e[2])&&w(o,"src",r),1&t&&w(o,"alt",e[0]),3&t&&_!==(_=e[0].replaceAll(e[1],"").trim()+"")&&k(h,_),2&t&&k(y,e[1])},i:e,o:e,d(e){e&&p(n)}}}function Yo(e,t,n){let{name:o=""}=t,{gamename:r=""}=t,{logourl:s=""}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"gamename"in e&&n(1,r=e.gamename),"logourl"in e&&n(2,s=e.logourl)},[o,r,s]}customElements.define("assistant-apps-apps-list",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.apps-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.apps-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.apps-container{--aa-grid-columns:1}}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:{..._(this.attributes),$$slots:x(this)},customElement:!0},Qo,Ko,s,{},null),e&&e.target&&u(e.target,this,e.anchor)}});customElements.define("assistant-apps-app-tile",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.aa-app{display:flex;height:var(--assistantapps-apps-tile-height, 75px);background-color:var(--assistantapps-apps-background-colour, rgba(108, 117, 125, 0.4745098039));border-radius:5px;text-decoration:none;overflow:hidden}.aa-app img.app-img{height:var(--assistantapps-apps-tile-height, 75px);width:var(--assistantapps-apps-tile-height, 75px);object-fit:cover;margin:0}.aa-app .content{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-apps-text-colour, white);padding-left:1em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.aa-app .content .app-name{margin:0;max-width:100%;line-height:110%;overflow-wrap:break-word;white-space:pre-wrap;word-wrap:break-word}.aa-app .content .app-name .highlight{color:var(--assistantapps-apps-text-highlight-colour, #91ccff)}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Yo,Zo,s,{name:0,gamename:1,logourl:2},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["name","gamename","logourl"]}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),I()}get gamename(){return this.$$.ctx[1]}set gamename(e){this.$$set({gamename:e}),I()}get logourl(){return this.$$.ctx[2]}set logourl(e){this.$$set({logourl:e}),I()}});const Jo=async e=>{const[t,n]=await qo(e.app.readAll);if(t==Uo.Error)return[t,[],""];const o=n.filter((e=>e.isVisible));o.sort(((e,t)=>e.sortOrder-t.sortOrder));const r=o.map((e=>({name:e.name,value:e.guid,iconUrl:e.iconUrl}))),s=o[0].guid;return[Uo.Success,r,s]},Xo=async e=>{const[t,n]=await qo(e.language.readAll);if(t==Uo.Error)return[t,[],""];const o=n.filter((e=>e.isVisible));o.sort(((e,t)=>e.sortOrder-t.sortOrder));const r={guid:"hack",name:"English",languageCode:"en",countryCode:"gb",sortOrder:0,isVisible:!0},s=[r,...o].map((e=>({name:e.name,value:e.languageCode,iconUrl:`${zo()}/assets/img/countryCode/${e.countryCode.toLocaleUpperCase()}.svg`}))),i=r.languageCode;return[Uo.Success,s,i]};function er(e,t,n){const o=e.slice();return o[8]=t[n],o}function tr(e,t,n){const o=e.slice();return o[8]=t[n],o}function nr(e){let t,n=e[1],o=rr(e);return{c(){o.c(),t=b()},m(e,n){o.m(e,n),u(e,t,n)},p(e,r){2&r&&s(n,n=e[1])?(o.d(1),o=rr(e),o.c(),o.m(t.parentNode,t)):o.p(e,r)},d(e){e&&p(t),o.d(e)}}}function or(e){let t,n,o,r,s,i;function a(){return e[6](e[8])}return{c(){t=g("assistant-apps-dropdown-option"),y(t,"name",n=e[8].name),y(t,"value",o=e[8].value),y(t,"iconurl",r=e[8].iconUrl)},m(e,n){u(e,t,n),s||(i=v(t,"click",a),s=!0)},p(s,i){e=s,1&i&&n!==(n=e[8].name)&&y(t,"name",n),1&i&&o!==(o=e[8].value)&&y(t,"value",o),1&i&&r!==(r=e[8].iconUrl)&&y(t,"iconurl",r)},d(e){e&&p(t),s=!1,i()}}}function rr(e){let t,n,o=e[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=or(tr(e,o,t));return{c(){t=g("assistant-apps-dropdown"),n=g("div");for(let e=0;e<r.length;e+=1)r[e].c();w(n,"slot","options"),y(t,"selectedvalue",e[1]),y(t,"options",e[0])},m(e,o){u(e,t,o),d(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null)},p(e,s){if(3&s){let t;for(o=e[0],t=0;t<o.length;t+=1){const i=tr(e,o,t);r[t]?r[t].p(i,s):(r[t]=or(i),r[t].c(),r[t].m(n,null))}for(;t<r.length;t+=1)r[t].d(1);r.length=o.length}2&s&&y(t,"selectedvalue",e[1]),1&s&&y(t,"options",e[0])},d(e){e&&p(t),h(r,e)}}}function sr(e){let t,n=e[3],o=ar(e);return{c(){o.c(),t=b()},m(e,n){o.m(e,n),u(e,t,n)},p(e,r){8&r&&s(n,n=e[3])?(o.d(1),o=ar(e),o.c(),o.m(t.parentNode,t)):o.p(e,r)},d(e){e&&p(t),o.d(e)}}}function ir(e){let t,n,o,r,s,i;function a(){return e[7](e[8])}return{c(){t=g("assistant-apps-dropdown-option"),y(t,"name",n=e[8].name),y(t,"value",o=e[8].value),y(t,"iconurl",r=e[8].iconUrl)},m(e,n){u(e,t,n),s||(i=v(t,"click",a),s=!0)},p(s,i){e=s,4&i&&n!==(n=e[8].name)&&y(t,"name",n),4&i&&o!==(o=e[8].value)&&y(t,"value",o),4&i&&r!==(r=e[8].iconUrl)&&y(t,"iconurl",r)},d(e){e&&p(t),s=!1,i()}}}function ar(e){let t,n,o=e[2],r=[];for(let t=0;t<o.length;t+=1)r[t]=ir(er(e,o,t));return{c(){t=g("assistant-apps-dropdown"),n=g("div");for(let e=0;e<r.length;e+=1)r[e].c();w(n,"slot","options"),y(t,"selectedvalue",e[3]),y(t,"options",e[2])},m(e,o){u(e,t,o),d(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null)},p(e,s){if(12&s){let t;for(o=e[2],t=0;t<o.length;t+=1){const i=er(e,o,t);r[t]?r[t].p(i,s):(r[t]=ir(i),r[t].c(),r[t].m(n,null))}for(;t<r.length;t+=1)r[t].d(1);r.length=o.length}8&s&&y(t,"selectedvalue",e[3]),4&s&&y(t,"options",e[2])},d(e){e&&p(t),h(r,e)}}}function lr(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function cr(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function dr(e){let t;return{c(){t=g("assistant-apps-app-notice-list"),y(t,"appguid",e[1]),y(t,"langcode",e[3])},m(e,n){u(e,t,n)},p(e,n){2&n&&y(t,"appguid",e[1]),8&n&&y(t,"langcode",e[3])},d(e){e&&p(t)}}}function ur(e){let t,n=e[1].length>0&&e[3].length>0&&dr(e);return{c(){n&&n.c(),t=b()},m(e,o){n&&n.m(e,o),u(e,t,o)},p(e,o){e[1].length>0&&e[3].length>0?n?n.p(e,o):(n=dr(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&p(t)}}}function pr(e){let t,n=e[3],o=ur(e);return{c(){o.c(),t=b()},m(e,n){o.m(e,n),u(e,t,n)},p(e,r){8&r&&s(n,n=e[3])?(o.d(1),o=ur(e),o.c(),o.m(t.parentNode,t)):o.p(e,r)},d(e){e&&p(t),o.d(e)}}}function hr(t){let n,o,r,i,a,l,c,h=t[1],m=t[0].length>0&&nr(t),b=t[2].length>0&&sr(t),v=null!=t[5].loading&&lr(),k=null!=t[5].error&&cr(),_=pr(t);return{c(){n=g("div"),m&&m.c(),o=f(),b&&b.c(),r=f(),i=g("assistant-apps-loading"),v&&v.c(),a=f(),k&&k.c(),l=f(),c=g("div"),_.c(),this.c=e,w(c,"slot","loaded"),y(i,"networkstate",t[4])},m(e,t){u(e,n,t),m&&m.m(n,null),d(n,o),b&&b.m(n,null),d(n,r),d(n,i),v&&v.m(i,null),d(i,a),k&&k.m(i,null),d(i,l),d(i,c),_.m(c,null)},p(e,[t]){e[0].length>0?m?m.p(e,t):(m=nr(e),m.c(),m.m(n,o)):m&&(m.d(1),m=null),e[2].length>0?b?b.p(e,t):(b=sr(e),b.c(),b.m(n,r)):b&&(b.d(1),b=null),null!=e[5].loading?v||(v=lr(),v.c(),v.m(i,a)):v&&(v.d(1),v=null),null!=e[5].error?k||(k=cr(),k.c(),k.m(i,l)):k&&(k.d(1),k=null),2&t&&s(h,h=e[1])?(_.d(1),_=pr(e),_.c(),_.m(c,null)):_.p(e,t),16&t&&y(i,"networkstate",e[4])},i:e,o:e,d(e){e&&p(n),m&&m.d(),b&&b.d(),v&&v.d(),k&&k.d(),_.d(e)}}}function gr(e,t,n){let{$$slots:o={},$$scope:r}=t;const s=c(o);let i=[],a="",l=[],d="",u=Uo.Loading;T((async()=>{const e=await(async()=>{const e=No(),t=await Jo(e),n=await Xo(e);return t[0]==Uo.Error||n[0]==Uo.Error?{networkState:Uo.Error,appLookup:[],selectedAppGuid:"",langLookup:[],selectedLangCode:""}:{networkState:Uo.Success,appLookup:t[1],selectedAppGuid:t[2],langLookup:n[1],selectedLangCode:n[2]}})();n(4,u=e.networkState),n(0,i=e.appLookup),n(1,a=e.selectedAppGuid),n(2,l=e.langLookup),n(3,d=e.selectedLangCode)}));return[i,a,l,d,u,s,e=>{n(1,a=e.value)},e=>{n(3,d=e.value)}]}customElements.define("assistant-apps-app-notice-list-search",class extends U{constructor(e){super(),z(this,{target:this.shadowRoot,props:{..._(this.attributes),$$slots:x(this)},customElement:!0},gr,hr,s,{},null),e&&e.target&&u(e.target,this,e.anchor)}});function mr(e,t,n){const o=e.slice();return o[5]=t[n],o}function fr(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function br(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function vr(t){let n;return{c(){n=g("h3"),n.textContent="No Notices to display"},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function wr(e){let t,n=e[1],o=[];for(let t=0;t<n.length;t+=1)o[t]=yr(mr(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=b()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);u(e,t,n)},p(e,r){if(2&r){let s;for(n=e[1],s=0;s<n.length;s+=1){const i=mr(e,n,s);o[s]?o[s].p(i,r):(o[s]=yr(i),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){h(o,e),e&&p(t)}}}function yr(e){let t,n,o,r;return{c(){t=g("assistant-apps-app-notice-tile"),y(t,"name",n=e[5].name),y(t,"subtitle",o=e[5].subtitle),y(t,"iconurl",r=e[5].iconUrl)},m(e,n){u(e,t,n)},p(e,s){2&s&&n!==(n=e[5].name)&&y(t,"name",n),2&s&&o!==(o=e[5].subtitle)&&y(t,"subtitle",o),2&s&&r!==(r=e[5].iconUrl)&&y(t,"iconurl",r)},d(e){e&&p(t)}}}function kr(t){let n,o,r,s,i=null!=t[2].loading&&fr(),a=null!=t[2].error&&br();function l(e,t){return e[1].length>0?wr:vr}let c=l(t),h=c(t);return{c(){n=g("assistant-apps-loading"),i&&i.c(),o=f(),a&&a.c(),r=f(),s=g("div"),h.c(),this.c=e,w(s,"slot","loaded"),w(s,"class","grid-container app-notice-container noselect"),y(n,"networkstate",t[0])},m(e,t){u(e,n,t),i&&i.m(n,null),d(n,o),a&&a.m(n,null),d(n,r),d(n,s),h.m(s,null)},p(e,[t]){null!=e[2].loading?i||(i=fr(),i.c(),i.m(n,o)):i&&(i.d(1),i=null),null!=e[2].error?a||(a=br(),a.c(),a.m(n,r)):a&&(a.d(1),a=null),c===(c=l(e))&&h?h.p(e,t):(h.d(1),h=c(e),h&&(h.c(),h.m(s,null))),1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),i&&i.d(),a&&a.d(),h.d()}}}function _r(e,t,n){let{$$slots:o={},$$scope:r}=t;const s=c(o);let{appguid:i=""}=t,{langcode:a=""}=t,l=Uo.Loading,d=[];return T((async()=>{const[e,t]=await(async(e,t)=>{const n=No(),[o,r]=await qo((()=>n.appNotice.readAll(e,t)));if(o==Uo.Error)return[o,[]];const s=r.filter((e=>e.isVisible));return s.sort(((e,t)=>e.sortOrder-t.sortOrder)),[o,s]})(i,a);n(1,d=[...t]),n(0,l=e)})),e.$$set=e=>{"appguid"in e&&n(3,i=e.appguid),"langcode"in e&&n(4,a=e.langcode)},[l,d,s,i,a]}function xr(t){let n,o,r,s,i,a,c,h,b,v,y;return{c(){n=g("div"),o=g("img"),s=f(),i=g("div"),a=g("h2"),c=g("span"),h=m(t[0]),b=g("br"),v=g("span"),y=m(t[1]),this.c=e,l(o.src,r=t[2])||w(o,"src",r),w(o,"alt",t[0]),w(o,"class","app-img noselect"),w(a,"class","app-name"),w(i,"class","content"),w(n,"class","aa-app")},m(e,t){u(e,n,t),d(n,o),d(n,s),d(n,i),d(i,a),d(a,c),d(c,h),d(a,b),d(a,v),d(v,y)},p(e,[t]){4&t&&!l(o.src,r=e[2])&&w(o,"src",r),1&t&&w(o,"alt",e[0]),1&t&&k(h,e[0]),2&t&&k(y,e[1])},i:e,o:e,d(e){e&&p(n)}}}function $r(e,t,n){let{name:o=""}=t,{subtitle:r=""}=t,{iconurl:s=""}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"subtitle"in e&&n(1,r=e.subtitle),"iconurl"in e&&n(2,s=e.iconurl)},[o,r,s]}customElements.define("assistant-apps-app-notice-list",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.app-notice-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.app-notice-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.app-notice-container{--aa-grid-columns:1}}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:{..._(this.attributes),$$slots:x(this)},customElement:!0},_r,kr,s,{appguid:3,langcode:4},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["appguid","langcode"]}get appguid(){return this.$$.ctx[3]}set appguid(e){this.$$set({appguid:e}),I()}get langcode(){return this.$$.ctx[4]}set langcode(e){this.$$set({langcode:e}),I()}});customElements.define("assistant-apps-app-notice-tile",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.aa-app{display:flex;height:var(--assistantapps-app-notice-tile-height, 75px);background-color:var(--assistantapps-app-notice-background-colour, rgba(108, 117, 125, 0.4745098039));border-radius:5px;text-decoration:none;overflow:hidden}.aa-app img.app-img{height:var(--assistantapps-app-notice-tile-height, 75px);width:var(--assistantapps-app-notice-tile-height, 75px);object-fit:cover;margin:0}.aa-app .content{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-app-notice-text-colour, white);padding-left:1em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.aa-app .content .app-name{margin:0;max-width:100%;line-height:110%;overflow-wrap:break-word;white-space:pre-wrap;word-wrap:break-word}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},$r,xr,s,{name:0,subtitle:1,iconurl:2},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["name","subtitle","iconurl"]}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),I()}get subtitle(){return this.$$.ctx[1]}set subtitle(e){this.$$set({subtitle:e}),I()}get iconurl(){return this.$$.ctx[2]}set iconurl(e){this.$$set({iconurl:e}),I()}});const Tr=async e=>{const[t,n]=await qo(e.app.readAll);if(t==Uo.Error)return[t,[],"",""];const o=n.filter((e=>e.isVisible));o.sort(((e,t)=>e.sortOrder-t.sortOrder));const r=o.map((e=>({name:e.name,value:e.guid,iconUrl:e.iconUrl}))),s=o[0].guid;return[Uo.Success,r,s,"1"]},Cr=async()=>{const e=zo(),t=[...[{name:"Google Play",value:"1",iconUrl:`${e}/assets/img/platform/android.png`},{name:"Apple App Store",value:"2",iconUrl:`${e}/assets/img/platform/iOS.png`}]];return[t,t[0].value]};function Sr(e,t,n){const o=e.slice();return o[9]=t[n],o}function Ar(e,t,n){const o=e.slice();return o[9]=t[n],o}function Er(e){let t,n=e[1],o=Rr(e);return{c(){o.c(),t=b()},m(e,n){o.m(e,n),u(e,t,n)},p(e,r){2&r&&s(n,n=e[1])?(o.d(1),o=Rr(e),o.c(),o.m(t.parentNode,t)):o.p(e,r)},d(e){e&&p(t),o.d(e)}}}function Pr(e){let t,n,o,r,s,i;function a(){return e[7](e[9])}return{c(){t=g("assistant-apps-dropdown-option"),y(t,"name",n=e[9].name),y(t,"value",o=e[9].value),y(t,"iconurl",r=e[9].iconUrl)},m(e,n){u(e,t,n),s||(i=v(t,"click",a),s=!0)},p(s,i){e=s,1&i&&n!==(n=e[9].name)&&y(t,"name",n),1&i&&o!==(o=e[9].value)&&y(t,"value",o),1&i&&r!==(r=e[9].iconUrl)&&y(t,"iconurl",r)},d(e){e&&p(t),s=!1,i()}}}function Rr(e){let t,n,o=e[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=Pr(Ar(e,o,t));return{c(){t=g("assistant-apps-dropdown"),n=g("div");for(let e=0;e<r.length;e+=1)r[e].c();w(n,"slot","options"),y(t,"selectedvalue",e[1]),y(t,"options",e[0])},m(e,o){u(e,t,o),d(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null)},p(e,s){if(7&s){let t;for(o=e[0],t=0;t<o.length;t+=1){const i=Ar(e,o,t);r[t]?r[t].p(i,s):(r[t]=Pr(i),r[t].c(),r[t].m(n,null))}for(;t<r.length;t+=1)r[t].d(1);r.length=o.length}2&s&&y(t,"selectedvalue",e[1]),1&s&&y(t,"options",e[0])},d(e){e&&p(t),h(r,e)}}}function Or(e){let t,n=e[4],o=Mr(e);return{c(){o.c(),t=b()},m(e,n){o.m(e,n),u(e,t,n)},p(e,r){16&r&&s(n,n=e[4])?(o.d(1),o=Mr(e),o.c(),o.m(t.parentNode,t)):o.p(e,r)},d(e){e&&p(t),o.d(e)}}}function jr(e){let t,n,o,r,s,i;function a(){return e[8](e[9])}return{c(){t=g("assistant-apps-dropdown-option"),y(t,"name",n=e[9].name),y(t,"value",o=e[9].value),y(t,"iconurl",r=e[9].iconUrl)},m(e,n){u(e,t,n),s||(i=v(t,"click",a),s=!0)},p(s,i){e=s,8&i&&n!==(n=e[9].name)&&y(t,"name",n),8&i&&o!==(o=e[9].value)&&y(t,"value",o),8&i&&r!==(r=e[9].iconUrl)&&y(t,"iconurl",r)},d(e){e&&p(t),s=!1,i()}}}function Mr(e){let t,n,o=e[3],r=[];for(let t=0;t<o.length;t+=1)r[t]=jr(Sr(e,o,t));return{c(){t=g("assistant-apps-dropdown"),n=g("div");for(let e=0;e<r.length;e+=1)r[e].c();w(n,"slot","options"),y(t,"selectedvalue",e[4]),y(t,"options",e[3])},m(e,o){u(e,t,o),d(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null)},p(e,s){if(24&s){let t;for(o=e[3],t=0;t<o.length;t+=1){const i=Sr(e,o,t);r[t]?r[t].p(i,s):(r[t]=jr(i),r[t].c(),r[t].m(n,null))}for(;t<r.length;t+=1)r[t].d(1);r.length=o.length}16&s&&y(t,"selectedvalue",e[4]),8&s&&y(t,"options",e[3])},d(e){e&&p(t),h(r,e)}}}function Ir(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Hr(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Dr(e){let t;return{c(){t=g("assistant-apps-review-badge"),y(t,"apptype",e[2]),y(t,"platform",e[4])},m(e,n){u(e,t,n)},p(e,n){4&n&&y(t,"apptype",e[2]),16&n&&y(t,"platform",e[4])},d(e){e&&p(t)}}}function Lr(e){let t,n=e[4],o=Dr(e);return{c(){o.c(),t=b()},m(e,n){o.m(e,n),u(e,t,n)},p(e,r){16&r&&s(n,n=e[4])?(o.d(1),o=Dr(e),o.c(),o.m(t.parentNode,t)):o.p(e,r)},d(e){e&&p(t),o.d(e)}}}function Nr(e){let t;return{c(){t=g("assistant-apps-version-badge"),y(t,"appguid",e[1])},m(e,n){u(e,t,n)},p(e,n){2&n&&y(t,"appguid",e[1])},d(e){e&&p(t)}}}function zr(t){let n,o,r,i,a,l,c,h,m,b,v=t[2],k=t[1],_=t[0].length>0&&Er(t),x=t[3].length>0&&Or(t),$=null!=t[6].loading&&Ir(),T=null!=t[6].error&&Hr(),C=Lr(t),S=Nr(t);return{c(){n=g("div"),_&&_.c(),o=f(),x&&x.c(),r=f(),i=g("assistant-apps-loading"),$&&$.c(),a=f(),T&&T.c(),l=f(),c=g("div"),C.c(),h=f(),m=g("br"),b=f(),S.c(),this.c=e,w(c,"slot","loaded"),y(i,"networkstate",t[5])},m(e,t){u(e,n,t),_&&_.m(n,null),d(n,o),x&&x.m(n,null),d(n,r),d(n,i),$&&$.m(i,null),d(i,a),T&&T.m(i,null),d(i,l),d(i,c),C.m(c,null),d(c,h),d(c,m),d(c,b),S.m(c,null)},p(e,[t]){e[0].length>0?_?_.p(e,t):(_=Er(e),_.c(),_.m(n,o)):_&&(_.d(1),_=null),e[3].length>0?x?x.p(e,t):(x=Or(e),x.c(),x.m(n,r)):x&&(x.d(1),x=null),null!=e[6].loading?$||($=Ir(),$.c(),$.m(i,a)):$&&($.d(1),$=null),null!=e[6].error?T||(T=Hr(),T.c(),T.m(i,l)):T&&(T.d(1),T=null),4&t&&s(v,v=e[2])?(C.d(1),C=Lr(e),C.c(),C.m(c,h)):C.p(e,t),2&t&&s(k,k=e[1])?(S.d(1),S=Nr(e),S.c(),S.m(c,null)):S.p(e,t),32&t&&y(i,"networkstate",e[5])},i:e,o:e,d(e){e&&p(n),_&&_.d(),x&&x.d(),$&&$.d(),T&&T.d(),C.d(e),S.d(e)}}}function Ur(e,t,n){let{$$slots:o={},$$scope:r}=t;const s=c(o);let i=[],a="",l="",d=[],u="",p=Uo.Loading;T((async()=>{const e=await(async()=>{const e=No(),t=await Tr(e),n=await Cr();return t[0]==Uo.Error?{networkState:Uo.Error,appLookup:[],selectedAppGuid:"",selectedAppType:"",platLookup:[],selectedPlatType:""}:{networkState:Uo.Success,appLookup:t[1],selectedAppGuid:t[2],selectedAppType:t[3],platLookup:n[0],selectedPlatType:n[1]}})();n(5,p=e.networkState),n(0,i=e.appLookup),n(1,a=e.selectedAppGuid),n(2,l=e.selectedAppType),n(3,d=e.platLookup),n(4,u=e.selectedPlatType)}));return[i,a,l,d,u,p,s,e=>{n(2,l=e.value),n(1,a=e.value)},e=>{n(4,u=e.value)}]}function Fr(t){let n,o,r,s;return{c(){n=g("object"),o=g("img"),this.c=e,l(o.src,r=t[2]??`${zo()}/assets/img/fallback.png`)||w(o,"src",r),w(o,"alt","review-badge"),w(n,"title","review-badge"),w(n,"data",s=`${Lo()}/badge/review/${t[0]}/${t[1]}.svg`),w(n,"type","image/jpeg")},m(e,t){u(e,n,t),d(n,o)},p(e,[t]){4&t&&!l(o.src,r=e[2]??`${zo()}/assets/img/fallback.png`)&&w(o,"src",r),3&t&&s!==(s=`${Lo()}/badge/review/${e[0]}/${e[1]}.svg`)&&w(n,"data",s)},i:e,o:e,d(e){e&&p(n)}}}function qr(e,t,n){let{apptype:o=""}=t,{platform:r=""}=t,{fallbackimg:s=""}=t;return e.$$set=e=>{"apptype"in e&&n(0,o=e.apptype),"platform"in e&&n(1,r=e.platform),"fallbackimg"in e&&n(2,s=e.fallbackimg)},[o,r,s]}customElements.define("assistant-apps-badge-selector",class extends U{constructor(e){super(),z(this,{target:this.shadowRoot,props:{..._(this.attributes),$$slots:x(this)},customElement:!0},Ur,zr,s,{},null),e&&e.target&&u(e.target,this,e.anchor)}});function Br(t){let n,o,r,s;return{c(){n=g("object"),o=g("img"),this.c=e,l(o.src,r=t[1]??`${zo()}/assets/img/fallback.png`)||w(o,"src",r),w(o,"alt","version-badge"),w(n,"title","review-badge"),w(n,"data",s=`${Lo()}/badge/version/${t[0]}.svg`),w(n,"type","image/jpeg")},m(e,t){u(e,n,t),d(n,o)},p(e,[t]){2&t&&!l(o.src,r=e[1]??`${zo()}/assets/img/fallback.png`)&&w(o,"src",r),1&t&&s!==(s=`${Lo()}/badge/version/${e[0]}.svg`)&&w(n,"data",s)},i:e,o:e,d(e){e&&p(n)}}}function Wr(e,t,n){let{appguid:o=""}=t,{fallbackimg:r=""}=t;return e.$$set=e=>{"appguid"in e&&n(0,o=e.appguid),"fallbackimg"in e&&n(1,r=e.fallbackimg)},[o,r]}customElements.define("assistant-apps-review-badge",class extends U{constructor(e){super(),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},qr,Fr,s,{apptype:0,platform:1,fallbackimg:2},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["apptype","platform","fallbackimg"]}get apptype(){return this.$$.ctx[0]}set apptype(e){this.$$set({apptype:e}),I()}get platform(){return this.$$.ctx[1]}set platform(e){this.$$set({platform:e}),I()}get fallbackimg(){return this.$$.ctx[2]}set fallbackimg(e){this.$$set({fallbackimg:e}),I()}});customElements.define("assistant-apps-version-badge",class extends U{constructor(e){super(),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Wr,Br,s,{appguid:0,fallbackimg:1},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["appguid","fallbackimg"]}get appguid(){return this.$$.ctx[0]}set appguid(e){this.$$set({appguid:e}),I()}get fallbackimg(){return this.$$.ctx[1]}set fallbackimg(e){this.$$set({fallbackimg:e}),I()}});const Vr=[{title:"Patreon",url:"https://www.patreon.com/AssistantApps",image:"Patreon.png"},{title:"Github Sponsors",url:"https://github.com/sponsors/AssistantNMS",image:"GithubSponsors.png"},{title:"PayPal",url:"https://paypal.me/KurtLourens",image:"Paypal.png"},{title:"Buy me a Coffee",url:"https://www.buymeacoffee.com/kurt",image:"BuyMeACoffee.png"},{title:"Open Collective",url:"https://opencollective.com/assistantnms",image:"OpenCollective.png"},{title:"Ko-fi",url:"https://ko-fi.com/AssistantNMS",image:"KoFi.png"},{title:"Brave",url:"https://brave.com/nms136",image:"BraveRewards.png"}];function Gr(e,t,n){const o=e.slice();return o[0]=t[n],o}function Kr(t){let n,o,r,s,i,a,c,h,b=t[0].title+"";return{c(){n=g("a"),o=g("img"),s=f(),i=g("div"),a=g("h2"),c=m(b),h=f(),l(o.src,r=`${zo()}/assets/img/donation/${t[0].image}`)||w(o,"src",r),w(o,"alt",t[0].title),w(o,"class","donation-img noselect"),w(a,"class","app-name"),w(i,"class","content"),w(n,"href",t[0].url),w(n,"class","aa-donation-option"),w(n,"target","_blank"),w(n,"rel","noreferrer noopener"),w(n,"title",t[0].title)},m(e,t){u(e,n,t),d(n,o),d(n,s),d(n,i),d(i,a),d(a,c),d(n,h)},p:e,d(e){e&&p(n)}}}function Qr(t){let n,o=Vr,r=[];for(let e=0;e<o.length;e+=1)r[e]=Kr(Gr(t,o,e));return{c(){n=g("div");for(let e=0;e<r.length;e+=1)r[e].c();this.c=e,w(n,"class","grid-container donation-options-container")},m(e,t){u(e,n,t);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null)},p(e,[t]){if(0&t){let s;for(o=Vr,s=0;s<o.length;s+=1){const i=Gr(e,o,s);r[s]?r[s].p(i,t):(r[s]=Kr(i),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},i:e,o:e,d(e){e&&p(n),h(r,e)}}}customElements.define("assistant-apps-donation-option-list",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.donation-options-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.donation-options-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.donation-options-container{--aa-grid-columns:1}}.aa-donation-option{display:flex;height:var(--assistantapps-donation-tile-height, 75px);background-color:var(--assistantapps-donation-background-colour, rgba(108, 117, 125, 0.4745098039));border-radius:5px;text-decoration:none;overflow:hidden}.aa-donation-option img.donation-img{height:calc(var(--assistantapps-donation-tile-height, 75px) - 20px);width:calc(var(--assistantapps-donation-tile-height, 75px) - 20px);object-fit:cover;margin:0;padding:10px}.aa-donation-option .content{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-donation-text-colour, white);padding-left:1em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.aa-donation-option .content .app-name{margin:0;max-width:100%;line-height:110%;overflow-wrap:break-word;white-space:pre-wrap;word-wrap:break-word}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},null,Qr,s,{},null),e&&e.target&&u(e.target,this,e.anchor)}});function Zr(e,t,n){const o=e.slice();return o[3]=t[n],o}function Yr(e){let t;return{c(){t=g("slot"),w(t,"name","loading"),w(t,"slot","loading")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Jr(e){let t;return{c(){t=g("slot"),w(t,"name","error"),w(t,"slot","error")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Xr(e){let t,n,o,r,s,i,a,c,h=e[3].username+"";return{c(){t=g("div"),n=g("img"),s=f(),i=g("div"),a=g("h2"),c=m(h),l(n.src,o=`${zo()}/assets/img/donation/${e[3].type}.png`)||w(n,"src",o),w(n,"alt",r=e[3].type.toString()),w(n,"class","donation-img noselect"),w(a,"class","app-name"),w(i,"class","content"),w(t,"class","aa-donation")},m(e,o){u(e,t,o),d(t,n),d(t,s),d(t,i),d(i,a),d(a,c)},p(e,t){2&t&&!l(n.src,o=`${zo()}/assets/img/donation/${e[3].type}.png`)&&w(n,"src",o),2&t&&r!==(r=e[3].type.toString())&&w(n,"alt",r),2&t&&h!==(h=e[3].username+"")&&k(c,h)},d(e){e&&p(t)}}}function es(t){let n,o,r,s,i,a,c,m,b,v,k=null!=t[2].loading&&Yr(),_=null!=t[2].error&&Jr(),x=t[1],$=[];for(let e=0;e<x.length;e+=1)$[e]=Xr(Zr(t,x,e));return{c(){n=g("assistant-apps-loading"),k&&k.c(),o=f(),_&&_.c(),r=f(),s=g("div");for(let e=0;e<$.length;e+=1)$[e].c();i=f(),a=g("div"),c=g("img"),b=f(),v=g("div"),v.innerHTML='<h2 class="app-name">Many more supporters</h2>',this.c=e,l(c.src,m=`${zo()}/assets/img/donation/GithubSponsors.png`)||w(c,"src",m),w(c,"alt","other"),w(c,"class","donation-img noselect"),w(v,"class","content"),w(a,"class","aa-donation"),w(s,"slot","loaded"),w(s,"class","grid-container donation-container"),y(n,"networkstate",t[0])},m(e,t){u(e,n,t),k&&k.m(n,null),d(n,o),_&&_.m(n,null),d(n,r),d(n,s);for(let e=0;e<$.length;e+=1)$[e]&&$[e].m(s,null);d(s,i),d(s,a),d(a,c),d(a,b),d(a,v)},p(e,[t]){if(null!=e[2].loading?k||(k=Yr(),k.c(),k.m(n,o)):k&&(k.d(1),k=null),null!=e[2].error?_||(_=Jr(),_.c(),_.m(n,r)):_&&(_.d(1),_=null),2&t){let n;for(x=e[1],n=0;n<x.length;n+=1){const o=Zr(e,x,n);$[n]?$[n].p(o,t):($[n]=Xr(o),$[n].c(),$[n].m(s,i))}for(;n<$.length;n+=1)$[n].d(1);$.length=x.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),k&&k.d(),_&&_.d(),h($,e)}}}function ts(e,t,n){let{$$slots:o={},$$scope:r}=t;const s=c(o);let i=Uo.Loading,a=[];return T((async()=>{const[e,t]=await(async()=>{const e=No(),[t,n]=await qo(e.donation.readAll);return t==Uo.Error?[t,[]]:[t,n]})();n(1,a=[...t]),n(0,i=e)})),[i,a,s]}customElements.define("assistant-apps-donators-list",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.donation-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.donation-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.donation-container{--aa-grid-columns:1}}.aa-donation{display:flex;height:var(--assistantapps-donation-tile-height, 75px);background-color:var(--assistantapps-donation-background-colour, rgba(108, 117, 125, 0.4745098039));border-radius:5px;text-decoration:none;overflow:hidden}.aa-donation img.donation-img{height:calc(var(--assistantapps-donation-tile-height, 75px) - 20px);width:calc(var(--assistantapps-donation-tile-height, 75px) - 20px);object-fit:cover;margin:0;padding:10px}.aa-donation .content{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-donation-text-colour, white);padding-left:1em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.aa-donation .content .app-name{margin:0;max-width:100%;line-height:110%;overflow-wrap:break-word;white-space:pre-wrap;word-wrap:break-word}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:{..._(this.attributes),$$slots:x(this)},customElement:!0},ts,es,s,{},null),e&&e.target&&u(e.target,this,e.anchor)}});function ns(e,t,n){const o=e.slice();return o[2]=t[n],o}function os(e){let t,n,o,r;return{c(){t=g("assistant-apps-patron-tile"),y(t,"url",n=e[2].url??"https://assistantapps.com"),y(t,"name",o=e[2].name),y(t,"imageurl",r=e[2].imageUrl)},m(e,n){u(e,t,n)},p(e,s){2&s&&n!==(n=e[2].url??"https://assistantapps.com")&&y(t,"url",n),2&s&&o!==(o=e[2].name)&&y(t,"name",o),2&s&&r!==(r=e[2].imageUrl)&&y(t,"imageurl",r)},d(e){e&&p(t)}}}function rs(t){let n,o,r,s,i,a,l=t[1],c=[];for(let e=0;e<l.length;e+=1)c[e]=os(ns(t,l,e));return{c(){n=g("assistant-apps-loading"),o=g("slot"),r=f(),s=g("slot"),i=f(),a=g("div");for(let e=0;e<c.length;e+=1)c[e].c();this.c=e,w(o,"name","loading"),w(o,"slot","loading"),w(s,"name","error"),w(s,"slot","error"),w(a,"slot","loaded"),w(a,"class","grid-container patreon-container noselect"),y(n,"networkstate",t[0])},m(e,t){u(e,n,t),d(n,o),d(n,r),d(n,s),d(n,i),d(n,a);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(a,null)},p(e,[t]){if(2&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const o=ns(e,l,n);c[n]?c[n].p(o,t):(c[n]=os(o),c[n].c(),c[n].m(a,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),h(c,e)}}}function ss(e,t,n){let o=Uo.Loading,r=[];return T((async()=>{const[e,t]=await(async()=>{const e=No(),[t,n]=await qo(e.patreon.readAll);return t==Uo.Error?[t,[]]:[t,[...n.map((e=>Object.assign(Object.assign({},e),{url:void 0}))),{name:"Join Patreon",imageUrl:"https://cdn.assistantapps.com/patreon.png",thumbnailUrl:"https://cdn.assistantapps.com/patreon.png",url:"https://patreon.com/AssistantApps"}]]})();n(1,r=[...t]),n(0,o=e)})),[o,r]}function is(e){let t,n,o,r,s,i;return{c(){t=g("div"),n=g("img"),r=f(),s=g("h2"),i=m(e[1]),l(n.src,o=e[2])||w(n,"src",o),w(n,"alt",e[1]),w(n,"class","patron-img noselect"),w(s,"class","patron-name"),w(t,"class","patron")},m(e,o){u(e,t,o),d(t,n),d(t,r),d(t,s),d(s,i)},p(e,t){4&t&&!l(n.src,o=e[2])&&w(n,"src",o),2&t&&w(n,"alt",e[1]),2&t&&k(i,e[1])},d(e){e&&p(t)}}}function as(e){let t,n,o,r,s,i;return{c(){t=g("a"),n=g("img"),r=f(),s=g("h2"),i=m(e[1]),l(n.src,o=e[2])||w(n,"src",o),w(n,"alt",e[1]),w(n,"class","patron-img noselect"),w(s,"class","patron-name"),w(t,"href",e[0]),w(t,"target","_blank"),w(t,"rel","noopener noreferrer"),w(t,"class","patron")},m(e,o){u(e,t,o),d(t,n),d(t,r),d(t,s),d(s,i)},p(e,r){4&r&&!l(n.src,o=e[2])&&w(n,"src",o),2&r&&w(n,"alt",e[1]),2&r&&k(i,e[1]),1&r&&w(t,"href",e[0])},d(e){e&&p(t)}}}function ls(t){let n;function o(e,t){return null!=e[0]?as:is}let r=o(t),s=r(t);return{c(){s.c(),n=b(),this.c=e},m(e,t){s.m(e,t),u(e,n,t)},p(e,[t]){r===(r=o(e))&&s?s.p(e,t):(s.d(1),s=r(e),s&&(s.c(),s.m(n.parentNode,n)))},i:e,o:e,d(e){s.d(e),e&&p(n)}}}function cs(e,t,n){let{url:o}=t,{name:r=""}=t,{imageurl:s=""}=t;return e.$$set=e=>{"url"in e&&n(0,o=e.url),"name"in e&&n(1,r=e.name),"imageurl"in e&&n(2,s=e.imageurl)},[o,r,s]}customElements.define("assistant-apps-patreon-list",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.patreon-container{--aa-grid-columns:3}@media only screen and (max-width: 1300px){.patreon-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.patreon-container{--aa-grid-columns:1}}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},ss,rs,s,{},null),e&&e.target&&u(e.target,this,e.anchor)}});customElements.define("assistant-apps-patron-tile",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.patron{display:flex;background-color:var(--assistantapps-patron-background-colour, #6c757d);border-radius:5px;text-decoration:none;overflow:hidden}.patron img.patron-img{height:100px;width:100px;object-fit:cover;margin:0}.patron .patron-name{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-patron-text-colour, white);padding-left:0.5em;padding-right:0.5em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},cs,ls,s,{url:0,name:1,imageurl:2},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["url","name","imageurl"]}get url(){return this.$$.ctx[0]}set url(e){this.$$set({url:e}),I()}get name(){return this.$$.ctx[1]}set name(e){this.$$set({name:e}),I()}get imageurl(){return this.$$.ctx[2]}set imageurl(e){this.$$set({imageurl:e}),I()}});const ds=()=>{var e,t,n,o,r,s;e=document,(t=window.posthog||[]).__SV||(window.posthog=t,t._i=[],t.init=function(i,a,l){function c(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}(r=e.createElement("script")).type="text/javascript",r.async=!0,r.src=a.api_host+"/static/array.js",(s=e.getElementsByTagName("script")[0]).parentNode.insertBefore(r,s);var d=t;for(void 0!==l?d=t[l]=[]:l="posthog",d.people=d.people||[],d.toString=function(e){var t="posthog";return"posthog"!==l&&(t+="."+l),e||(t+=" (stub)"),t},d.people.toString=function(){return d.toString(1)+".people (stub)"},n="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys".split(" "),o=0;o<n.length;o++)c(d,n[o]);t._i.push([i,a,l])},t.__SV=1)},us=(e,{cookiesEnabled:t,uniqueId:n})=>{const o={api_host:"https://eu.posthog.com"};!1===t?(o.persistence="memory",console.log("Cookies not enabled")):(o.persistence="cookie",console.log("Cookies enabled 🍪")),null!=n&&(o.bootstrap={distinctID:n},console.log(`Anonymouse user id: ${n}`)),window?.posthog?.init?.(e,o),console.log(window?.posthog)};function ps(t){let n;return{c(){var t,o,r,s;n=g("span"),n.innerHTML='<a href="https://posthog.com/tutorials/cookieless-tracking" target="_blank" rel="noopener noreferrer">Learn more about cookie-less tracking</a>',this.c=e,t=n,o="display",null===(r="none")?t.style.removeProperty(o):t.style.setProperty(o,r,s?"important":"")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}const hs="anonymousUserGuid";function gs(e,t,n){let{analyticscode:o=""}=t;return T((()=>{if(null==o||o.length<10)return;ds();let e=localStorage.getItem(hs);var t,n;(null==e||e.length<10)&&(t=(new Date).getTime(),n="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0,e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=16*Math.random();return t>0?(o=(t+o)%16|0,t=Math.floor(t/16)):(o=(n+o)%16|0,n=Math.floor(n/16)),("x"===e?o:3&o|8).toString(16)})),localStorage.setItem(hs,e)),us(o,{cookiesEnabled:!1,uniqueId:e})})),e.$$set=e=>{"analyticscode"in e&&n(0,o=e.analyticscode)},[o]}function ms(t){let n,r,s,i,a,c,h,m,b,y,k,_;return{c(){n=g("div"),r=g("img"),i=f(),a=g("div"),a.innerHTML='<h2 class="banner-title">Can we store some information on your device?</h2> \n            <p class="banner-description">We make use of <a href="https://posthog.com" target="_blank" rel="noopener noreferrer">PostHog</a>, an Open-Source, GDPR compliant and privacy friendly analytics\n                tool.\n                <a href="https://posthog.com" target="_blank" rel="noopener noreferrer">PostHog</a>\n                helps us collect anonymous data to help us improve our site.\n                <br/>\n                Can we store analytics collected about your visit to our page into\n                cookies 🍪?</p>',c=f(),h=g("div"),m=g("button"),m.textContent="Enable cookies 🍪",b=f(),y=g("button"),y.textContent="No cookies!",l(r.src,s=`${zo()}/assets/img/posthogCookies.png`)||w(r,"src",s),w(r,"alt","PostHog cookie icon"),w(r,"class","noselect"),w(a,"class","content"),w(m,"class","preferred"),w(h,"class","actions"),w(n,"class","aa-cookie-banner")},m(e,o){u(e,n,o),d(n,r),d(n,i),d(n,a),d(n,c),d(n,h),d(h,m),d(h,b),d(h,y),k||(_=[v(m,"click",t[1]),v(y,"click",t[2])],k=!0)},p:e,d(e){e&&p(n),k=!1,o(_)}}}function fs(t){let n,o=t[0]&&ms(t);return{c(){o&&o.c(),n=b(),this.c=e},m(e,t){o&&o.m(e,t),u(e,n,t)},p(e,[t]){e[0]?o?o.p(e,t):(o=ms(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:e,o:e,d(e){o&&o.d(e),e&&p(n)}}}customElements.define("assistant-apps-posthog-analytics-no-cookie",class extends U{constructor(e){super(),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},gs,ps,s,{analyticscode:0},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["analyticscode"]}get analyticscode(){return this.$$.ctx[0]}set analyticscode(e){this.$$set({analyticscode:e}),I()}});const bs="cookieDecision",vs="Allow",ws="Decline";function ys(e,t,n){let{analyticscode:o=""}=t,r=!0;T((()=>{if(null==o||o.length<10)return void n(0,r=!1);ds();const e=localStorage.getItem(bs),t=e===vs;us(o,{cookiesEnabled:t,uniqueId:void 0}),(t||e===ws)&&n(0,r=!1)}));return e.$$set=e=>{"analyticscode"in e&&n(3,o=e.analyticscode)},[r,()=>{localStorage.setItem(bs,vs),us(o),n(0,r=!1)},()=>{localStorage.setItem(bs,ws),n(0,r=!1)},o]}customElements.define("assistant-apps-posthog-cookiebanner",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.aa-cookie-banner{display:flex;position:fixed;bottom:0;left:0;right:0;background-color:var(--assistantapps-banner-bg-colour, rgb(17, 24, 39));border-top-color:var(--assistantapps-banner-bg-colour, #202e4b);border-top-width:2px;border-top-style:solid;padding-top:1em;padding-bottom:0.5em}.aa-cookie-banner img{max-height:150px}.aa-cookie-banner .content{flex:3;flex-grow:1;display:flex;flex-direction:column;justify-content:center;padding-left:2em}.aa-cookie-banner .content h2{margin:0}.aa-cookie-banner .actions{flex:1;display:flex;flex-direction:column;justify-content:center;padding-right:2em;max-width:250px}.aa-cookie-banner .actions button{margin:0.5em;padding:0.5em;border-style:solid;border-radius:10px;outline:none;background-color:var(--assistantapps-banner-button-bg, rgb(25, 50, 100));border-color:var(--assistantapps-banner-button-bg, #1e3c78);color:var(--assistantapps-banner-button-colour, rgb(200, 200, 200));cursor:pointer}.aa-cookie-banner .actions button.preferred{background-color:var(--assistantapps-banner-preferred-button-bg, rgb(50, 200, 50));border-color:var(--assistantapps-banner-preferred-button-bg, #43d043);color:var(--assistantapps-banner-button-colour, rgb(0, 0, 0))}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},ys,fs,s,{analyticscode:3},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["analyticscode"]}get analyticscode(){return this.$$.ctx[3]}set analyticscode(e){this.$$set({analyticscode:e}),I()}});function ks(e,t,n){const o=e.slice();return o[2]=t[n],o}function _s(e){let t,n,o,r,s,i;return{c(){t=g("assistant-apps-team-tile"),y(t,"name",n=e[2].name),y(t,"role",o=e[2].role),y(t,"imageurl",r=e[2].imageUrl),y(t,"linkname",s=e[2].linkName),y(t,"linkurl",i=e[2].linkUrl)},m(e,n){u(e,t,n)},p(e,a){2&a&&n!==(n=e[2].name)&&y(t,"name",n),2&a&&o!==(o=e[2].role)&&y(t,"role",o),2&a&&r!==(r=e[2].imageUrl)&&y(t,"imageurl",r),2&a&&s!==(s=e[2].linkName)&&y(t,"linkname",s),2&a&&i!==(i=e[2].linkUrl)&&y(t,"linkurl",i)},d(e){e&&p(t)}}}function xs(t){let n,o,r,s,i,a,l=t[1],c=[];for(let e=0;e<l.length;e+=1)c[e]=_s(ks(t,l,e));return{c(){n=g("assistant-apps-loading"),o=g("slot"),r=f(),s=g("slot"),i=f(),a=g("div");for(let e=0;e<c.length;e+=1)c[e].c();this.c=e,w(o,"name","loading"),w(o,"slot","loading"),w(s,"name","error"),w(s,"slot","error"),w(a,"slot","loaded"),w(a,"class","team-members-container noselect"),y(n,"networkstate",t[0])},m(e,t){u(e,n,t),d(n,o),d(n,r),d(n,s),d(n,i),d(n,a);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(a,null)},p(e,[t]){if(2&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const o=ks(e,l,n);c[n]?c[n].p(o,t):(c[n]=_s(o),c[n].c(),c[n].m(a,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),h(c,e)}}}function $s(e,t,n){let o=Uo.Loading,r=[];return T((async()=>{const[e,t]=await(async()=>{const e=No(),[t,n]=await qo(e.teamMember.readAll);return t==Uo.Error?[t,[]]:[t,n]})();n(1,r=[...t]),n(0,o=e)})),[o,r]}function Ts(e){let t,n;return{c(){t=g("a"),n=m(e[3]),w(t,"href",e[4]),w(t,"target","_blank"),w(t,"rel","noopener noreferrer")},m(e,o){u(e,t,o),d(t,n)},p(e,o){8&o&&k(n,e[3]),16&o&&w(t,"href",e[4])},d(e){e&&p(t)}}}function Cs(t){let n,o,r,s,i,a,c,h,b,v,y,_=null!=t[4]&&null!=t[3]&&Ts(t);return{c(){n=g("div"),o=g("img"),s=f(),i=g("div"),a=g("h3"),c=m(t[0]),h=f(),b=g("p"),v=m(t[1]),y=f(),_&&_.c(),this.c=e,l(o.src,r=t[2])||w(o,"src",r),w(o,"alt",t[0]),w(o,"class","team-member-img noselect"),w(a,"class","team-member-name"),w(b,"class","team-member-role"),w(i,"class","team-member-contents"),w(n,"class","team-member")},m(e,t){u(e,n,t),d(n,o),d(n,s),d(n,i),d(i,a),d(a,c),d(i,h),d(i,b),d(b,v),d(i,y),_&&_.m(i,null)},p(e,[t]){4&t&&!l(o.src,r=e[2])&&w(o,"src",r),1&t&&w(o,"alt",e[0]),1&t&&k(c,e[0]),2&t&&k(v,e[1]),null!=e[4]&&null!=e[3]?_?_.p(e,t):(_=Ts(e),_.c(),_.m(i,null)):_&&(_.d(1),_=null)},i:e,o:e,d(e){e&&p(n),_&&_.d()}}}function Ss(e,t,n){let{name:o=""}=t,{role:r=""}=t,{imageurl:s=""}=t,{linkname:i=""}=t,{linkurl:a=""}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"role"in e&&n(1,r=e.role),"imageurl"in e&&n(2,s=e.imageurl),"linkname"in e&&n(3,i=e.linkname),"linkurl"in e&&n(4,a=e.linkurl)},[o,r,s,i,a]}customElements.define("assistant-apps-team-list",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}assistant-apps-team-tile{display:block;margin-bottom:1em;border-bottom:1px solid var(--assistantapps-team-member-background-colour, rgba(255, 255, 255, 0.1))}assistant-apps-team-tile:last-child{border-bottom:none}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},$s,xs,s,{},null),e&&e.target&&u(e.target,this,e.anchor)}});customElements.define("assistant-apps-team-tile",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.team-member{display:flex;padding-bottom:1em}.team-member img.team-member-img{width:var(--assistantapps-team-member-tile-size, 75px);height:var(--assistantapps-team-member-tile-size, 75px);border-radius:5px}.team-member .team-member-contents{display:flex;flex-direction:column;justify-content:center;padding-left:1em}.team-member .team-member-name,.team-member .team-member-role{margin:0;padding:0;color:var(--assistantapps-team-member-text-colour, #f0f0f0)}.team-member a{margin:0;padding:0;color:var(--assistantapps-team-member-link-text-colour, #0000ee)}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Ss,Cs,s,{name:0,role:1,imageurl:2,linkname:3,linkurl:4},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["name","role","imageurl","linkname","linkurl"]}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),I()}get role(){return this.$$.ctx[1]}set role(e){this.$$set({role:e}),I()}get imageurl(){return this.$$.ctx[2]}set imageurl(e){this.$$set({imageurl:e}),I()}get linkname(){return this.$$.ctx[3]}set linkname(e){this.$$set({linkname:e}),I()}get linkurl(){return this.$$.ctx[4]}set linkurl(e){this.$$set({linkurl:e}),I()}});function As(e,t,n){const o=e.slice();return o[2]=t[n],o}function Es(e){let t,n,o,r,s,i,a;return{c(){t=g("assistant-apps-translation-leaderboard-tile"),y(t,"username",n=e[2].username),y(t,"profileimageurl",o=e[2].profileImageUrl),y(t,"numtranslations",r=e[2].numTranslations),y(t,"numvotesgiven",s=e[2].numVotesGiven),y(t,"numvotesreceived",i=e[2].numVotesReceived),y(t,"total",a=e[2].total)},m(e,n){u(e,t,n)},p(e,l){2&l&&n!==(n=e[2].username)&&y(t,"username",n),2&l&&o!==(o=e[2].profileImageUrl)&&y(t,"profileimageurl",o),2&l&&r!==(r=e[2].numTranslations)&&y(t,"numtranslations",r),2&l&&s!==(s=e[2].numVotesGiven)&&y(t,"numvotesgiven",s),2&l&&i!==(i=e[2].numVotesReceived)&&y(t,"numvotesreceived",i),2&l&&a!==(a=e[2].total)&&y(t,"total",a)},d(e){e&&p(t)}}}function Ps(t){let n,o,r,s,i,a,l=t[1],c=[];for(let e=0;e<l.length;e+=1)c[e]=Es(As(t,l,e));return{c(){n=g("assistant-apps-loading"),o=g("slot"),r=f(),s=g("slot"),i=f(),a=g("div");for(let e=0;e<c.length;e+=1)c[e].c();this.c=e,w(o,"name","loading"),w(o,"slot","loading"),w(s,"name","error"),w(s,"slot","error"),w(a,"slot","loaded"),w(a,"class","grid-container leaderboard-container noselect"),y(n,"networkstate",t[0])},m(e,t){u(e,n,t),d(n,o),d(n,r),d(n,s),d(n,i),d(n,a);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(a,null)},p(e,[t]){if(2&t){let n;for(l=e[1],n=0;n<l.length;n+=1){const o=As(e,l,n);c[n]?c[n].p(o,t):(c[n]=Es(o),c[n].c(),c[n].m(a,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&t&&y(n,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),h(c,e)}}}function Rs(e,t,n){let o=Uo.Loading,r=[];return T((async()=>{const[e,t]=await(async()=>{const e=No(),[t,n]=await qo((()=>e.translationStat.readAll({apps:[],languages:[]})));return t==Uo.Error||null==n||n.length<1?[t,[]]:[t,n]})();n(1,r=[...t]),n(0,o=e)})),[o,r]}function Os(e){let t,n,o,r;return{c(){t=g("assistant-apps-tooltip"),n=g("span"),o=m("🌐 "),r=m(e[2]),w(n,"class","stat"),y(t,"tooltiptext","Number of translations submitted")},m(e,s){u(e,t,s),d(t,n),d(n,o),d(n,r)},p(e,t){4&t&&k(r,e[2])},d(e){e&&p(t)}}}function js(e){let t,n,o,r;return{c(){t=g("assistant-apps-tooltip"),n=g("span"),o=m("✔️ "),r=m(e[3]),w(n,"class","stat"),y(t,"tooltiptext","Number of votes given to translations")},m(e,s){u(e,t,s),d(t,n),d(n,o),d(n,r)},p(e,t){8&t&&k(r,e[3])},d(e){e&&p(t)}}}function Ms(e){let t,n,o,r;return{c(){t=g("assistant-apps-tooltip"),n=g("span"),o=m("🗳️ "),r=m(e[4]),w(n,"class","stat"),y(t,"tooltiptext","Number of votes received")},m(e,s){u(e,t,s),d(t,n),d(n,o),d(n,r)},p(e,t){16&t&&k(r,e[4])},d(e){e&&p(t)}}}function Is(t){let n,o,r,s,i,a,c,h,b,_,x,$,T,C,S,A,E,P,R,O=t[2]>0&&Os(t),j=t[3]>0&&js(t),M=t[4]>0&&Ms(t);return{c(){n=g("div"),o=g("div"),r=g("img"),i=f(),a=g("div"),c=g("h2"),h=m(t[0]),b=f(),_=g("h4"),O&&O.c(),x=f(),j&&j.c(),$=f(),M&&M.c(),T=f(),C=g("h3"),S=g("assistant-apps-tooltip"),A=m(t[5]),E=m(" 🏆"),this.c=e,l(r.src,s=t[1])||w(r,"src",s),w(r,"alt",t[0]),w(r,"class","leaderboard-item-img"),w(o,"class","leaderboard-item-img-container"),w(c,"class","leaderboard-item-name"),w(_,"class","leaderboard-item-numbers"),w(a,"class","leaderboard-item-contents"),y(S,"tooltiptext","Total points"),w(C,"class","total"),w(n,"class","leaderboard-item noselect")},m(e,s){u(e,n,s),d(n,o),d(o,r),d(n,i),d(n,a),d(a,c),d(c,h),d(a,b),d(a,_),O&&O.m(_,null),d(_,x),j&&j.m(_,null),d(_,$),M&&M.m(_,null),d(n,T),d(n,C),d(C,S),d(S,A),d(S,E),P||(R=v(r,"error",t[6]),P=!0)},p(e,[t]){2&t&&!l(r.src,s=e[1])&&w(r,"src",s),1&t&&w(r,"alt",e[0]),1&t&&k(h,e[0]),e[2]>0?O?O.p(e,t):(O=Os(e),O.c(),O.m(_,x)):O&&(O.d(1),O=null),e[3]>0?j?j.p(e,t):(j=js(e),j.c(),j.m(_,$)):j&&(j.d(1),j=null),e[4]>0?M?M.p(e,t):(M=Ms(e),M.c(),M.m(_,null)):M&&(M.d(1),M=null),32&t&&k(A,e[5])},i:e,o:e,d(e){e&&p(n),O&&O.d(),j&&j.d(),M&&M.d(),P=!1,R()}}}function Hs(e,t,n){let{username:o=""}=t,{profileimageurl:r=""}=t,{numtranslations:s=0}=t,{numvotesgiven:i=0}=t,{numvotesreceived:a=0}=t,{total:l=0}=t;return e.$$set=e=>{"username"in e&&n(0,o=e.username),"profileimageurl"in e&&n(1,r=e.profileimageurl),"numtranslations"in e&&n(2,s=e.numtranslations),"numvotesgiven"in e&&n(3,i=e.numvotesgiven),"numvotesreceived"in e&&n(4,a=e.numvotesreceived),"total"in e&&n(5,l=e.total)},[o,r,s,i,a,l,e=>e.target.src=`${zo()}/assets/img/translatorFallback.png`]}customElements.define("assistant-apps-translation-leaderboard",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.grid-container{--aa-grid-columns:2;display:flex;flex-wrap:wrap;margin-bottom:3em;justify-content:center;column-gap:1em;row-gap:1em}.grid-container>*{width:calc(100% / var(--aa-grid-columns, 3) - 0.33em * var(--aa-grid-columns, 3))}@media only screen and (max-width: 1300px){.grid-container{--aa-grid-columns:2}}@media only screen and (max-width: 800px){.grid-container{--aa-grid-columns:1}}.leaderboard-container{--aa-grid-columns:var(--aa-grid-leaderboard-columns, 3)}@media only screen and (max-width: 1300px){.leaderboard-container{--aa-grid-columns:var(--aa-grid-leaderboard-columns, 2)}}@media only screen and (max-width: 800px){.leaderboard-container{--aa-grid-columns:var(--aa-grid-leaderboard-columns, 1)}}@media only screen and (max-width: 500px){.leaderboard-container{--aa-grid-columns:var(--aa-grid-leaderboard-columns, 1)}}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Rs,Ps,s,{},null),e&&e.target&&u(e.target,this,e.anchor)}});customElements.define("assistant-apps-translation-leaderboard-tile",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.leaderboard-item{display:flex;border-radius:5px;background-color:var(--assistantapps-leaderboard-item-background-colour, #6c757d);height:var(--assistantapps-leaderboard-tile-size, 100px)}.leaderboard-item .leaderboard-item-img-container{width:var(--assistantapps-leaderboard-tile-size, 100px);height:var(--assistantapps-leaderboard-tile-size, 100px);position:relative}.leaderboard-item .leaderboard-item-img-container img.leaderboard-item-img{width:var(--assistantapps-leaderboard-tile-size, 100px);height:var(--assistantapps-leaderboard-tile-size, 100px);border-top-left-radius:5px;border-bottom-left-radius:5px}.leaderboard-item .leaderboard-item-img-container .total{position:absolute;right:0;bottom:0;margin:0;padding:0.15em 0.15em 0.15em 0.5em;border-radius:1em;color:var(--assistantapps-leaderboard-item-text-colour, #f0f0f0);background-color:var(--assistantapps-leaderboard-item-background-colour, #494e52)}.leaderboard-item .leaderboard-item-contents{flex-grow:3;display:flex;flex-direction:column;justify-content:center;padding-left:1em;width:calc(100% - 200px)}.leaderboard-item .leaderboard-item-name,.leaderboard-item .leaderboard-item-numbers{margin:0;padding:0;color:var(--assistantapps-leaderboard-item-text-colour, #f0f0f0)}.leaderboard-item .leaderboard-item-numbers{padding-top:0.5em;max-width:100%;max-height:50%}.leaderboard-item .leaderboard-item-name{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.25em}.leaderboard-item .leaderboard-item-numbers{max-lines:3}.leaderboard-item .leaderboard-item-numbers .stat{display:inline-block;margin-right:0.125em;margin-bottom:0.25em;padding:0.25em 0.5em 0.25em 0.3em;border-radius:1em;background-color:var(--assistantapps-leaderboard-item-background-colour, #494e52)}.leaderboard-item .total{display:flex;flex-grow:1;align-items:center;justify-content:end;padding-right:0.5em;color:var(--assistantapps-leaderboard-item-text-colour, #f0f0f0)}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Hs,Is,s,{username:0,profileimageurl:1,numtranslations:2,numvotesgiven:3,numvotesreceived:4,total:5},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["username","profileimageurl","numtranslations","numvotesgiven","numvotesreceived","total"]}get username(){return this.$$.ctx[0]}set username(e){this.$$set({username:e}),I()}get profileimageurl(){return this.$$.ctx[1]}set profileimageurl(e){this.$$set({profileimageurl:e}),I()}get numtranslations(){return this.$$.ctx[2]}set numtranslations(e){this.$$set({numtranslations:e}),I()}get numvotesgiven(){return this.$$.ctx[3]}set numvotesgiven(e){this.$$set({numvotesgiven:e}),I()}get numvotesreceived(){return this.$$.ctx[4]}set numvotesreceived(e){this.$$set({numvotesreceived:e}),I()}get total(){return this.$$.ctx[5]}set total(e){this.$$set({total:e}),I()}});const Ds=async e=>{const[t,n]=await qo(e.app.readAll);if(t==Uo.Error)return[t,[],Fo];const o=n.filter((e=>e.isVisible));return o.sort(((e,t)=>e.sortOrder-t.sortOrder)),[Uo.Success,n,o[0]]},Ls=async(e,t)=>{if(null==t)return;const n={appGuid:t.guid,languageCode:null,platforms:[],page:1},[o,r]=await qo((()=>e.version.createSearch(n)));return o==Uo.Error||null==r||r.length<1?[o,[]]:[o,r.value]};function Ns(e,t,n){const o=e.slice();return o[6]=t[n],o}function zs(e,t,n){const o=e.slice();return o[9]=t[n],o}function Us(t){let n;return{c(){n=g("div"),n.innerHTML="<p>Please Select an App</p>",w(n,"class","dd-button")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Fs(e){let t,n,o,r,s,i,a,c=e[2].name+"";return{c(){t=g("div"),n=g("img"),s=f(),i=g("p"),a=m(c),l(n.src,o=e[2].iconUrl)||w(n,"src",o),w(n,"alt",r=e[2].name),w(t,"class","dd-button")},m(e,o){u(e,t,o),d(t,n),d(t,s),d(t,i),d(i,a)},p(e,t){4&t&&!l(n.src,o=e[2].iconUrl)&&w(n,"src",o),4&t&&r!==(r=e[2].name)&&w(n,"alt",r),4&t&&c!==(c=e[2].name+"")&&k(a,c)},d(e){e&&p(t)}}}function qs(e){let t,n,o,r,s,i,a,c,h,b,y,_=e[9].name+"";function x(){return e[5](e[9])}return{c(){t=g("li"),n=g("img"),s=f(),i=g("p"),a=m(_),c=f(),l(n.src,o=e[9].iconUrl)||w(n,"src",o),w(n,"alt",r=e[9].name),w(t,"class","dd-menu-item"),t.value=h=e[9].guid},m(e,o){u(e,t,o),d(t,n),d(t,s),d(t,i),d(i,a),d(t,c),b||(y=v(t,"click",x),b=!0)},p(s,i){e=s,2&i&&!l(n.src,o=e[9].iconUrl)&&w(n,"src",o),2&i&&r!==(r=e[9].name)&&w(n,"alt",r),2&i&&_!==(_=e[9].name+"")&&k(a,_),2&i&&h!==(h=e[9].guid)&&(t.value=h)},d(e){e&&p(t),b=!1,y()}}}function Bs(e){let t,n,o,r,s,i,a;return{c(){t=g("assistant-apps-version-search-tile"),y(t,"guid",n=e[6].guid),y(t,"markdown",o=e[6].markdown),y(t,"buildname",r=e[6].buildName),y(t,"buildnumber",s=e[6].buildNumber),y(t,"platforms",i=e[6].platforms),y(t,"activedate",a=e[6].activeDate)},m(e,n){u(e,t,n)},p(e,l){8&l&&n!==(n=e[6].guid)&&y(t,"guid",n),8&l&&o!==(o=e[6].markdown)&&y(t,"markdown",o),8&l&&r!==(r=e[6].buildName)&&y(t,"buildname",r),8&l&&s!==(s=e[6].buildNumber)&&y(t,"buildnumber",s),8&l&&i!==(i=e[6].platforms)&&y(t,"platforms",i),8&l&&a!==(a=e[6].activeDate)&&y(t,"activedate",a)},d(e){e&&p(t)}}}function Ws(e){let t;return{c(){t=g("p"),t.textContent="No items to display"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Vs(t){let n,o,r,s,i,a,l,c,m,b,v,k,_,x,$;function T(e,t){return null!=e[2]?Fs:Us}let C=T(t),S=C(t),A=t[1],E=[];for(let e=0;e<A.length;e+=1)E[e]=qs(zs(t,A,e));let P=t[3]??[],R=[];for(let e=0;e<P.length;e+=1)R[e]=Bs(Ns(t,P,e));let O=(null==t[3]||t[3].length<1)&&Ws();return{c(){n=g("div"),o=g("assistant-apps-loading"),r=g("slot"),s=f(),i=g("slot"),a=f(),l=g("div"),c=g("label"),S.c(),m=f(),b=g("input"),v=f(),k=g("ul");for(let e=0;e<E.length;e+=1)E[e].c();_=f(),x=g("div");for(let e=0;e<R.length;e+=1)R[e].c();$=f(),O&&O.c(),this.c=e,w(r,"name","loading"),w(r,"slot","loading"),w(i,"name","error"),w(i,"slot","error"),w(b,"type","checkbox"),w(b,"class","dd-input"),w(k,"class","dd-menu"),w(c,"class","dropdown"),w(x,"class","what-is-new-container noselect"),w(l,"slot","loaded"),w(l,"class","version-container"),y(o,"networkstate",t[0]),w(n,"class","noselect")},m(e,t){u(e,n,t),d(n,o),d(o,r),d(o,s),d(o,i),d(o,a),d(o,l),d(l,c),S.m(c,null),d(c,m),d(c,b),d(c,v),d(c,k);for(let e=0;e<E.length;e+=1)E[e]&&E[e].m(k,null);d(l,_),d(l,x);for(let e=0;e<R.length;e+=1)R[e]&&R[e].m(x,null);d(x,$),O&&O.m(x,null)},p(e,[t]){if(C===(C=T(e))&&S?S.p(e,t):(S.d(1),S=C(e),S&&(S.c(),S.m(c,m))),18&t){let n;for(A=e[1],n=0;n<A.length;n+=1){const o=zs(e,A,n);E[n]?E[n].p(o,t):(E[n]=qs(o),E[n].c(),E[n].m(k,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=A.length}if(8&t){let n;for(P=e[3]??[],n=0;n<P.length;n+=1){const o=Ns(e,P,n);R[n]?R[n].p(o,t):(R[n]=Bs(o),R[n].c(),R[n].m(x,$))}for(;n<R.length;n+=1)R[n].d(1);R.length=P.length}null==e[3]||e[3].length<1?O||(O=Ws(),O.c(),O.m(x,null)):O&&(O.d(1),O=null),1&t&&y(o,"networkstate",e[0])},i:e,o:e,d(e){e&&p(n),S.d(),h(E,e),h(R,e),O&&O.d()}}}function Gs(e,t,n){let o,r=Uo.Loading,s=[],i=[];T((async()=>{const e=await(async()=>{const e=No(),t=await Ds(e);if(t[0]==Uo.Error)return{networkState:Uo.Error,appLookup:[],selectedApp:Fo,whatIsNewItems:[]};const n=await Ls(e,t[2]);return n[0]==Uo.Error?{networkState:Uo.Error,appLookup:[],selectedApp:Fo,whatIsNewItems:[]}:{networkState:Uo.Success,appLookup:t[1],selectedApp:t[2],whatIsNewItems:n[1]}})();n(0,r=e.networkState),n(1,s=e.appLookup),n(2,o=e.selectedApp),n(3,i=e.whatIsNewItems)}));const a=async e=>{const t=No(),o=await Ls(t,e);o[0]!=Uo.Error?(n(3,i=o[1]),n(0,r=Uo.Success)):n(0,r=Uo.Error)};return[r,s,o,i,a,e=>a(e)]}customElements.define("assistant-apps-version-search",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dropdown{display:inline-block;position:relative;margin-bottom:1em;z-index:20}.dd-button{display:flex;border:1px solid gray;border-radius:4px;padding:10px 30px 10px 10px;background-color:var(--assistantapps-version-dropdown-background-colour, rgba(108, 117, 125, 0.4745098039));cursor:pointer;white-space:nowrap}.dd-button:after{content:"";position:absolute;top:50%;right:15px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid var(--assistantapps-version-dropdown-background-colour, #6c757d)}.dd-button:hover{background-color:var(--assistantapps-version-dropdown-background-hover-colour, #6c757d)}.dd-button img{width:20px;height:20px;margin-right:0.5em}.dd-button p{display:flex;flex-direction:column;justify-content:center;margin:0;padding:0}.dd-input{display:none}.dd-menu{position:absolute;top:100%;border:1px solid #ccc;border-radius:4px;padding:0;margin:2px 0 0 0;box-shadow:0 0 6px 0 rgba(0, 0, 0, 0.1);background-color:var(--assistantapps-version-dropdown-background-colour, #6c757d);list-style-type:none}.dd-input+.dd-menu{display:none}.dd-input:checked+.dd-menu{display:block}.dd-menu li{padding:10px 20px;cursor:pointer;white-space:nowrap}.dd-menu li:hover{background-color:var(--assistantapps-version-dropdown-background-hover-colour, #7b848b)}.dd-menu li.dd-menu-item{display:flex}.dd-menu li.dd-menu-item img{width:40px;height:40px;margin-right:1em}.dd-menu li.dd-menu-item p{display:flex;flex-direction:column;justify-content:center;margin:0;padding:0}.what-is-new-container{display:grid;grid-template-columns:repeat(3, minmax(0, 1fr));column-gap:1em;row-gap:1em;margin-bottom:3em}@media only screen and (max-width: 1000px){.what-is-new-container{grid-template-columns:repeat(2, minmax(0, 1fr));column-gap:0.5em;row-gap:0.5em}}@media only screen and (max-width: 600px){.what-is-new-container{grid-template-columns:repeat(1, minmax(0, 1fr));column-gap:0.5em;row-gap:0.5em}}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Gs,Vs,s,{},null),e&&e.target&&u(e.target,this,e.anchor)}});const Ks=e=>Ce(e).format("YYYY-MM-DD");function Qs(t){let n,o,r,s,i,a,l,c,h,b,v=Ks(t[3])+"";return{c(){n=g("div"),o=g("div"),r=g("h3"),s=m(t[2]),i=f(),a=g("span"),l=m(v),c=f(),h=g("div"),b=g("assistant-apps-markdown"),this.c=e,w(r,"class","version-name"),w(a,"class","version-date"),w(o,"class","version-header"),y(b,"source",t[1]),w(h,"class","markdown"),w(n,"class","version"),w(n,"data-guid",t[0])},m(e,t){u(e,n,t),d(n,o),d(o,r),d(r,s),d(o,i),d(o,a),d(a,l),d(n,c),d(n,h),d(h,b)},p(e,[t]){4&t&&k(s,e[2]),8&t&&v!==(v=Ks(e[3])+"")&&k(l,v),2&t&&y(b,"source",e[1]),1&t&&w(n,"data-guid",e[0])},i:e,o:e,d(e){e&&p(n)}}}function Zs(e,t,n){let{guid:o=""}=t,{markdown:r=""}=t,{buildname:s=""}=t,{activedate:i=null}=t;return e.$$set=e=>{"guid"in e&&n(0,o=e.guid),"markdown"in e&&n(1,r=e.markdown),"buildname"in e&&n(2,s=e.buildname),"activedate"in e&&n(3,i=e.activedate)},[o,r,s,i]}function Ys(t){let n;return{c(){n=g("div"),n.innerHTML="<p>Please Select an option</p>",w(n,"class","dd-button")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Js(e){let t,n,o,r,s=e[0].name+"",i=null!=e[0].iconUrl&&Xs(e);return{c(){t=g("div"),i&&i.c(),n=f(),o=g("p"),r=m(s),w(t,"class","dd-button")},m(e,s){u(e,t,s),i&&i.m(t,null),d(t,n),d(t,o),d(o,r)},p(e,o){null!=e[0].iconUrl?i?i.p(e,o):(i=Xs(e),i.c(),i.m(t,n)):i&&(i.d(1),i=null),1&o&&s!==(s=e[0].name+"")&&k(r,s)},d(e){e&&p(t),i&&i.d()}}}function Xs(e){let t,n,o;return{c(){t=g("img"),l(t.src,n=e[0].iconUrl)||w(t,"src",n),w(t,"alt",o=e[0].value)},m(e,n){u(e,t,n)},p(e,r){1&r&&!l(t.src,n=e[0].iconUrl)&&w(t,"src",n),1&r&&o!==(o=e[0].value)&&w(t,"alt",o)},d(e){e&&p(t)}}}function ei(t){let n,o,r,s,i,a;function l(e,t){return null!=e[0]?Js:Ys}let c=l(t),h=c(t);return{c(){n=g("label"),h.c(),o=f(),r=g("input"),s=f(),i=g("ul"),i.innerHTML='<slot name="options"><span>No options</span></slot>',this.c=e,w(r,"type","checkbox"),w(r,"class","dd-input"),w(i,"class","dd-menu"),w(n,"class","dropdown noselect"),w(n,"data-selectedoption",a=t[0]?.name??"-")},m(e,t){u(e,n,t),h.m(n,null),d(n,o),d(n,r),d(n,s),d(n,i)},p(e,[t]){c===(c=l(e))&&h?h.p(e,t):(h.d(1),h=c(e),h&&(h.c(),h.m(n,o))),1&t&&a!==(a=e[0]?.name??"-")&&w(n,"data-selectedoption",a)},i:e,o:e,d(e){e&&p(n),h.d()}}}function ti(e,t,n){let{options:o=[]}=t,{selectedvalue:r=null}=t,s=null;return T((()=>{null!=r&&r.length>0&&n(0,s=o.find((e=>e.value==r)))})),e.$$set=e=>{"options"in e&&n(1,o=e.options),"selectedvalue"in e&&n(2,r=e.selectedvalue)},[s,o,r]}customElements.define("assistant-apps-version-search-tile",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(\n      --assistantapps-font-family,\n      "Roboto",\n      Helvetica,\n      Arial,\n      sans-serif\n    );font-weight:var(--assistantapps-font-weight, "bold")}.version{display:flex;flex-direction:column;position:relative;background-color:var(\n      --assistantapps-version-background-colour,\n      rgba(122, 122, 122, 0.7)\n    );border-radius:5px;overflow:hidden}.version-header .version-date{position:absolute;top:1em;right:1em;color:var(--assistantapps-version-text-colour, white)}.version .version-name{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-version-text-colour, white);padding-left:1em;padding-right:0.5em;margin-bottom:0;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.version .markdown{padding-right:0.5em;margin-bottom:0.5em}.version .markdown,.version .markdown *{color:var(--assistantapps-version-text-colour, white);padding:0 1em}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Zs,Qs,s,{guid:0,markdown:1,buildname:2,activedate:3},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["guid","markdown","buildname","activedate"]}get guid(){return this.$$.ctx[0]}set guid(e){this.$$set({guid:e}),I()}get markdown(){return this.$$.ctx[1]}set markdown(e){this.$$set({markdown:e}),I()}get buildname(){return this.$$.ctx[2]}set buildname(e){this.$$set({buildname:e}),I()}get activedate(){return this.$$.ctx[3]}set activedate(e){this.$$set({activedate:e}),I()}});function ni(e){let t,n;return{c(){t=g("img"),l(t.src,n=e[2])||w(t,"src",n),w(t,"alt",e[1])},m(e,n){u(e,t,n)},p(e,o){4&o&&!l(t.src,n=e[2])&&w(t,"src",n),2&o&&w(t,"alt",e[1])},d(e){e&&p(t)}}}function oi(t){let n,o,r,s,i=null!=t[2]&&ni(t);return{c(){n=g("li"),i&&i.c(),o=f(),r=g("p"),s=m(t[0]),this.c=e,w(n,"class","dd-menu-item"),n.value=t[1]},m(e,t){u(e,n,t),i&&i.m(n,null),d(n,o),d(n,r),d(r,s)},p(e,[t]){null!=e[2]?i?i.p(e,t):(i=ni(e),i.c(),i.m(n,o)):i&&(i.d(1),i=null),1&t&&k(s,e[0]),2&t&&(n.value=e[1])},i:e,o:e,d(e){e&&p(n),i&&i.d()}}}function ri(e,t,n){let{name:o=""}=t,{value:r=""}=t,{iconurl:s=null}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"value"in e&&n(1,r=e.value),"iconurl"in e&&n(2,s=e.iconurl)},[o,r,s]}customElements.define("assistant-apps-dropdown",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='.dropdown{display:inline-block;position:relative;margin-bottom:1em;z-index:20}.dd-button{display:flex;border:1px solid gray;border-radius:4px;padding:10px 30px 10px 10px;background-color:var(--assistantapps-dropdown-background-colour, #646464);cursor:pointer;white-space:nowrap}.dd-button:after{content:"";position:absolute;top:50%;right:15px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid var(--assistantapps-dropdown-background-colour, #646464)}.dd-button:hover{background-color:var(--assistantapps-dropdown-background-hover-colour, #7e7e7e)}.dd-button img{width:20px;height:20px;margin-right:0.5em}.dd-button p{display:flex;flex-direction:column;justify-content:center;margin:0;padding:0}.dd-input{display:none}.dd-menu{position:absolute;top:100%;border:1px solid #ccc;border-radius:4px;padding:0;margin:2px 0 0 0;box-shadow:0 0 6px 0 rgba(0, 0, 0, 0.1);background-color:var(--assistantapps-dropdown-background-colour, #646464);list-style-type:none;max-height:500px;overflow-y:auto}.dd-input+.dd-menu{display:none}.dd-input:checked+.dd-menu{display:block}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},ti,ei,s,{options:1,selectedvalue:2},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["options","selectedvalue"]}get options(){return this.$$.ctx[1]}set options(e){this.$$set({options:e}),I()}get selectedvalue(){return this.$$.ctx[2]}set selectedvalue(e){this.$$set({selectedvalue:e}),I()}});function si(e){let t;return{c(){t=g("slot"),t.innerHTML='<div style="text-align: center"><span>Nothing supplied in the <b>loaded</b> slot</span></div>',w(t,"name","loaded")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ii(e){let t;return{c(){t=g("slot"),t.innerHTML='<div class="aa-error"><img src="https://cdn.assistantapps.com/icon/NMSCDCreatureBuilder.png" alt="monster representing an error"/> \n        <p>Something went wrong</p></div>',w(t,"name","error")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ai(e){let t;return{c(){t=g("slot"),w(t,"name","loading")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function li(t){let n;function o(e,t){return e[0]==Uo.Loading?ai:e[0]==Uo.Error?ii:e[0]==Uo.Success?si:void 0}let r=o(t),s=r&&r(t);return{c(){n=g("div"),s&&s.c(),this.c=e,w(n,"class","noselect"),w(n,"data-networkstate",t[0])},m(e,t){u(e,n,t),s&&s.m(n,null)},p(e,[t]){r!==(r=o(e))&&(s&&s.d(1),s=r&&r(e),s&&(s.c(),s.m(n,null))),1&t&&w(n,"data-networkstate",e[0])},i:e,o:e,d(e){e&&p(n),s&&s.d()}}}function ci(e,t,n){let{networkstate:o}=t;return e.$$set=e=>{"networkstate"in e&&n(0,o=e.networkstate)},[o]}customElements.define("assistant-apps-dropdown-option",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent="li{padding:10px 20px;cursor:pointer;white-space:nowrap}li:hover{background-color:var(--assistantapps-version-dropdown-background-hover-colour, #7d7d7d)}li.dd-menu-item{display:flex}li.dd-menu-item img{width:40px;height:40px;margin-right:1em}li.dd-menu-item p{display:flex;flex-direction:column;justify-content:center;margin:0;padding:0}",this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},ri,oi,s,{name:0,value:1,iconurl:2},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["name","value","iconurl"]}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),I()}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),I()}get iconurl(){return this.$$.ctx[2]}set iconurl(e){this.$$set({iconurl:e}),I()}});function di(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}customElements.define("assistant-apps-loading",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent='*{font-family:var(--assistantapps-font-family, "Roboto", Helvetica, Arial, sans-serif);font-weight:var(--assistantapps-font-weight, "bold")}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.aa-error{display:flex;justify-content:center;flex-direction:column}.aa-error img{max-width:100px}.aa-error>*{margin:0 auto}',this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},ci,li,s,{networkstate:0},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["networkstate"]}get networkstate(){return this.$$.ctx[0]}set networkstate(e){this.$$set({networkstate:e}),I()}});let ui={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const pi=/[&<>"']/,hi=new RegExp(pi.source,"g"),gi=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,mi=new RegExp(gi.source,"g"),fi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bi=e=>fi[e];function vi(e,t){if(t){if(pi.test(e))return e.replace(hi,bi)}else if(gi.test(e))return e.replace(mi,bi);return e}const wi=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function yi(e){return e.replace(wi,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const ki=/(^|[^\[])\^/g;function _i(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,o)=>(o=(o=o.source||o).replace(ki,"$1"),e=e.replace(t,o),n),getRegex:()=>new RegExp(e,t)};return n}const xi=/[^\w:]/g,$i=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ti(e,t,n){if(e){let e;try{e=decodeURIComponent(yi(n)).replace(xi,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!$i.test(n)&&(n=function(e,t){Ci[" "+e]||(Si.test(e)?Ci[" "+e]=e+"/":Ci[" "+e]=Oi(e,"/",!0));e=Ci[" "+e];const n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Ai,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(Ei,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const Ci={},Si=/^[^:]+:\/*[^/]*$/,Ai=/^([^:]+:)[\s\S]*$/,Ei=/^([^:]+:\/*[^/]*)[\s\S]*$/;const Pi={exec:function(){}};function Ri(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let o=!1,r=t;for(;--r>=0&&"\\"===n[r];)o=!o;return o?"|":" |"})).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function Oi(e,t,n){const o=e.length;if(0===o)return"";let r=0;for(;r<o;){const s=e.charAt(o-r-1);if(s!==t||n){if(s===t||!n)break;r++}else r++}return e.slice(0,o-r)}function ji(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function Mi(e,t,n,o){const r=t.href,s=t.title?vi(t.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){o.state.inLink=!0;const e={type:"link",raw:n,href:r,title:s,text:i,tokens:o.inlineTokens(i)};return o.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:s,text:vi(i)}}class Ii{constructor(e){this.options=e||ui}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Oi(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const o=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=o.length?e.slice(o.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=Oi(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:o,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,o,r,s,i,a,l,c,d,u,p,h,g=t[1].trim();const m=g.length>1,f={type:"list",raw:"",ordered:m,start:m?+g.slice(0,-1):"",loose:!1,items:[]};g=m?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=m?g:"[*+-]");const b=new RegExp(`^( {0,3}${g})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,t=b.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),d=e.split("\n",1)[0],this.options.pedantic?(s=2,p=c.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,p=c.slice(s),s+=t[1].length),a=!1,!c&&/^ *$/.test(d)&&(n+=d+"\n",e=e.substring(d.length+1),h=!0),!h){const t=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),o=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),r=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(u=e.split("\n",1)[0],d=u,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!r.test(d))&&!i.test(d)&&!t.test(d)&&!o.test(e);){if(d.search(/[^ ]/)>=s||!d.trim())p+="\n"+d.slice(s);else{if(a)break;if(c.search(/[^ ]/)>=4)break;if(r.test(c))break;if(i.test(c))break;if(o.test(c))break;p+="\n"+d}a||d.trim()||(a=!0),n+=u+"\n",e=e.substring(u.length+1),c=d.slice(s)}}f.loose||(l?f.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(p),o&&(r="[ ] "!==o[0],p=p.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:n,task:!!o,checked:r,loose:!1,text:p}),f.raw+=n}f.items[f.items.length-1].raw=n.trimRight(),f.items[f.items.length-1].text=p.trimRight(),f.raw=f.raw.trimRight();const v=f.items.length;for(i=0;i<v;i++)if(this.lexer.state.top=!1,f.items[i].tokens=this.lexer.blockTokens(f.items[i].text,[]),!f.loose){const e=f.items[i].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));f.loose=t}if(f.loose)for(i=0;i<v;i++)f.items[i].loose=!0;return f}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):vi(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:Ri(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,o,r,s,i=e.align.length;for(n=0;n<i;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(i=e.rows.length,n=0;n<i;n++)e.rows[n]=Ri(e.rows[n],e.header.length).map((e=>({text:e})));for(i=e.header.length,o=0;o<i;o++)e.header[o].tokens=this.lexer.inline(e.header[o].text);for(i=e.rows.length,o=0;o<i;o++)for(s=e.rows[o],r=0;r<s.length;r++)s[r].tokens=this.lexer.inline(s[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:vi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):vi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=Oi(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let o=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])o++;else if(e[r]===t[1]&&(o--,o<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],o="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],o=e[3])}else o=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),Mi(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:o?o.replace(this.rules.inline._escapes,"$1"):o},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Mi(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o)return;if(o[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=o[1]||o[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){const n=o[0].length-1;let r,s,i=n,a=0;const l="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(o=l.exec(t));){if(r=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!r)continue;if(s=r.length,o[3]||o[4]){i+=s;continue}if((o[5]||o[6])&&n%3&&!((n+s)%3)){a+=s;continue}if(i-=s,i>0)continue;s=Math.min(s,s+i+a);const t=e.slice(0,n+o.index+(o[0].length-r.length)+s);if(Math.min(n,s)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),o=/^ /.test(e)&&/ $/.test(e);return n&&o&&(e=e.substring(1,e.length-1)),e=vi(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,o;return"@"===n[2]?(e=vi(this.options.mangle?t(n[1]):n[1]),o="mailto:"+e):(e=vi(n[1]),o=e),{type:"link",raw:n[0],text:e,href:o,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,o;if("@"===n[2])e=vi(this.options.mangle?t(n[0]):n[0]),o="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=vi(n[0]),o="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:o,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):vi(n[0]):n[0]:vi(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const Hi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Pi,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Hi.def=_i(Hi.def).replace("label",Hi._label).replace("title",Hi._title).getRegex(),Hi.bullet=/(?:[*+-]|\d{1,9}[.)])/,Hi.listItemStart=_i(/^( *)(bull) */).replace("bull",Hi.bullet).getRegex(),Hi.list=_i(Hi.list).replace(/bull/g,Hi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Hi.def.source+")").getRegex(),Hi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Hi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Hi.html=_i(Hi.html,"i").replace("comment",Hi._comment).replace("tag",Hi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Hi.paragraph=_i(Hi._paragraph).replace("hr",Hi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hi._tag).getRegex(),Hi.blockquote=_i(Hi.blockquote).replace("paragraph",Hi.paragraph).getRegex(),Hi.normal={...Hi},Hi.gfm={...Hi.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Hi.gfm.table=_i(Hi.gfm.table).replace("hr",Hi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hi._tag).getRegex(),Hi.gfm.paragraph=_i(Hi._paragraph).replace("hr",Hi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Hi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hi._tag).getRegex(),Hi.pedantic={...Hi.normal,html:_i("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Hi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pi,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_i(Hi.normal._paragraph).replace("hr",Hi.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Hi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Di={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Pi,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Pi,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Li(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Ni(e){let t,n,o="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),o+="&#"+n+";";return o}Di._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Di.punctuation=_i(Di.punctuation).replace(/punctuation/g,Di._punctuation).getRegex(),Di.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Di.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Di._comment=_i(Hi._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Di.emStrong.lDelim=_i(Di.emStrong.lDelim).replace(/punct/g,Di._punctuation).getRegex(),Di.emStrong.rDelimAst=_i(Di.emStrong.rDelimAst,"g").replace(/punct/g,Di._punctuation).getRegex(),Di.emStrong.rDelimUnd=_i(Di.emStrong.rDelimUnd,"g").replace(/punct/g,Di._punctuation).getRegex(),Di._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Di._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Di._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Di.autolink=_i(Di.autolink).replace("scheme",Di._scheme).replace("email",Di._email).getRegex(),Di._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Di.tag=_i(Di.tag).replace("comment",Di._comment).replace("attribute",Di._attribute).getRegex(),Di._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Di._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Di._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Di.link=_i(Di.link).replace("label",Di._label).replace("href",Di._href).replace("title",Di._title).getRegex(),Di.reflink=_i(Di.reflink).replace("label",Di._label).replace("ref",Hi._label).getRegex(),Di.nolink=_i(Di.nolink).replace("ref",Hi._label).getRegex(),Di.reflinkSearch=_i(Di.reflinkSearch,"g").replace("reflink",Di.reflink).replace("nolink",Di.nolink).getRegex(),Di.normal={...Di},Di.pedantic={...Di.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:_i(/^!?\[(label)\]\((.*?)\)/).replace("label",Di._label).getRegex(),reflink:_i(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Di._label).getRegex()},Di.gfm={...Di.normal,escape:_i(Di.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Di.gfm.url=_i(Di.gfm.url,"i").replace("email",Di.gfm._extended_email).getRegex(),Di.breaks={...Di.gfm,br:_i(Di.br).replace("{2,}","*").getRegex(),text:_i(Di.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class zi{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ui,this.options.tokenizer=this.options.tokenizer||new Ii,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Hi.normal,inline:Di.normal};this.options.pedantic?(t.block=Hi.pedantic,t.inline=Di.pedantic):this.options.gfm&&(t.block=Hi.gfm,this.options.breaks?t.inline=Di.breaks:t.inline=Di.gfm),this.tokenizer.rules=t}static get rules(){return{block:Hi,inline:Di}}static lex(e,t){return new zi(t).lex(e)}static lexInline(e,t){return new zi(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,o,r,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((o=>!!(n=o.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let o;this.options.extensions.startBlock.forEach((function(e){o=e.call({lexer:this},n),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n),s=r.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,o,r,s,i,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+ji("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,s.index)+"["+ji("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,s.index+s[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(i||(a=""),i=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((o=>!!(n=o.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,Ni))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,Ni))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let o;this.options.extensions.startInline.forEach((function(e){o=e.call({lexer:this},n),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(r,Li))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),i=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Ui{constructor(e){this.options=e||ui}code(e,t,n){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,o);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+vi(o)+'">'+(n?e:vi(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:vi(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,o){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+o.slug(n)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=Ti(this.options.sanitize,this.options.baseUrl,e)))return n;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){if(null===(e=Ti(this.options.sanitize,this.options.baseUrl,e)))return n;let o=`<img src="${e}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class Fi{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class qi{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,o=0;if(this.seen.hasOwnProperty(n)){o=this.seen[e];do{o++,n=e+"-"+o}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=o,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Bi{constructor(e){this.options=e||ui,this.options.renderer=this.options.renderer||new Ui,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Fi,this.slugger=new qi}static parse(e,t){return new Bi(t).parse(e)}static parseInline(e,t){return new Bi(t).parseInline(e)}parse(e,t=!0){let n,o,r,s,i,a,l,c,d,u,p,h,g,m,f,b,v,w,y,k="";const _=e.length;for(n=0;n<_;n++)if(u=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(y=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==y||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))k+=y||"";else switch(u.type){case"space":continue;case"hr":k+=this.renderer.hr();continue;case"heading":k+=this.renderer.heading(this.parseInline(u.tokens),u.depth,yi(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":k+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(c="",l="",s=u.header.length,o=0;o<s;o++)l+=this.renderer.tablecell(this.parseInline(u.header[o].tokens),{header:!0,align:u.align[o]});for(c+=this.renderer.tablerow(l),d="",s=u.rows.length,o=0;o<s;o++){for(a=u.rows[o],l="",i=a.length,r=0;r<i;r++)l+=this.renderer.tablecell(this.parseInline(a[r].tokens),{header:!1,align:u.align[r]});d+=this.renderer.tablerow(l)}k+=this.renderer.table(c,d);continue;case"blockquote":d=this.parse(u.tokens),k+=this.renderer.blockquote(d);continue;case"list":for(p=u.ordered,h=u.start,g=u.loose,s=u.items.length,d="",o=0;o<s;o++)f=u.items[o],b=f.checked,v=f.task,m="",f.task&&(w=this.renderer.checkbox(b),g?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=w+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=w+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(f.tokens,g),d+=this.renderer.listitem(m,v,b);k+=this.renderer.list(d,p,h);continue;case"html":k+=this.renderer.html(u.text);continue;case"paragraph":k+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(d=u.tokens?this.parseInline(u.tokens):u.text;n+1<_&&"text"===e[n+1].type;)u=e[++n],d+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);k+=t?this.renderer.paragraph(d):d;continue;default:{const e='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return k}parseInline(e,t){t=t||this.renderer;let n,o,r,s="";const i=e.length;for(n=0;n<i;n++)if(o=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(r=this.options.extensions.renderers[o.type].call({parser:this},o),!1!==r||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))s+=r||"";else switch(o.type){case"escape":case"text":s+=t.text(o.text);break;case"html":s+=t.html(o.text);break;case"link":s+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":s+=t.image(o.href,o.title,o.text);break;case"strong":s+=t.strong(this.parseInline(o.tokens,t));break;case"em":s+=t.em(this.parseInline(o.tokens,t));break;case"codespan":s+=t.codespan(o.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(o.tokens,t));break;default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return s}}class Wi{constructor(e){this.options=e||ui}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function Vi(e,t){return(n,o,r)=>{"function"==typeof o&&(r=o,o=null);const s={...o},i=function(e,t,n){return o=>{if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+vi(o.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(o);if(!n)throw o;n(o)}}((o={...Gi.defaults,...s}).silent,o.async,r);if(null==n)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(o),o.hooks&&(o.hooks.options=o),r){const s=o.highlight;let a;try{o.hooks&&(n=o.hooks.preprocess(n)),a=e(n,o)}catch(e){return i(e)}const l=function(e){let n;if(!e)try{o.walkTokens&&Gi.walkTokens(a,o.walkTokens),n=t(a,o),o.hooks&&(n=o.hooks.postprocess(n))}catch(t){e=t}return o.highlight=s,e?i(e):r(null,n)};if(!s||s.length<3)return l();if(delete o.highlight,!a.length)return l();let c=0;return Gi.walkTokens(a,(function(e){"code"===e.type&&(c++,setTimeout((()=>{s(e.text,e.lang,(function(t,n){if(t)return l(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),c--,0===c&&l()}))}),0))})),void(0===c&&l())}if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then((t=>e(t,o))).then((e=>o.walkTokens?Promise.all(Gi.walkTokens(e,o.walkTokens)).then((()=>e)):e)).then((e=>t(e,o))).then((e=>o.hooks?o.hooks.postprocess(e):e)).catch(i);try{o.hooks&&(n=o.hooks.preprocess(n));const r=e(n,o);o.walkTokens&&Gi.walkTokens(r,o.walkTokens);let s=t(r,o);return o.hooks&&(s=o.hooks.postprocess(s)),s}catch(e){return i(e)}}}function Gi(e,t,n){return Vi(zi.lex,Bi.parse)(e,t,n)}function Ki(t){let n,o=t[1](t[0])+"";return{c(){n=g("div"),this.c=e,w(n,"class","markdown")},m(e,t){u(e,n,t),n.innerHTML=o},p(e,[t]){1&t&&o!==(o=e[1](e[0])+"")&&(n.innerHTML=o)},i:e,o:e,d(e){e&&p(n)}}}function Qi(e,t,n){let o=Gi,{source:r=""}=t;return e.$$set=e=>{"source"in e&&n(0,r=e.source)},[r,o]}Gi.options=Gi.setOptions=function(e){var t;return Gi.defaults={...Gi.defaults,...e},t=Gi.defaults,ui=t,Gi},Gi.getDefaults=di,Gi.defaults=ui,Gi.use=function(...e){const t=Gi.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n={...e};if(n.async=Gi.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let o=e.renderer.apply(this,t);return!1===o&&(o=n.apply(this,t)),o}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=Gi.defaults.renderer||new Ui;for(const n in e.renderer){const o=t[n];t[n]=(...r)=>{let s=e.renderer[n].apply(t,r);return!1===s&&(s=o.apply(t,r)),s}}n.renderer=t}if(e.tokenizer){const t=Gi.defaults.tokenizer||new Ii;for(const n in e.tokenizer){const o=t[n];t[n]=(...r)=>{let s=e.tokenizer[n].apply(t,r);return!1===s&&(s=o.apply(t,r)),s}}n.tokenizer=t}if(e.hooks){const t=Gi.defaults.hooks||new Wi;for(const n in e.hooks){const o=t[n];Wi.passThroughHooks.has(n)?t[n]=r=>{if(Gi.defaults.async)return Promise.resolve(e.hooks[n].call(t,r)).then((e=>o.call(t,e)));const s=e.hooks[n].call(t,r);return o.call(t,s)}:t[n]=(...r)=>{let s=e.hooks[n].apply(t,r);return!1===s&&(s=o.apply(t,r)),s}}n.hooks=t}if(e.walkTokens){const t=Gi.defaults.walkTokens;n.walkTokens=function(n){let o=[];return o.push(e.walkTokens.call(this,n)),t&&(o=o.concat(t.call(this,n))),o}}Gi.setOptions(n)}))},Gi.walkTokens=function(e,t){let n=[];for(const o of e)switch(n=n.concat(t.call(Gi,o)),o.type){case"table":for(const e of o.header)n=n.concat(Gi.walkTokens(e.tokens,t));for(const e of o.rows)for(const o of e)n=n.concat(Gi.walkTokens(o.tokens,t));break;case"list":n=n.concat(Gi.walkTokens(o.items,t));break;default:Gi.defaults.extensions&&Gi.defaults.extensions.childTokens&&Gi.defaults.extensions.childTokens[o.type]?Gi.defaults.extensions.childTokens[o.type].forEach((function(e){n=n.concat(Gi.walkTokens(o[e],t))})):o.tokens&&(n=n.concat(Gi.walkTokens(o.tokens,t)))}return n},Gi.parseInline=Vi(zi.lexInline,Bi.parseInline),Gi.Parser=Bi,Gi.parser=Bi.parse,Gi.Renderer=Ui,Gi.TextRenderer=Fi,Gi.Lexer=zi,Gi.lexer=zi.lex,Gi.Tokenizer=Ii,Gi.Slugger=qi,Gi.Hooks=Wi,Gi.parse=Gi,Gi.options,Gi.setOptions,Gi.use,Gi.walkTokens,Gi.parseInline,Bi.parse,zi.lex;function Zi(t){let n,o,r,s,i;return{c(){n=g("div"),o=g("slot"),r=f(),s=g("span"),i=m(t[0]),this.c=e,w(s,"class","tooltiptext"),w(n,"class","tooltip")},m(e,t){u(e,n,t),d(n,o),d(n,r),d(n,s),d(s,i)},p(e,[t]){1&t&&k(i,e[0])},i:e,o:e,d(e){e&&p(n)}}}function Yi(e,t,n){let{tooltiptext:o=""}=t;return e.$$set=e=>{"tooltiptext"in e&&n(0,o=e.tooltiptext)},[o]}customElements.define("assistant-apps-markdown",class extends U{constructor(e){super(),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Qi,Ki,s,{source:0},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["source"]}get source(){return this.$$.ctx[0]}set source(e){this.$$set({source:e}),I()}});customElements.define("assistant-apps-tooltip",class extends U{constructor(e){super();const t=document.createElement("style");t.textContent=".tooltip{position:relative;display:inline-block}.tooltip .tooltiptext{left:50%;bottom:120%;min-width:100px;margin-left:-50%;visibility:hidden;background-color:var(\n            --assistantapps-tooltip-background-colour,\n            #383838\n        );color:var(--assistantapps-tooltip-text-colour, #ffffff);text-align:center;border-radius:6px;padding:0.25em 0.5em;position:absolute;z-index:1}.tooltip:hover .tooltiptext{visibility:visible}",this.shadowRoot.appendChild(t),z(this,{target:this.shadowRoot,props:_(this.attributes),customElement:!0},Yi,Zi,s,{tooltiptext:0},null),e&&(e.target&&u(e.target,this,e.anchor),e.props&&(this.$set(e.props),I()))}static get observedAttributes(){return["tooltiptext"]}get tooltiptext(){return this.$$.ctx[0]}set tooltiptext(e){this.$$set({tooltiptext:e}),I()}}),console.log("AssistantApps.WebComponents v1.3.0")}();
//# sourceMappingURL=bundle.js.map
