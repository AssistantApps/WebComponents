!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a,i;function c(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function l(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:m(t,e,n)}function g(t){const e={};for(const n of t)e[n.name]=n.value;return e}function $(t){i=t}function b(t){(function(){if(!i)throw new Error("Function called outside component initialization");return i})().$$.on_mount.push(t)}const y=[],w=[],x=[],v=[],_=Promise.resolve();let E=!1;function k(t){x.push(t)}let S=!1;const j=new Set;function C(){if(!S){S=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];$(e),L(e.$$)}for($(null),y.length=0;w.length;)w.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];j.has(e)||(j.add(e),e())}x.length=0}while(y.length);for(;v.length;)v.pop()();E=!1,S=!1,j.clear()}}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const M=new Set;function A(t,e){-1===t.$$.dirty[0]&&(y.push(t),E||(E=!0,_.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(s,a,c,l,u,d,f,m=[-1]){const h=i;$(s);const g=s.$$={fragment:null,ctx:null,props:d,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(h?h.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:a.target||h.$$.root};f&&f(g.root);let b=!1;if(g.ctx=c?c(s,a.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&u(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),b&&A(s,t)),e})):[],g.update(),b=!0,o(g.before_update),g.fragment=!!l&&l(g.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);g.fragment&&g.fragment.l(t),t.forEach(p)}else g.fragment&&g.fragment.c();a.intro&&((y=s.$$.fragment)&&y.i&&(M.delete(y),y.i(w))),function(t,n,s,a){const{fragment:i,on_mount:c,on_destroy:l,after_update:u}=t.$$;i&&i.m(n,s),a||k((()=>{const n=c.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(k)}(s,a.target,a.anchor,a.customElement),C()}var y,w;$(h)}let U;"function"==typeof HTMLElement&&(U=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(r);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});const O={};class H extends class{constructor(t){var e,n;this._baseUrl=null!==(n=null===(e=window.config)||void 0===e?void 0:e.apiUrl)&&void 0!==n?n:"https://api.assistantapps.com",null!=t&&(this._baseUrl=t)}async get(t){try{const e=await fetch(`${this._baseUrl}/${t}`);return{isSuccess:!0,value:await e.json(),errorMessage:""}}catch(t){return{isSuccess:!1,value:O,errorMessage:t.message}}}async post(t,e,n){try{const o=await fetch(`${this._baseUrl}/${t}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),r=await o.json();return null!=n?n(r):{isSuccess:!0,value:r,errorMessage:""}}catch(t){return{isSuccess:!1,value:O,errorMessage:t.message}}}}{constructor(){var t;super(null===(t=window.config)||void 0===t?void 0:t.assistantAppsUrl)}async getPatronsList(){return await this.get("patreon")}async getWhatIsNewItems(t){return await this.post("Version/Search",t,(t=>Object.assign(Object.assign({},t.data),{isSuccess:!0,errorMessage:""})))}}var N;function R(t,e,n){const o=t.slice();return o[3]=e[n],o}function P(t){let e,n=t[1],o=[];for(let e=0;e<n.length;e+=1)o[e]=q(R(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=f("")},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);u(t,e,n)},p(t,r){if(2&r){let s;for(n=t[1],s=0;s<n.length;s+=1){const a=R(t,n,s);o[s]?o[s].p(a,r):(o[s]=q(a),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(o,t),t&&p(e)}}}function z(e){let n;return{c(){n=d("span"),n.textContent="Something went wrong..."},m(t,e){u(t,n,e)},p:t,d(t){t&&p(n)}}}function I(e){let n;return{c(){n=d("span"),n.textContent="Loading..."},m(t,e){u(t,n,e)},p:t,d(t){t&&p(n)}}}function q(t){let e,n,o;return{c(){e=d("assistant-apps-patron-tile"),h(e,"name",n=t[3].name),h(e,"imageurl",o=t[3].imageUrl)},m(t,n){u(t,e,n)},p(t,r){2&r&&n!==(n=t[3].name)&&h(e,"name",n),2&r&&o!==(o=t[3].imageUrl)&&h(e,"imageurl",o)},d(t){t&&p(e)}}}function B(e){let n;function o(t,e){return t[0]===N.Loading?I:t[0]===N.Error?z:P}let r=o(e),s=r(e);return{c(){n=d("div"),s.c(),this.c=t,m(n,"class","patreon-container noselect")},m(t,e){u(t,n,e),s.m(n,null)},p(t,[e]){r===(r=o(t))&&s?s.p(t,e):(s.d(1),s=r(t),s&&(s.c(),s.m(n,null)))},i:t,o:t,d(t){t&&p(n),s.d()}}}function F(t,e,n){let o=N.Loading,r=[];return b((async()=>{(async()=>{const t=new H,e=await t.getPatronsList();console.log(e),!1!==e.isSuccess?(n(1,r=e.value),n(0,o=N.Success)):n(0,o=N.Error)})()})),[o,r]}!function(t){t[t.Loading=0]="Loading",t[t.Success=1]="Success",t[t.Error=2]="Error"}(N||(N={}));function J(e){let n,o,r,s,a,i;return{c(){n=d("div"),o=d("img"),s=f(" "),a=d("h2"),i=f(e[0]),this.c=t,c(o.src,r=e[1])||m(o,"src",r),m(o,"alt",e[0]),m(o,"class","patron-img"),m(a,"class","patron-name"),m(n,"class","patron")},m(t,e){u(t,n,e),l(n,o),l(n,s),l(n,a),l(a,i)},p(t,[e]){2&e&&!c(o.src,r=t[1])&&m(o,"src",r),1&e&&m(o,"alt",t[0]),1&e&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(i,t[0])},i:t,o:t,d(t){t&&p(n)}}}function V(t,e,n){let{name:o=""}=e,{imageurl:r=""}=e;return t.$$set=t=>{"name"in t&&n(0,o=t.name),"imageurl"in t&&n(1,r=t.imageurl)},[o,r]}customElements.define("assistant-apps-patreon-list",class extends U{constructor(t){super(),this.shadowRoot.innerHTML='<style>*{font-family:var(\n            --assistantapps-font-family,\n            "Roboto",\n            Helvetica,\n            Arial,\n            sans-serif\n        )}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.patreon-container{display:grid;grid-template-columns:repeat(3, 1fr);column-gap:1em;row-gap:1em;margin-bottom:3em}@media only screen and (max-width: 600px){.patreon-container{grid-template-columns:repeat(1, 1fr);column-gap:0.5em;row-gap:0.5em}}</style>',T(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},F,B,s,{},null),t&&t.target&&u(t.target,this,t.anchor)}});function W(e){let n;return{c(){n=d("h1"),n.textContent=`Hello ${D}!`,this.c=t},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}customElements.define("assistant-apps-patron-tile",class extends U{constructor(t){super(),this.shadowRoot.innerHTML="<style>.patron{display:flex;background-color:var(\n            --assistantapps-patron-background-colour,\n            #6c757d\n        );border-radius:5px;overflow:hidden}.patron img.patron-img{height:100px;width:100px;object-fit:cover;margin:0}.patron .patron-name{display:flex;flex-direction:column;justify-content:center;color:var(--assistantapps-patron-text-colour, white);padding-left:1em;line-height:1.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}</style>",T(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},V,J,s,{name:0,imageurl:1},null),t&&(t.target&&u(t.target,this,t.anchor),t.props&&(this.$set(t.props),C()))}static get observedAttributes(){return["name","imageurl"]}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),C()}get imageurl(){return this.$$.ctx[1]}set imageurl(t){this.$$set({imageurl:t}),C()}});let D="world";customElements.define("my-counter",class extends U{constructor(t){super(),T(this,{target:this.shadowRoot,props:g(this.attributes),customElement:!0},null,W,s,{},null),t&&t.target&&u(t.target,this,t.anchor)}})}();
//# sourceMappingURL=bundle.js.map
